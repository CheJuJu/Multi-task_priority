1 1 1.0 1.0 1.2 1.5 1.3 1.5 1.0 1.0 0.9285714285714286 14 1.0 7 15 18 82	[ amp-story ] Allow more parameters in zoom/pan animations . Right now we only allow publishers to specify an : animate-in-duration . and : animate-in-delay . . The duration allows us to control the speed of the animation but not the position . Our new proposal is to expose the start/end arguments of the zoom and pan animations : e.g. Scales the image from 1x to 3x over 4 seconds : : animate-in='zoom ' . : animate-in-duration='4s ' . : scale-start='1 ' . : scale-end='3 ' . Translates the image -200px horizontally over 4 seconds : : animate-in='pan-left ' . : animate-in-duration='4s ' . : translate-x='200px ' .  	0	1
2 2 1.2 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 5 16 64	[ A11Y ] Sidebar should disallow discovering items not in the sidebar . What's the issue ? When : amp-sidebar . is open , the content outside of it should not be discover-able by screen readers . E.g. you should not be able to explore content that is bellow the ' . i-amphtml-sidebar-mask ' element , which will include things like the footer links . How do we reproduce the issue ? Enable Talkback on Android ( or your your favorite screen reader on your favorite device ) Go to the < URL > page Open the example given , using the ' Toggle Sidebar ' or ' Open Sidebar ' buttons . Navigate through the elements , and once you reach the end of the sidebar content you will have the ' close button ' ( see #5517 ) and then you will discover other parts of the page that should not be there until the sidebar is closed . I'm not sure if something like : aria-hidden='true ' . on the body with : aria-hidden='false ' . on the sidebar would work , but something on those lines should be implemented . Maybe all the direct children of the body tag should be hidden except for the activated sidebar . side note : You can also see this issue with the main menu on the : ampproject.org . website , but there is also an extra issue with the sub-menus being discover-able all the time and focus not being changed when a sub-menu is activated ( the checkbox that controls the visibility does not lose focus ) , which makes the navigation painful . What browsers are affected ? All browsers and devices Which AMP version is affected ? Latest  	1	2
2 2 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3 10 1.0 0 0 8 68	Add start/stop autoplay actions to amp-carousel . An AMP implementer needs start/stop on : amp-carousel . for ADA compliance . < URL > /cc @aghassemi	1	1
1 1 1.4 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 1.4285714285714286 7 1.0 8 19 27 118	amp-fx doesn't validate combined presets . E.g. : amp-fx='parallax fade-in ' .  	0	0
1 1 1.0 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.0 1 1.0 0 9 19 101	SVG support in mustache templates . Track the effort to support SVG in amp mustache templates . As mentioned and discussed in this issue #1156 assess DOMPurify integration or adopt similar logic in amp mustache . This is just usage in templates assess future work to integrate similar logic into the validator for usage outside of templates .	1	1
1 1 1.0 1.0 1.4 1.5 1.35 1.0 1.3333333333333333 1.0 1.6 35 2.0 2 4 4 36	VideoManager : isInteractive () can dynamically change now with amp-bind . video-manager needs to support : isInteractive () . changing at runtime since : controls . attribute can change with bind . It should become an observable .	1	0
0 0 0.6 1.0 0.9 1.0 1.05 1.0 0.3333333333333333 0.0 1.0158730158730158 63 1.0 3 3 22 109	Cannot read property ' contains ' of null . Error at : go/ampe/CLS27emlybuh5AE Occurring 4,987 / day , version 1535579255907 . Stacktrace : Cannot read property ' contains ' of null at transferTo ( < URL > at ( < URL > at setupElement_ ( < URL > at registerServiceBuilder ( < URL > . Note : this error is new and has not been seen before this release . [  ] 	0	0
1 1 1.2 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 1.6 5 2.0 7 10 23 91	amp-story-bookend - Error fetching bookend configuration Cannot read property ' push ' of undefined . When I load the bookend I receive the following error in the console : : log . js : 164 Error fetching bookend configuration Cannot read property ' push ' of undefined . Tested on Linux and Mac Sample here : < URL > To resolve : Need to enable the dev-channel experiment on < URL > and reload ( reloading with cmd+shift+R to clear cache ) .  	0	0
0 0 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.0344827586206897 29 1.0 1 12 28 106	FR : Support `this` as a target for actions . Currently actions in AMP are tied to a specific element ( : targetId . ) or one of the special targets ( eg : AMP . setState () . or : myElmentId . toggleClass (...) . . I'd like to add a new target : THIS . . Doing so would allow constructs like : on='tap:THIS . toggleClass('active ' ) . which would treat the element that is the event source as the target with no need to assign a specific id . This will greatly simplify creating pages with many repeated elements that have a similar action .	2	1
2 2 1.4 2.0 1.2 1.5 0.9 1.0 1.3333333333333333 2.0 1.120879120879121 182 1.0 3 5 10 52	Share and sidebar UI controls should not be displayed while ads are onscreen on mobile . When a story is viewed on mobile , the share and sidebar icons should be hidden while the user is on an ad . /cc @calebcordry @ampproject /wg-stories	2	0
1 1 0.8 1.0 1.2 1.0 1.3 1.0 0.6666666666666666 1.0 0.8823529411764706 17 1.0 3 9 14 84	Reduce the number of getBoundingClientRect () for amp-story-page . We are calling : getBoundingClientRect () . on a number of places inside the : amp-story . codebase , when we could store the : DOMRect . value in the : amp-story-store-service . and avoid doing the same kind of expensive operations repeatedly .	1	0
0 0 0.6 0.0 0.7 0.5 0.9 1.0 0.3333333333333333 0.0 1.375 8 1.5 6 17 31 122	Amp-ad test failure in old chrome . : Chrome 45.0.2454 ( Linux 0.0.0 ) Ad loader amp-ad falls back to Delayed Fetch if remote . html is used FAILED Typedoc . head . append is not a function at /tmp/2f06726ddd8d00d626276bbae795cee0 . browserify : 31169:20 <- /home/travis/build/ampproject/amphtml/extensions/amp-ad/ 0.1 /test/test-amp-ad . js : 143:19 ....... Chrome 45.0.2454 ( Linux 0.0.0 ) Ad loader amp-embed falls back to Delayed Fetch if remote . html is used FAILED Typedoc . head . append is not a function at /tmp/2f06726ddd8d00d626276bbae795cee0 . browserify : 31169:20 <- /home/travis/build/ampproject/amphtml/extensions/amp-ad/ 0.1 /test/test-amp-ad . js : 143:19 . From < URL > [  ] 	0	0
1 1 1.4 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 1.5227272727272727 44 2.0 3 5 17 59	< amp-app-banner > is broken . < URL > shows it to be broken . In this case it is a 404 on the . json but even examples/article . html which has this banner isn't working . @ampproject /wg-ui-and-a11y @caroqliu  	0	0
0 0 0.6 0.0 0.8 0.5 0.9 1.0 0.6666666666666666 0.0 0.6682242990654206 214 1.0 4 10 13 48	[ Story ] Expand the tap safety zone on large devices . The tap safety zones that ignores a link and navigates to the next page on the vertical edges of the screen should be expanded . They should be a % of the page width , with a minimum of 48px . cc @ampproject /wg-stories  	0	1
1 1 1.0 1.0 1.0 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 9 25 90	[ amp-list ] Items repeated when using load-more='auto ' . What's the issue ? When using : amp-list . with : load-more='auto ' . , sometimes some items will repeat twice when you scroll the page very fast . How do we reproduce the issue ? Visit < URL > Fast scrolling page You will see some items are repeated Source code based on < URL > What browsers are affected ? Tested on Chrome 73 and Firefox , only Chrome has this issue . Which AMP version is affected ? Version 1903141753530  	0	0
2 2 1.2 1.0 1.2 1.0 1.0 1.0 1.0 1.0 1.3 30 1.0 9 10 23 88	[ Master Feature ] Implement support for ad server served ads in AMP Stories . Related to #12381 . Background here : < URL > Provide the ability for ad servers to return single page or sponsored story ad from an ad server so that it's spliced in real time into the organic story .	1	1
0 0 0.6 0.0 0.7 0.5 0.75 1.0 1.0 1.0 1.6923076923076923 13 2.0 1 9 23 60	amp-form : Presence of verify-xhr breaks forms on pages served by AMP Cache . What's the issue ? Given the : amp-form . example : < URL > There is this ???Form Verification : as-you-go ???example : Normally if I type ???error ???then the result is : But putting something something else in the field and pressing ???Check ???results in : Hoever , now try the same for the page served by the AMP Cache : < URL > Nothing happens after entering ???error ???and hitting tab : There is actually an error in the console that was added when the page loaded : form verify-xhr should not be on AMP CDN : form???????????????Trying to put in another value and clicking ???Check ???does nothing : How do we reproduce the issue ? Create a form with a : verify-xhr . attribute and access the containing page on the AMP Cache . Try the ???Form Verification : as-you-go ???form example : < URL > What browsers are affected ? All browsers . Which AMP version is affected ? v2004240001480	1	0
1 1 1.2 1.0 0.9 1.0 0.9 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 4 8 34	AMP Carousel affected by changes in Chrome feature to make scroll offset interoperable in non-default writing mode . What's the issue ? Chrome is launching a < URL > that would change the reports scroll offsets ( Element . scrollTop , Element . scrollLeft ) when the scroller has a non-default writing mode ( e.g. , righ t-t o-left , top-to-bottom ) . Previously these values would start at MAX and go to zero . Once feature is launched , these values would start at zero and go to negative (-Max ) . This change makes the Chrome behavior match the specification and other browsers including Firefox and Safari . See this FAQ for more < URL > or reach our to fwang@igalia.com or majidvp@chromium.org for more information . We believe the logic for AMP carousel v1 depends on the legacy behavior and may be affected by this feature . Feature is to be launch soon with next stable release of Chrome . How do we reproduce the issue ? Launch Chrome canary with this flag : -- enable-cssom-view-scroll-coordinates . . Visit this < URL > and watch the top auto-rotating carousel . It seems to be getting reset to the incorrect slide . What browsers are affected ? Tested on Chrome * stable without flag : 83.0.4103.116 ( Official Build ) ( 64-bit ) * canary with flag : 86.0.4198.2 ( Official Build ) canary ( 64-bit ) Funny enough the resetting behavior is broken in both cases . So perhaps there is a deeper issue with how carousel works in non default-writing mode language . Which AMP version is affected ? Powered by AMP ???HTML ???Version 2006180239003  	0	0
2 2 1.0 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 0 0.0 2 6 6 32	Wrong LargestContentfulPaint for direct page visits . What's the issue ? LCP metric for directly visited AMP pages is entirely wrong . How do we reproduce the issue ? Open /test/manual/amp-analytics/core-web-vitals . html from this project Open dev tools performance tab Reload the page with profiling Make tab inactive , then active ( to send metric ) Look at the network requests ; you'll find something like this - ' < URL > Compare performance tab LCP metric and value sent in the request They will be different And sometimes request LCP will be equal to 0 What browsers are affected ? I use Chrome for Mac ( ver 90 ) But I think it's broken pretty much everywhere Which AMP version is affected ? 2105121154000  	0	0
1 1 1.2 1.0 1.0 1.0 1.2 1.0 0.6666666666666666 1.0 0.625 232 1.0 0 9 19 50	[ Story Player ] Fix script import path to local build . Loading a local build of the Player in a development environment should work like any other extension . We should be able to specify : : < script async src='<URL>'></script> . But instead this fails and loads the production build . Today , we need to specifically write : < script async src=' .. / .. /dist/amp-story-player . js'></script> . , which is unlike other extensions and brings confusion in local development . cc @ampproject /wg-stories  	0	1
1 1 0.8 1.0 1.1 1.0 1.05 1.0 0.3333333333333333 0.0 1.4545454545454546 11 2.0 2 3 17 106	[ Feature Request ] amp-carousel should have badge with what slide we are on . It should have the badge counter on the top-{left/right } depending on ltr or rtl . cc @spacedino @aghassemi @ericlindley -g	2	1
1 1 1.4 1.0 1.0 1.0 0.8 1.0 1.3333333333333333 1.0 1.182608695652174 115 1.0 8 11 23 117	amp-date-picker : Incompatibilities in bundling of react-dates . Tracking issues related to browserify bundling of : react-dates . in : third_party/react-dates/bundle . js . . [ x ] Incompatible with multi-pass Closure Compiler v20171112 due to DCE'ing of part of browserify's bundling system : < URL > [ ] Incompatible with single-pass Closure Compiler build . @erwinmombay for details . /to @cvializ /cc @aghassemi	1	0
1 1 1.4 2.0 1.5 2.0 1.45 2.0 1.0 1.0 1.3767123287671232 146 1.0 4 4 19 87	amp-twitter : embedded videos can not go fullscreen . Sample to repro : : < amp-twitter width='375 ' height='472 ' layout='responsive ' data-tweetid='885634330868850689'> < /amp-twitter > . This tweet has a video but : fullscreen . video UI control is not available for it . Likely due to the : iframe . not allowing it .	1	0
2 2 1.4 2.0 1.3 1.5 1.35 1.0 1.3333333333333333 2.0 1.2947976878612717 173 1.0 5 8 26 89	FR : ' reading-progress ' component . Please see < URL > for a sample . Essentially a scrollbound progressbar and indicates where user is when reading an article . This component would be stand-alone and useful on its own , but per @spacedino's suggestion can also be integrated with : amp-next-page . where it can add a lot of value . /cc @spacedino	2	1
0 0 0.8 0.0 0.8 1.0 0.85 1.0 0.6666666666666666 0.0 1.3333333333333333 3 1.0 5 6 10 28	amp-lightbox closes without user interaction on Tab switch . We encountered a strange Bug with : amp-lightbox . closes automatically if the user switches Tabs in Chrome . Reproducer See < URL > If you click on the first slide , the lightbox opens . If you now go to another Tab in Chrome , and come back , the lightbox closes without user interaction . I traced it down to : history-impl . js . trying to pop the history in : if ( toPop . length > 0 ) { for ( let i = 0 ; i < toPop . length ; i++) { // With the same delay timeouts must observe the order , although // there's no hard requirement in this case to follow the pop order . this . timer_ . delay (() => toPop[i](historyState ) , 1 ); } } . and eventually calling this code in : amp-lightbox- 0.1 . js . : : F(a . getAmpDoc () , ' history ' ) . push(function () { return a . close(c ) }) . then(function(U ) { a.ca = U }); . Checked mutations of test code This does NOT happen , if I : - remove the : amp-carousel . s - change the ' close lightbox ' link to a : button . - remove the ' close lightbox ' link - remove the : on='tap:my-lightbox . close ' . attribute on the link Wild Guess As this only happens if there is a link inside the lightbox that closes it , I think that is the culprit . Workaround For anyone who is affected by this bug right now : Change the ' Close Lightbox ' Link to a : button . .. Related Bugs Probably #17442 is related . Affected AMP Version At least : 2012301722001 . , but I've seen it < URL > .. Affected Browsers Tested in Chrome 87.0.4280.141 , but probably more Browsers are affected by this . // cc @choumx ( sorry ) because of his investigation in #17442	2	0
1 1 0.8 1.0 0.5 0.5 0.6 1.0 1.0 1.0 1.5 4 1.5 1 7 30 87	amp-story : Navigation broken on iOS 10.3 ( or lower ) . What's the issue ? Can't tap to go next or go back in any STAMPs on iOS 10.3 ( or lower ) What browsers are affected ? both Chrome and Safari cc : @alanorozco @newmuis @choumx @prateekbh	1	0
1 1 1.2 1.0 1.3 1.0 1.15 1.0 1.0 1.0 1.4415584415584415 77 2.0 6 9 24 125	[ Master feature ] amp-list v2 . amp-list addressed a number of critical use cases when AMP first launched , but developers have struggled with a set of smaller issues that make the component generally hard to use . This issue is to fix those issues and relaunch under a new name . Re-launch amp-list with a new ???clearer ???name Support easier templating Support amp-bind expression evaluation on load Integrate more seamlessly with other components Support refresh/push Scope for Q4 2018 includes technical design	1	1
0 0 0.8 1.0 0.6 0.5 0.75 1.0 0.3333333333333333 0.0 0.5 2 0.5 14 19 33 65	Share story opens system UI menu on Safari desktop . . On other desktop browsers it shows the : i-amphtml-story-share-menu-container . . To reproduce . 1 : In Safari desktop open < URL > 2 . Click this share story icon Screenshot :	2	0
1 1 1.4 1.0 1.2 1.0 0.85 1.0 1.3333333333333333 1.0 1.1111111111111112 18 1.0 8 14 20 97	[ Video docking ] Shadow overlay is not properly sized . Notice corner .	1	0
2 2 1.4 2.0 1.4 1.5 1.2 1.0 1.3333333333333333 2.0 0.0 2 0.0 3 4 6 23	Cannot use loop as boolean attribute for amp-base-carousel . Description For components like : amp-video . or : amp-carousel . I can use the : loop . attribute without any value , i.e. : < amp-video loop ... / > . . Relevant spec : < URL > < URL > Unfortunately , for : amp-base-carousel . I cannot do this as it causes a validation error . I have to specifically use : loop='true ' . or : loop='false ' . or : loop='(min-width: 800px ) true , false ' . ( which btw is nowhere documented ) Spec : < URL > Reproduction Steps Insert : < amp-carousel layout='responsive ' width='4 ' height='1 ' loop ></ amp-carousel > . in AMP playground , see no validation error . Insert : < amp-base-carousel layout='responsive ' width='4 ' height='1 ' loop ></ amp-base-carousel > . in AMP playground , get validation error . Relevant Logs : The attribute ' loop ' in tag ' amp-base-carousel ' is set to the invalid value '' . . Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected 2107240354000 [ improved ] 	0	0
1 1 0.8 1.0 0.9 1.0 1.1 1.0 1.0 1.0 0.0 0 0.0 2 9 23 110	Discrepancy between CDN & non-CDN version of AMP ads ( CORS ) . What's the issue ? AMP template validates and serves Ad Sense units successfully here : < URL > But in the CDN version , we see JS errors and the unit does not load : < URL > Here is example console output :  	1	2
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 0.0 0 0.0 0 7 20 79	Integrate error trigger with other analytics sites . Currently error trigger in amp-analytics is only used with Google Analytics . It would be nice if users can use other analytics sites of there choices . For #6415	2	1
1 1 1.2 1.0 1.3 1.0 1.35 1.0 1.3333333333333333 1.0 0.45454545454545453 11 0.0 2 2 4 18	Autocomplete support for textbox field in AMP forms . As a follow on to #3343 , which will introduce support for form fields , including text box , let's also consider how to add autocomplete support . /cc @mkhatib  	0	1
0 0 1.6 2.0 1.3 1.5 1.25 1.0 1.3333333333333333 2.0 0.0 2 0.0 0 1 2 6	Incorrectly-configured H . 264 video sources will result in publishers serving these videos instead of via Monti . Description Last week , we merged #36224 to begin appending codec information to the : type . attribute of cached video source elements . So , : type . values that previously looked like : ' video/mp4 ' . may now look like : ' video/mp4 ; codecs = h264 ' . However , further testing shows issues specifically with H . 264 video sources . The : ' h264 ' . codec strings sent from Monti are not recognized as a playable type in the browser via : canPlayType () . . Instead , it appears that : canPlayType () . prefers the synonymous AVC codec string ( e.g. , : ' avc 1.4 d002a ' . ) I just merged a fix : #36361 36361 now needs to be cherrypicked in order to prevent #36224 from going to stable alone . The consequence of no cherrypick is that H . 264 video sources obtained via Monti would appear to be unplayable , causing the browser to instead request the video from the publisher , incurring a request traffic cost on publishers who depend upon Monti . /cc @gmajoulet Reproduction Steps Go to < URL > In the console , run : document . getElementsByTagName('video')[0 ] . canPlayType('video/mp4; codecs = h264 ' ) ; . Note that the empty string is returned Now run : document . getElementsByTagName('video')[0 ] . canPlayType('video/mp4; codecs = vp 09.00.30.08 ' ) ; . Note that ' probably ' is returned The difference in returned values is due to ' h264 ' not being recognized as a playable type , as opposed to the VP9 codec value Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response [ improved ] 	0	0
2 2 1.2 1.0 1.4 2.0 1.35 1.5 1.3333333333333333 2.0 0.0 0 0.0 5 12 19 72	minimize-to-corner floats off bottom edge during scroll . New minimize-to-corner video feature floats off the bottom when scrolling up . To repro , load < URL > 1 . Start video halfway down page 2 . Scroll off video so it goes into floating mode 3 . Move video to bottom right of screen 4 . Scroll to bottom of page , then do a fast scroll up	2	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 0.6666666666666666 1.0 0.6698113207547169 212 1.0 2 3 9 41	[ Story QA ] Add a visual diff test for a transformed AMP document . Add a visual diff test for a transformed AMP document . Context : < URL > cc @ampproject /wg-stories  	0	1
1 1 0.4 0.0 0.7 1.0 0.75 1.0 0.6666666666666666 1.0 0.6778846153846154 208 1.0 1 3 7 30	[ Story video ] Poster stretched on first page . When loading a video with a video on first page , the poster sometimes appears stretched while the video is loaded . cc @ampproject /wg-stories  	0	0
1 1 0.6 0.0 0.9 1.0 1.0 1.0 1.0 1.0 2.0 1 2.0 0 1 4 20	Switch loading animation from 3 dots to something else . Extensions like amp-img show ' 3 dots ' animation when loading . We could have a better animation . Need UX guidance . This should also apply to all other extensions while loading , as well . CC @cramforce if there is more background . CC @rudygalfi	2	1
0 0 0.4 0.0 0.3 0.0 0.7 0.5 0.6666666666666666 0.0 1.1428571428571428 14 1.0 8 13 26 134	Unexpected token ; . @jridgewell can you have a look at this production error : Unexpected token ; at ( unexpected-token . js : 1 ) < URL >	2	0
1 1 1.0 1.0 1.4 1.5 1.3 1.0 1.3333333333333333 1.0 1.0 2 1.0 0 1 1 3	Intent to implement : Client identifiers in AMP . The following doc proposes a concrete mechanism for producing ' client identifiers ' for AMP documents which can be used by AMP Analytics ( See #871 ) for use cases such as distinguishing users . The proposed mechanism provides a unified solution for the following 3 scenarios : 1 . document loaded from publisher page 2 . document loaded from AMP cache 3 . document loaded through AMP viewer It does not , however , treat users that are active across these as the same . For details see < URL >  	0	1
1 1 1.4 1.0 1.4 1.5 1.25 1.0 1.3333333333333333 1.0 0.8780487804878049 41 1.0 2 7 12 64	postcss import should be the first transformer in the pipeline .  	0	0
2 2 1.0 1.0 1.1 1.0 0.8 1.0 1.3333333333333333 2.0 0.9142857142857143 35 1.0 3 10 15 45	Fragment link navigation is broken on iOS10 . How do we reproduce the issue ? Go to < URL > on iOS 10 Safari and Chrome Click the internal fragment link . The first time it is broken . Subsequent clicks works . What browsers are affected ? iOS 10 , all Which AMP version is affected ? Current  	0	0
1 1 1.2 1.0 1.2 1.0 1.1 1.0 1.0 1.0 1.5 2 1.5 3 6 25 83	amp-story : Unexpected loading dots on desktop . Please only file bugs/feature requests for AMP here . What's the issue ? Loading three dots appear on the ' previous ' and ' next ' page . ( And the dots looked broken ) How do we reproduce the issue ? We should hide loading status for the ' previous ' and ' next ' page preview on desktop cc : @alanorozco @newmuis @choumx @prateekbh	2	0
1 1 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 5 20 77	AMP Image loading issue on long form story page . . What's the issue ? AMP Images don't seem to load after the first few hundred pixels from the top of the browser as you scroll a long form story . Reference > < URL > How do we reproduce the issue ? Google search ABC News This is home Click First link As you start scrolling past the first couple of divs , images either show as blank , white space or take a very long time to display . It seems the img src value is showing the correct url to the image . The page validates successfully . Attached screenshots .  	0	0
1 1 0.8 1.0 0.8 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 5 21 35 88	inabox : amp-inabox should be able to get viewability information inside a friendly frame without IntersectionObserver or the host script . What's the issue ? When used in an AMP ad in a friendly iframe on a non-AMP page , amp-analytics rely on either the host script ( amp4ads-host ) or IntersectionObserver support within the browser to get viewability information , even though it can get this information directly from the parent window . What browsers are affected ? Browsers that does not support IntersectionObserver , namely IE and ( current version ) Safari . How do we reproduce the issue ? Use a browser listed above . Load an inabox ad on a non-AMP page , within a friendly frame ( the second ad in examples/inabox . gpt . html that's loaded by GPT would suffice ) . Scroll down to the ad to verify in network requests that amp-analytic pings activeview after 1 second . Block amp4ads-host-v0 from loading ( using a proxy or other methods ) Refresh and try step 2 again , seeing that the activeview ping does not get sent out .	1	0
0 0 1.0 1.0 1.1 1.0 1.1 1.0 1.0 1.0 0.96 25 1.0 12 15 31 120	Update arrow icons for carousel ( add gradient ) . [ ] Update carousel's icons per the new designs , and add a gradient per mocks ( below ) . Carousel arrow mocks .	1	1
0 0 1.2 1.0 1.3 1.0 1.15 1.0 1.3333333333333333 2.0 0.0 0 0.0 9 24 29 128	 src ' attribute set to invalid in amp-mustache script . What's the issue ? By simply including the : amp-mustache . script tag : < script async custom-template='amp-mustache ' src='<URL>'></script> . I am seeing an error from the AMP extension stating : The attribute ' src ' in tag ' amp-mustache extension . js script ' is set to the invalid value . . How do we reproduce the issue ? Can't replicate this inside of a jsbin but even by simply using : amp-mustache . in the playground ( < URL > you can see this error in the chrome extension Go to < URL > Copy the code on the left side of the bin and past into < URL > What browsers are affected ? As of right now I only see the error on Chrome on Desktops Which AMP version is affected ? : < script async src='<URL>'></script> .  	0	0
1 1 0.8 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 7 9 24 95	amp-img doesn't load when initial size is zero ( animations ) . What's the issue ? amp-img does not load image when its initial size is zero , even if the size becomes greater than zero later . How do we reproduce the issue ? The demo shows a rotating card animation . At the first frame the image is rotated 90deg around the Y-axis so it's rendering width is zero . Its transform matrix is animated to rotate the image : < URL > The same animation can be achieved by setting opacity to 0 to hide the image at first frame , and reset it to 1 in later frames to show the transform animation . In this case , the image is loaded correctly . < URL > What browsers are affected ? Chrome 70 Which AMP version is affected ? 1811091510240	1	0
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 0.59375 32 0.0 10 19 35 138	Story video displaying the controls UI . On this very specific story , the video controls UI are visible : < URL > How to reproduce : Go to page 3 Unmute the video You may or may not see the controls already . If you don't try navigating back and forth The : controls . attribute is added by < URL > in : amp-video . . I couldn't find any difference with other working videos , so I'm not sure why this specific one gets the : controls . attribute , but it is added when we unmute the video .  	0	0
1 1 1.2 1.0 1.2 1.0 1.4 1.5 1.3333333333333333 1.0 1.05 80 1.0 1 10 21 60	Consent : Allow vendors to listen to user consent update . Users can resurface the consent dialog and change their choices . AMP supports this via the : postPromptUI . or the : prompt . action . AMP Consent also needs to provide callback to vendors to access any update .	2	1
2 2 1.8 2.0 1.6 2.0 1.45 2.0 2.0 2.0 0.0 0 0.0 0 1 3 16	Extending amp-dynamic-css-classes to support viewport intersections . A number of the sites we??????e working on have elements that appear and disappear based on scroll position , mostly things like fixed header bars , floating social button overlays . I'm kicking around the idea of adding to : amp-dynamic-css-classes . the ability to specify viewport intersections and have classes added/removed to the : < body > . based on view-ability . Something like : < amp-dynamic-css-classes > { ???viewports ' : [ { ???selector ???: ???div . somthing ???, ???viewable ???: ???class-to-add ???, ???hidden ???: ???class-to-add ???. } ] } < /amp-dyncamic-css-classes > . Alternatively , add to the elements themselves : < div class = ???whatever ???data-amp-viewable = ???class-to-add-to-body ???data-amp-hidden = ???class-to-add-to-body ???></ div > . Personally I like the json version , it?????? more in line with how other amp tags work . Questions : 1 . Is this a good idea in general ? 2 . Which model ? 3 . Is there any need for specifying using pixel scroll position or % scroll position rather than element boundaries ? This , combined with normal css transforms would provide a great deal of the functionality that people currently implement with js . I'm looking for feedback before I go down the full intent to implement route .	1	1
2 2 1.2 1.0 1.3 1.5 1.4 1.5 1.6666666666666667 2.0 1.5 2 1.5 3 5 10 53	Add RRule support for amp-date-picker . Support was removed in #25230 and can be restored by reverting that change and importing RRule . cc/ @ampproject /wg-ui-and-a11y @nainar  	0	0
0 0 0.8 1.0 1.1 1.0 1.05 1.0 0.6666666666666666 1.0 0.9411764705882353 17 1.0 4 10 21 68	Flaky integration test : amp-pixel . ``` Mobile Safari 9.0.0 ( iOS 9.1.0 ) amp-pixel amp-pixel integration test should keep referrer if no referrerpolicy specified FAILED timeout of 10000ms exceeded . Ensure the done () callback is being called in this test . Mobile Safari 9.0.0 ( iOS 9.1.0 ) amp-pixel amp-pixel integration test ' before each ' hook for ' should remove referrer if referrerpolicy = no-referrer ' FAILED timeout of 10000ms exceeded . Ensure the done () callback is being called in this test .	1	0
1 1 1.4 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 2 10 42	Track Share Icons Click . Describe the feature or change to an exisitng feature you'd like to see There is no way to track a click of a share option in the Share Menu that appears on click of the Share Button ( top right of the story UI ) . We want to know , beyond a click of the Share Button , that the user has clicked a share option and what option they clicked . Describe alternatives you've considered There is no existing way to track the user's choice in the Share Menu . We realize that the native UI ( seen on mobile browsers ) cannot be tracked , however we still want to track interaction inside the Share Menu when it's part of AMP . Additional context We're using version 2103020156003 .	2	1
1 1 1.0 1.0 1.1 1.0 1.0 1.0 1.0 1.0 1.0588235294117647 17 1.0 12 16 19 83	Fast Fetch fails from non-HTTPS pages . This doesn't affect AMP caches ( which always use HTTPS ) , and it doesn't yet affect Google networks ( which don't allow Fast Fetch except on the cache ) , but ad slots for Cloudflare networks on canonical non-HTTPS pages wind up as blank rectangles .  	0	0
0 0 0.6 1.0 0.5 0.5 0.7 1.0 0.3333333333333333 0.0 0.7681159420289855 69 1.0 7 16 17 51	[ Page attachments ] [ Inline ] Image preview UI . Accept one or two images . Text is optional . @ampproject /wg-stories	1	1
1 1 0.8 1.0 0.6 1.0 0.9 1.0 1.0 1.0 1.0909090909090908 77 1.0 5 11 15 54	amp-lightbox-gallery : Cannot read property ' sourceElement ' of undefined . Cannot read property ' sourceElement ' of undefined at ( < URL > at opt_event ( < URL > at fire ( < URL > at signalEmit ( < URL > at emit_ ( < URL > at acceptStart ( < URL > at doPass_ ( < URL > at ( < URL > go/ampe/CM6xzN_N4tGSDw  	0	0
0 0 0.6 1.0 0.8 1.0 1.1 1.0 0.6666666666666666 1.0 1.0869565217391304 46 1.0 3 5 39 97	Use object-fit on amp-story bookend images . Currently , images are stretched to fit the thumbnail size . We should instead use : object-fit : cover . , to ensure that they're scaled appropriately .	1	0
2 2 1.0 1.0 0.9 1.0 0.8 1.0 1.0 1.0 1.6 5 2.0 1 2 11 58	undefined is not an object ( evaluating ' b . length ' ) . This is a < URL > appearing in error reporting start 5 days ago : undefined is not an object ( evaluating ' b . length ' ) at length ( < URL > at queuePages_ ( < URL > . It appears to be reported mostly or entirely by pages from : < URL > . . It occurs when : pages . is undefined in : queuePages_ . , called in the promise handler for : getRemotePages_ . , which should never return : undefined . ( according to the comment return type ) . [ improved ] 	0	0
1 1 1.4 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 0.0 0 0.0 8 14 22 75	Variable substitution in amp-img . The amp-img tag should support variable substitution	2	1
0 0 0.6 0.0 0.6 0.5 0.85 1.0 0.3333333333333333 0.0 1.1219512195121952 41 1.0 4 10 13 80	Error triggers for errors in 3P iframe . For #6415	1	1
2 2 1.8 2.0 1.4 1.5 1.25 1.0 2.0 2.0 1.1363636363636365 66 1.0 2 11 21 107	URL replacements in < a > don't work for ' open in new tab ' . Context : < URL >	2	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.0 1 1.0 3 18 25 85	Allow to force amp-ad to target _top . Problem In a webview INSIDE an app on iOS , links with target ' blank ' do not open . So when using amp-ad (_again , seeing the html via a browser inside an app , not when just browsing ) the AdSense adverts trying to open a new tab (__blank_) do not work . Solution On Google Ad Manager it is possible to set-up an ad slot to open only in a specific way (_top or _blank ) . It would be great if the same was possible with Ad Sense . Or , it would be great to allow something like click-target='_top ' inside an amp-ad . Example : : < amp-ad width='320 ' height='50 ' type='adsense ' click-target='_top ' data-ad-client='ca-pub-123 ' data-ad-slot='123'> < /amp-ad > . At this point in time , the above code does not validate as AMP page ( due to click-target='_top ' ) .	2	1
1 1 1.2 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 1.3125 16 1.0 1 2 9 30	`describes . ` tests weird namespace error . : math - LayoutRect . is in : test/core/math/test-layout-rect . js . , but for some reason ( locally and in CI ) it seems like the test context is still active for other tests that run . I believe I've seen this bug with other tests , but I don't recall which ones . Seems like maybe the : describes . infra isn't cleaning up after the context closes ? < URL > /cc @ampproject /wg-infra	2	0
2 2 1.6 2.0 1.1 1.0 1.05 1.0 1.6666666666666667 2.0 2.0 1 2.0 0 0 4 14	amp-soundcloud and soundcloud playlists ... . Short description of your issue : amp-soundcloud tag doesn't render soundcloud playlists . How do we reproduce the issue ? Use the amp-soundcloud tag to render this markup : < iframe width='100%' height='166 ' scrolling='no ' frameborder='no ' src='<URL>'></iframe> . What browsers are affected ? All browsers are affected Which AMP version is affected ? Current version is affected .	2	1
0 0 0.8 1.0 0.9 1.0 0.8 1.0 0.3333333333333333 0.0 0.0 0 0.0 1 10 27 121	Amp sticky ads / height 100px . Hi all , First thank you for all the work already achieved . I noticed a trouble on amp sticky ads . When putting the 100px ( maximum that can be set ) the ' adsense ' ads are cutted . Everything has been set correctly on the amp tag as well as on the doubleclickforpublisher website Despite of all that hereunder the html code generated I really don't know how to achieve it . You can find the original code on every page of my < URL > thank you in advance	2	0
0 0 1.2 1.0 0.8 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 7 17 54	amp-date-picker highlighted/blocked attributes do not work . What's the issue ? amp-date-picker highlighted and blocked attributes have no effect How do we reproduce the issue ? See < URL > . What browsers are affected ? All browsers ? Which AMP version is affected ? AMP version 1909141409590 . Not sure if this is a new issue , haven't tried to use the date picker before .  	0	0
0 0 1.0 1.0 1.0 1.0 1.05 1.0 0.6666666666666666 1.0 1.4 10 1.5 5 21 32 125	[ FEATURE REQUEST ] < amp-yelp > . Add the ability to embed a yelp link for a local business in a webpage . Would have to use the Yelp Fusion API < URL > Here are some business currently using this API : < URL > @aghassemi @ericlindley -g	2	1
1 1 1.6 2.0 1.4 1.5 1.0 1.0 1.6666666666666667 2.0 1.1176470588235294 17 1.0 1 5 8 33	Investigate using Blob to render non-A4A . Go to < URL > ( they have no CSP ) : var blob = new Blob([` < script > Object . defineProperty(ument , ' cookie ' , { get : () => '' , set : val => undefined , }); < /script > < script > console . log(window . top . Object );< /script > `] , { type : ' text/html ' }) ; var url = URL . createObjectURL(blob ); var iframe = ument . createElement('iframe ' ) ; iframe . src = url ; iframe . sandbox = ' allow-scripts ' ; ument . body . appendChild(iframe ); // => Uncaught DOMException : Blocked a frame with origin ' null ' from accessing a cross-origin frame . . This might be better than the current NameFrame or SafeFrame options . No extra network connections , no need to parse anything . ?????? I've mentioned < URL > . A4A is tooooooooo complicated and this could simplify it considerably . As for the same-origin-policy restrictions , we can polyfill with fakes as needed ? NameFrame has a unique origin every time anyways .  	2	2
1 1 1.6 2.0 1.4 1.5 1.45 1.5 1.3333333333333333 1.0 1.4634146341463414 41 2.0 12 21 33 89	Discussion : Using AMP library in non-AMP pages . This discussion has come up more casually before , but I wanted to raise the idea here to think through it a bit ( may warrant a discussion in the weekly review ) . In short : is there a way to support usage of the AMP library in the context of non-AMP pages ? The use-case that came up recently is that some developers create their AMP page first , and then build canonical equivalents around those pages to fill in features that they want but aren't supported in AMP . It would significantly lower the cost of implementation to have a path where they just add this functionality around the AMP implementation , rather than re-writing as non-AMP . My assumption is that this usage of AMP is not supported , in part because the resource management and presentation logic built into AMP will affect all elements on the page , and it would be hard to predict how additional non-AMP functionality would work in conjunction . However ???is there some possible workaround ? A ' sandbox ' for AMP content inside non-AMP contexts that doesn't just rely on an iframe ? Or rules of thumb for using AMP in non-AMP contexts that will avoid some of these issues ? /cc @cramforce @dvoytenko  	2	2
0 0 1.2 1.0 1.2 1.0 0.95 1.0 1.0 1.0 0.6612903225806451 62 1.0 5 11 25 93	Prerendering a story should show its cover . . Prerendering a story should show its cover . Right now , it's just a white screen .  	0	0
0 0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.5 4 1.5 3 7 14 61	< amp-carousel > : < amp-image > with media attribute fails to load image . We are building a : amp-carousel . with different aspect ratios on different breakpoints . We utilize the heights attribute on the : amp-carousel . and the media attribute on : amp-image . elements to load optimized images . When another breakpoint is triggered ( e . g by switching from portrait to landscape ) : amp-image . fails to load the image and stays blank . A carousel navigation fixes the issue . How do we reproduce the issue ? We set up a jsbin to recreate the issue < URL > 1 . Jump over the 600px breakpoint 2 . Find the slide empty What browsers are affected ? This seems to affect all tested browsers . Which AMP version is affected ? Version 1476486609642	2	0
0 0 0.6 0.0 0.6 0.5 0.6 1.0 0.6666666666666666 0.0 1.2727272727272727 11 1.0 1 3 23 77	Components in Shadow DOM fail with errors in Desktop and Mobile Safari .  	0	0
0 0 0.8 1.0 0.9 1.0 1.15 1.0 0.3333333333333333 0.0 0.9056603773584906 53 1.0 5 11 14 46	[ amp-story-player ] Documentation : Examples of the player APIs . We should write more samples of how publishers can use the programmatic control of the player using the available APIs . Examples should include : * Closing player when out of stories . * Fetching more stories through endpoint attribute . Related to #28416 @ampproject /wg-stories  	0	1
0 0 0.2 0.0 0.5 0.5 0.7 1.0 0.0 0.0 0.0 0 0.0 1 5 17 82	amp-date-picker ( date range ) shows Null when start date is selected . What's the issue ? The amp-date-picker component shows Null when start date is selected in the date range mode . You can see this in the AMpByExample page as well < URL > How do we reproduce the issue ? < URL > In the date range picker , select a start date and the validation text at the bottom continues to read ' You picked Null as start date and null as end date ' .  	0	0
1 1 0.8 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.462686567164179 67 2.0 6 13 23 94	[ Master feature ] Seamless page transitions . Users highly value page transitions that preserve as much context and happen as quickly as possible , but standard page navigations refresh the entire page ( header bars , menus , etc disappear and reappear again ) , increasing actual and perceived loading time . App shell patterns ( as with progressive web apps ) address this opportunity ???< URL > is to provide a trivially-easy-to-implement way to get similar functionality with minimal effort . Scope for Q4 2018 includes technical design	1	1
0 0 0.8 0.0 1.1 1.0 1.2 1.0 1.3333333333333333 2.0 1.0 1 1.0 0 5 7 40	Consolidate and clarify templating umentation . Thanks for the previous work on this . Two more points : Templates are often referred to as ' extended templates ' . This may create the impression that there's a regular ( or built-in ) kind of templates as well . Should we clarify this terminology ? What do ' extended ' templates actually mean ? That the templating system is designed to run arbitrary templating languages ( with Mustache being the only one currently implemented ) ? Can we drop ' extended ' or do we need to keep it to parallel < URL > , which do have a built-in counterpart ? The < URL > is actually less detailed than the < URL > . I was < URL > when I realized this .  	2	2
1 1 1.4 1.0 1.6 2.0 1.55 2.0 1.0 1.0 0.0 0 0.0 4 6 15 70	Don't trigger amp-next-page for large viewports on initial load . Describe the new feature or change to an existing feature you'd like to see Hard to know whether this is a bug/feature-request that belongs in this project , or whether it's something that Googlebot should fix , but basically the way amp-next-page fetches multiple pages on initial load is apparently considered a no-no according to John Mueller : < URL > I'd recommend not using infinite scrolling in this way when it comes to search . If these are separate , independent items , then expanding the viewport of a page shouldn't trigger them loading together . Mixing things on a single URL makes it possible that they're indexed together . Describe alternatives you've considered Only trigger page fetching if the user interacts with the page . Not sure if this is a hack , or the ' correct ' solution Don't use amp-next-page  	0	1
2 2 1.0 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 8 21 29 124	Support dynamic height for amp-carousel with slides . Given : there is an amp-carousel with slides . Each slide can contain both text and images . Current issue : The height of the carousel is not dynamic , some slides have too many white space , some slide content is cut off . Actual result : Expected : Source code : : < amp-carousel type='slides ' layout='responsive ' controls loop height='500 ' width='500 ' > < div class='slide'> .... < /div > < div class='slide'> .... < /div > < div class='slide'> .... < /div > < /amp-carousel > .	2	1
0 0 0.4 0.0 0.7 0.5 0.9 1.0 0.3333333333333333 0.0 0.0 0 0.0 4 14 33 82	No ampdoc found for [ object HTMLHtmlElement ] error when including AMP Gallery in shadow root . When using AMP Shadow we are are finding that an error is triggered if the fetched document contains an AMP Gallery . An example of this can be seen here : < URL > The following error is shown in the console : error . js : 117 No ampdoc found for [ object HTMLHtmlElement ]  	0	0
2 2 1.2 1.0 1.0 1.0 1.1 1.0 1.6666666666666667 2.0 0.0 0 0.0 3 4 19 83	Automatically add @font -face for custom whitelisted Google fonts via AMP CDN . . Google Fonts and certain whitelisted fonts are extremely popular and widely used . There are two main ways to load them : via css : < link href='<URL>|Open+Sans:400 , 700&display = swap ' rel='stylesheet'/> . via @font -face The CSS option is render blocking and causes slowness . The @font -face option is the preferred and super-fast . However , using @font -face option involves adding the : src . which becomes cumbersome when you are using multitude of fonts . Proposal : When AMP pages are hosted on AMP CDN , provide a way to automatically parse the rel='stylesheet ' . discover the white-listed fonts that are being used . inject the fonts directly from the reference stylesheet as @font -face . Don't count the @font -face included by this approach towards the 50KB CSS limit . Future : 1 . Extend the above method towards all fonts , whitelisted and otherwise . Advantage : Font's are render blocking and this approach can speed up things while maintaining UI/UX consistency and with less code . Update : According to < URL > fonts aren't render blocking , however , lightspeed and PSI both suggest to use @font -face instead of the above link-href approach . Assuming Lightspeed/PSI is incorrect , should we open a ticket on their side ?	2	1
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.0080645161290323 124 1.0 4 9 12 76	Analytics visibility trigger broke for inabox in IE11 . This is a regression started in release of < URL > . One suspect is #23413	1	0
0 0 0.6 0.0 1.0 1.0 0.7 1.0 0.6666666666666666 0.0 0.8888888888888888 9 1.0 6 13 17 54	Analytics : add reportWhen field for visibility . follow up of #8315 something like : { ' on ' : ' visibile ' , ' visibilitySpec ' : { ... ' reportWhen ' : ' hidden ' } , } . : ' reportWhen ' : ' hidden ' . would equals : ' on ' : ' hidden ' . now . several potential values we can support are : hidden . : detach . : unlayout . cc @dvoytenko @lannka	2	1
2 2 1.4 1.0 1.2 1.0 1.15 1.0 1.6666666666666667 2.0 1.082191780821918 73 1.0 2 6 8 66	Fix srcset code duplication between amp-anim and amp-img . Does the same thing . We just had a case where only one side was changed . In reality the related width for picking a version should not be passed in but always be the same and determined further down .	1	0
2 2 1.2 1.0 0.9 1.0 0.85 1.0 1.6666666666666667 2.0 1.0 3 1.0 1 4 26 90	ATF amp-iframe inside Shadow DOM not working on Safari . ATF Amp-Iframe with a Placeholder inside a Sticky Element is not working and triggers error : dom . js : 645 amp-iframe is not used for displaying fixed ad . Please use amp-sticky-ad and amp-ad instead . . Steps to Reproduce : - Visita Page < URL > from Safari Mobile , Real Device or simulator , also reproducible on Chrome Mobile Safari Emulation . - Click on audio icon on the bottom right corner . Screenshot with error below : It works fine on Chrome Mobile and other browsers , it seems a iOS specific issue . Previously reported in < URL > @iwoak @nainar  	0	0
2 2 1.8 2.0 1.5 2.0 1.6 2.0 2.0 2.0 0.6666666666666666 3 0.0 4 8 13 37	Please , add extension for TidioChat . Hi there , sorry if I write this request here , may be it's not the right place , but I need an AMP extension for TidioChat < URL > so I can migrate my website to AMP In this moment AMP suffers from the lack of an extension for livechat . This extension if easy to create , just give a public key as parameter and it should add a script to the DOM such as : Thanks , Marco	2	1
1 1 1.0 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 14 23 97	Background-audio does only work for 8 pages . What's the issue ? I'm using background-audio in Google AMP Story , it's doing fine in the first 8 pages . But from page 9 it doesn't work anymore . How do we reproduce the issue ? Create 9 pages , all with background-audio What browsers are affected ? All Which AMP version is affected ? 1523662348051 Note Is there any other thing I can do ? Looks like amp-audio doesn't work too . I was using AMP for a school project and I need audio with all pages . Thanks in advance .	1	0
0 0 0.6 0.0 1.0 1.0 1.0 1.0 0.6666666666666666 0.0 0.5928853754940712 253 1.0 1 5 7 10	[ Story video ] Use inlined video cache responses . Description : amp-video[cache = google ] . sends a XHR request to a Google hosted backend to retrieve cached sources . The AMP Cache is now inlining the cached sources for the first 5 videos of each Story . : amp-video . should try to get the sources from the : script id = amp-google-video-cache-response . before sending the XHR request . : < head > < script id = amp-google-video-cache-response type = application/json > { ' 1 ' : { ' sources ' : [ { ' url ' : ' < URL>' , ' codec ' : ' h264 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 400 } , { ' url ' : ' < URL>' , ' codec ' : ' h264 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 2000 } ] , ' has_audio ' : false } , ' 2 ' : { ' sources ' : [ { ' url ' : ' < URL>' , ' codec ' : ' h264 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 400 } , { ' url ' : ' < URL>' , ' codec ' : ' h264 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 2000 } ] , ' has_audio ' : false } } < /script > < /head > < body > ... < amp-video amp-google-cache-video-id = 0 cache='google ' ... . cc @ampproject /wg-stories Alternatives Considered - Additional Context No response [  ] 	0	1
1 1 1.4 1.0 1.0 1.0 0.8 1.0 1.3333333333333333 1.0 2.0 1 2.0 5 14 22 80	AMP video docking before parent video is out of view . The amp-video-docking component is docking the video while the main video element is still entirely within the viewport . This can be replicated by placing the docking target element further down the page than the main video . eg . From the example page : < URL > Issue replicated in Chrome , Firefox , Safari on Mac with AMP version 1906051812580  	0	0
1 1 0.8 1.0 1.0 1.0 1.0 1.0 1.0 1.0 0.0 0 0.0 0 3 15 40	Add support for Alexa ( analytics ) . Does google amp support alexa code	2	1
1 1 1.0 1.0 0.9 1.0 1.0 1.0 1.0 1.0 0.0 0 0.0 0 1 2 29	Story Bookend has wrong action-overlay ( since last update ) [ critical ] . What's the issue ? The Story Bookend has a new Bug . The Overlay from the storypages is on the bookend , so its not possible to click the bookend elements , because then you will go back to the latest storypage . How do we reproduce the issue ? Just look at any story of normal type ( not landscape mode ) and go to the bookend . try to click something in the left column . You cannot click it , because it will throw you back to the last storypage . If you inspect the element , you can see its size and position . It is wrong positioned . < URL > Here are two examples : < URL > < URL > What browsers are affected ? All browsers i could test it ( Chrome / Mozilla ) Which AMP version is affected ? Is this a new issue in AMP-Version 2009190410000 [ improved ] 	0	0
2 2 0.8 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 0.0 1.5714285714285714 7 2.0 3 10 24 88	FR : Variable subs on page load for dynamic local content . Often time , important info are passed over in urls and used displaying messages on the page . For example , www.example.com?location=Washington%20DC and Where are you ... Right now var substitutions only happens in the src or href attributes and it won't happen until on click . Ideal feature : all vars can be made available using the substitution MACROs anytime anywhere or a parallel predefined API in AMP_STATE .	2	1
0 0 0.8 1.0 0.7 1.0 0.75 1.0 1.0 1.0 1.0 88 1.0 4 8 12 41	Increased visual-diff flakiness during CI . After running : gulp visual-diff . on CI , we have the odd diff show up in Percy . Of late , I'm seeing way more flaky tests . Not sure if this is due to new tests , or if it's an infrastructure issue ( new version of Chrome , puppeteer , or the Percy agent ? ) that's causing this spike in flakiness . E.g. See < URL > for a PR that does not touch runtime code .  	0	0
2 2 1.6 2.0 1.4 2.0 1.25 1.0 1.3333333333333333 2.0 1.2024539877300613 163 1.0 3 5 9 50	onMeasureChanged () not called sometimes when prerendered . Summary If an AMP component is built after measure ( and the build doesn't affect the component's layout box ) , : onMeasureChanged . won't be invoked . I.e. : opt_measurementsChanged = = true . but : isBuilt () = = false . : < URL > Details This is somewhat unexpected because usually build precedes measure in our : discoverWork_() . flow . In some cases , however , a component can skip build ( phase 1 ) due to prerender quota , get measured ( phase 2 ) , and then get built here ( phase 4 ): < URL > In the next pass , the component will get measured again now that it's built . However , if this measure doesn't change its layout box , : onMeasureChanged . won't get invoked ! /cc @ampproject /wg-runtime  	0	0
1 1 0.6 1.0 0.9 1.0 1.15 1.0 0.6666666666666666 1.0 2.0 1 2.0 1 4 7 27	Allow page to react on SW activate when using < amp-install-serviceworker > . In order to improve the PWA+AMP story , an AMP page needs the ability to show a paragraph , banner or toaster of some sorts to notify the user when a Service Worker has been installed and activated , something like : Option 1 : on='activate: ... ' : < amp-install-serviceworker src=' . /serviceworker . js ' on='activate:someelementaction ' layout='nodisplay'> < /amp-install-serviceworker > . Unfortunately , the method above , while elegant , can be exploited : The above would allow somebody to abuse SW to simply show an full screen lightbox interstitial sometime after page load . Option 2 : Add class to body Another option is to automatically add a class to the body of the page when the SW has been activated , something like : : < body class='amp-serviceworker-active'> . This method can be exploited as well , allowing somebody to alter the page layout multiple seconds after the user starts reading . Option 3 : Event with restrictive , non-layout-altering actions This is probably the best , but trickiest solution . The idea is to only allow triggering actions that are not detrimental to the reading experience . This would include the following , for instance : - Fly in a little toaster at the bottom or top of the page that works as notification - Replace an already allocated space ( i.e. an image ) with another , equal-size image I tried to take this on , but think we need to discuss the right path first ???might not be a good task for a beginner on the project's source like myself . Thoughts ?	2	1
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.0 1.0 1.0 3 1.0 5 6 22 66	amp-script : Support d3 . js . Our goal is to run JavaScript data visualization libraries using : amp-script . -- avoiding need to use : amp-iframe . . This example implements : canvas . js . with : amp-script . < URL > Source is Weston Ruter and his experiment here : < URL > using this technique : : < amp-script src='<URL>' width='400 ' height='400'> < button > Start drawing ! < /button > < /amp-script > . We would like to implement our : d3 . js . applications using a similar technique . A simple stand-alone D3 version is shown here : < URL > Our experiment follows : canvas . js . example , but uses a : d3 . js . library as follows : : < amp-script src='d3 . js'></amp-script> < amp-script src='dendrogram . js ' width='800 ' height='200'></amp-script> . The experiment is here : < URL > We see the following error message : : Uncaught Referenced3 is not defined amp-script[src='dendrogram . js ' ] . js : 10 at Object . < anonymous > ( amp-script[src='dendrogram . js ' ] . js : 10 ) at amp-script[src='dendrogram . js ' ] . js : 70 . Are we doing something wrong ? Is there an alternative way to invoke a : d3 . js . library ? We see these discussions : < URL > < URL > < URL > < URL >	1	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.6666666666666667 2.0 0.0 0 0.0 3 10 27 116	tagForChildDirectedTreatment not copied correctly for DoubleClick ads . The ad request url generation code located at amphtml/extensions/amp-ad-network-doubleclick-impl/ 0.1 /amp-ad-network-doubleclick-impl . js looks for a JSON parameter named ' tfcd ' to copy as a url param named tfcd into the ad request . However , < URL > and < URL > documentation suggests that the name of the JSON parameter has to be fully spelled out as tagForChildDirectedTreatment , so I believe that the current code won't find any JSON parameters named ' tfcd ' since publishers have been tagging their pages with ' tagForChildDirectedTreatment ' .  	0	0
2 2 0.8 1.0 0.6 0.5 0.9 1.0 1.0 1.0 1.0 2 1.0 2 8 9 80	position-observer : scrollTo () or anchor jumping interrupts or misses animation triggers . What's the issue ? : amp-list . content loaded via CORS request whose content is animated via : amp-animation . and : amp-position-observer . sometimes fails to capture animation trigger when navigating via an anchor or : scrollTo () . action . How do we reproduce the issue ? < URL > in mobile Chrome , Safari , or Firefox . Let default page-load content render . Notice it animates via slide/fade-in . Scroll down and hit the ' Next > ' link and let the page scroll to top . Wait a few seconds for the next page of content to load . If next page of stories doesn't load , scroll midway down blank page and then back to top . After a short delay , story content should animate . Here's a video of the bug in action in Firefox using responsive design mode : < URL > What browsers are affected ? Was able to reproduce in latest of mobile Chrome and Safari , as well as on Firefox in responsive design mode . Which AMP version is affected ? v0 , v 0.1 for components .	2	0
1 1 1.4 1.0 1.3 1.0 1.15 1.0 1.0 1.0 1.2173913043478262 46 1.0 0 0 14 29	Validator : transformed AMP does not support script nonce . I've noticed a few cases were AMP Optimizer would turn a valid AMP doc into invalid AMP when the original file defined script nonces . The validation error is triggered by the presence of : transformed='self;v=1 ' . . Is this intentional ? For example , this file is not considered valid : : < ! DOCTYPE html > < html amp lang='en ' i-amphtml-layout transformed='self;v=1'> < head > < script async nonce='484fee01e48047fa23773ddcbc3feb0a ' custom-element='amp-analytics ' src='<URL>'></script> ==> The attribute ' nonce ' may not appear in tag ' amp-experiment extension . js script ' . . but it's non-transformed version is : : < ! DOCTYPE html > < html amp > < head > < script async nonce='484fee01e48047fa23773ddcbc3feb0a ' custom-element='amp-analytics ' src='<URL>'></script> ... . //cc @honeybadgerdontcare @Gregable	2	0
1 1 1.0 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 0.9805825242718447 103 1.0 0 2 17 63	Template ads should remove < link > preload . eg < URL > : Refused to load the script ' < URL > because it violates the following Content Security Policy directive : ' script-src ' none '' . Note that ' script-src-elem ' was not explicitly set , so ' script-src ' is used as a fallback . . This does not affect ads rendering , but the error message in the console can be annoying . It was caused by the unnecessary preload : < link > . tag in the : < head > . . This can be solved once the template ads cache logic is cleaned up . /cc @Gregable	2	0
1 1 1.4 1.0 1.1 1.0 0.85 1.0 1.0 1.0 1.2307692307692308 13 1.0 7 12 25 133	The operation was aborted . . @choumx there's this production error if you cna have a look : The operation was aborted . at ( the-operation-was-aborted . js : 1 ) < URL >  	0	0
0 0 0.6 1.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 0.9726027397260274 73 1.0 6 14 17 87	[ amp-lightbox-gallery ] panning a zoomed image causes carousel swipe . Repros on ABE : < URL >  	0	0
1 1 1.2 1.0 1.1 1.0 0.9 1.0 1.3333333333333333 1.0 1.3076923076923077 13 2.0 0 1 3 16	Why does ad at very top of document collapse ? . When there is an ad in the very top spot ( essentially at 0 ) , we let it collapse . We shouldn't .  	0	0
1 1 0.8 1.0 1.0 1.0 1.25 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 4 7 31	Is there a way to collapse amp-ad slot when we don't get any ads ? . When we do not get any ads the : < amp-ad > . stays empty and it shows white blank . Is it possible to trigger some function inside : < amp-ad > . that will collapse/close it ?	2	1
0 0 1.0 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 0.0 1.4268292682926829 82 2.0 3 4 16 79	Fixed layer : Hidden elements toggled with show () missing top offset . If a position fixed item is hidden and then display using : AMP . show('id ' ) . the : top . property is not updated to reflect the current state of the viewer header .	2	0
2 2 1.0 1.0 1.2 1.0 1.1 1.0 1.0 1.0 1.284153005464481 183 1.0 3 3 18 62	Use Chrome's new userActivation . isActive for iframes . < URL > Chrome 72 comes with flag to see if a message from an iframe is based on user interaction . : // Check that WindowPostOptions is supported if ( window . parent . postMessage . length = = = 1 ) { window . parent . postMessage('resize ' , { includeUserActivation : true }); } else { window . parent . postMessage('resize ' , ' /'); } . : if ( event . userActivation && event . userActivation . isActive ) { return Promise . resolve (); } . Two places we can use this : 1- : resize . detection for : amp-iframe . 2- two-way messaging between : amp-bind . and : amp-iframe . The paused unmuted video hack to do this detection should still work for other browsers . That would be needed for ( 2 ) but for ( 1 ) this would just be a better check than the current : focus . hack and the paused unmuted hack is not needed . /to @choumx	1	1
1 1 0.8 1.0 1.0 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 4 6 11 98	AMP-STORY : Page ID change freezes the story totally ! . What's the issue ? AMP Story saves the last visited page id while visiting the story , if it cannot find the page on reload due to some reasons , then it should start from first page instead of just freezing the whole functionality . How do we reproduce the issue ? It is a fairly easy issue to reproduce , I wonder how has this been out for such long , To be precise we are facing this issue from the 0.1 version itself . 1 . Make any story with more than 1 page and assign ids to amp-story-page 2 . Visit story in your browser and go to any page other than first one 3 . Go to code and change the id of the page you are on 4 . Reload the story What browsers are affected ? All browsers that support localStorage . Which AMP version is affected ? 0.1 and 1.0 both	1	0
1 1 1.0 1.0 1.0 1.0 1.05 1.0 1.0 1.0 1.15 20 1.0 16 18 37 124	Fix flaky visual diff test for `amp-o2-player - Amp By Example` . The < URL > visual diff test is currently marked as flaky : < URL > < URL > Please reassign this if you're not the right person to fix this	1	0
1 1 1.2 1.0 1.1 1.0 0.95 1.0 1.0 1.0 1.4761904761904763 63 2.0 8 13 17 89	[ Master feature ] amp-compare-slider . Implement a common image-slider pattern for publications comparing two different but related images : celebrities then and now ; maps of geographic regions before and after a significant change ; documents before and after editing .	1	1
0 0 1.4 2.0 1.3 1.5 1.25 1.0 1.3333333333333333 2.0 1.5384615384615385 13 2.0 1 8 22 79	< amp-script > : Fix and improve error messages for script hash . There are a few things here ! Changed amp . dev link The error message currently says , : See < URL > ???????????????. . In fact , in < URL > we changed this link to : See < URL > ???????????????. Can we update the link in error messages ? Incorrect message for incorrect script hash If you happen to get the script hash for : < amp-script > . wrong , you might expect to get an error message that says something like , : Script hash for < amp-script > is incorrect . You must include < meta name='amp-script-src ' ' sha384 -...'> . Instead , what you see is this : : amp-script Script hash not found . amp-script[script='user-agent-script ' ] . js must have ' sha384-2pF8pO53GSTphKniorRl5ubWFfal7Bwf7_jBq8_r-SaaoT14q0gAOBzro5gndckK ' in meta[name='amp-script-src ' ] . . This situation can easily happen - if you update your inline JavaScript , you'll get this error unless you're also using tooling to update the hash . Using that wording for missing script hash , too I wouldn't have requested this change independently , but if you like the wording above , you might want to use something similar for a missing script hash . Like : : Script hash for < amp-script > is missing . You must include < meta name='amp-script-src ' ' sha384 -...'> . Or : : < amp-script > : Missing script hash . You must include < meta name='amp-script-src ' ' sha384 -...'> . Uncaught error It would also be DX-positive if this error was caught , so the developer didn't see an additional error in the console , like this : /cc @samouri , @sebastianbenz	2	0
1 1 1.2 1.0 1.0 1.0 1.25 1.0 1.0 1.0 0.9215686274509803 51 1.0 4 14 17 80	Bundle size is using a deprecated octokit API . < URL > : dist-bundle-size . js : Running gulp bundle-size -- on_push_build ... [ 22:38:07 ] Using gulpfile ~ /build/ampproject/amphtml/gulpfile . js [ 22:38:07 ] Starting ' bundle-size ' ... [ 22:38:07 ] Running npx bundlesize -f ' . /dist/v0 . js ' ... [ 22:38:14 ] Bundle size is 87.5 KB { Deprecation : [ @octokit /rest ] octokit . repos . createFile () has been renamed to octokit . repos . createOrUpdateFile () ( 2019-06-07 ) at Object . deprecatedEndpointMethod [ as createFile ] (/home/travis/build/ampproject/amphtml/node_modules/ @octokit /rest/plugins/register-endpoints/register-endpoints . js : 50:28 ) at octokit . repos . getContents . then . catch (/home/travis/build/ampproject/amphtml/build-system/tasks/bundle-size . js : 124:10 ) at process . _tickCallback ( internal/process/nex t_t ick . js : 68:7 ) name : ' Deprecation ' } [ 22:38:15 ] Stored the new bundle size of 87.5 KB in the artifacts repository on GitHub [ 22:38:15 ] Finished ' bundle-size ' after 8.08 s dist-bundle-size . js : Done running gulp bundle-size -- on_push_build Total time : 0m 10s .	1	0
1 1 0.6 1.0 0.8 1.0 0.7 0.5 0.6666666666666666 1.0 0.7012987012987013 77 1.0 1 2 2 6	version `2112231523001` breaks amp-toolbox . Description the new release version : 2112231523001 . breaks an integration in the amp-toolbox repository . Specifically this commit < URL > as the toolbox relies on : latestVersion . Reproduction Steps use the toolbox auto importer feature when optimizing a document on the 2 . x branch Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected 2112231523001  	0	0
1 1 1.0 1.0 0.7 1.0 0.85 1.0 0.6666666666666666 1.0 0.2727272727272727 11 0.0 1 1 8 28	amp-story-player fails to render story . What's the issue ? The amp-story-player fails to render the story . The error mentioned is : error . js : 207 Render timeout waiting for service amp-story-render to be ready . ???????????????of @ error . js : 207 log . js : 727 Uncaught Render timeout waiting for service amp-story-render to be ready . ???????????????at gb ( log . js : 710 ) at ab . f . createError ( log . js : 359 ) at timer-impl . js : 142 at timer-impl . js : 83 . How do we reproduce the issue ? Use the amp-story-player on a page . < URL > What browsers are affected ? Confirmed  in Chrome , Firefox and Safari . Which AMP version is affected ? Latest player release .  	0	0
0 0 0.6 0.0 0.4 0.0 0.75 1.0 0.6666666666666666 0.0 1.0845070422535212 71 1.0 3 4 17 103	Add swipe down gesture to close the amp-story bookend on mobile .	2	1
2 2 1.8 2.0 1.8 2.0 1.35 1.5 1.6666666666666667 2.0 1.4395604395604396 91 2.0 10 13 16 79	amp-img placeholder and fallback changes behavior after viewport rotation . See < URL > Current behaviour if amp-img has both placeholder and fallback and image fails to load : 1- it shows both placeholder and fallback on top of each other 2- when phone is rotated , placeholder goes away and fallback stays if amp-img has just placeholder and image fails to load : 1- it shows placeholder 2- when phone is rotated placeholder goes away . Expected behaviour if amp-img has both placeholder and fallback and image fails to load : 1- it shows placeholder while image is loading 2- when we know image failed , only fallback should be displayed 3- rotation of the phone should have no impact what-so-ever if amp-img has just placeholder and image fails to load : 1- it shows placeholder while image is loading 2- when we know image failed , placeholder should remain displayed 3- rotation of the phone should have no impact what-so-ever	2	0
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.6666666666666667 2.0 1.5 10 2.0 3 8 14 44	Remove Purification for Valid Templates . Change you'd like to see Remove JavaScript driven purification for valid : amp-mustache . templates . This reduces execution time to render templates significantly . AMP Mustache with 44 single depth DOM items Before After 670ms 270ms Summary Can we safely remove purification , if the document templates can be purified during validation ? Assumptions 1 . Templates can either be inside a : < template > . or : < script type='template'> . . 2 . Template does not use a triple tick ( output to : innerHTML . ) . Requirements 1 . Enhance Validation and Document ingestors to validate templates . 2 . Remove : DOMPurify . from : < amp-mustache > . and : < amp-script > . converting it to a service that can be lazily loaded or bundled directly as needed . 3 . When a document comes from a cache , and has been marked with exclusively safe templates - use Mustache directly . 4 . In the case when a document is unsafe , request the : Purify . service and use for all templates . Enhancements 1 . Work with teams to deliver a signal an ingested valid document is sub-optimal due to unsafe templates . This information can be delivered async ( Search Console ) or sync ( Validation Warning ) . Describe alternatives you've considered Default to using < URL > , and fallback to current : Purify . logic in a service when trusted types are not available . Edit : Resolves #26472	2	1
2 2 1.0 1.0 0.8 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 1 1 6	Feature request : Ability to vary or remove page content based on geo . There are several use cases for needing to vary or remove content ( including ads ) that is displayed on a page depending on the location of the reader : -- When somebody views a page in the UK , don't show ads . When viewed outside the UK , the ads should show . -- When presenting a page in the US , there should be a ' Sports ' menu that includes links for ' NFL ' , ' MLB ' , ' NBA ' , etc . When presenting the menu in the UK , it might show ' Football ' , ' Formula 1 ' , ' Cricket ' , etc . Other locations might have further variation .	2	1
1 1 0.6 1.0 0.8 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 7 27 82	Scroll to top in IOS . What's the issue ? When a form element ( input , textarea etc . ) that is declared FIXED in CSS or inside a FIXED parent , becomes focused ( is clicked ) , the page is scrolling automatically to the top of the page . This is not happening in a normal html page , only in AMP version ( all the other elements are exactly the same ) . How do we reproduce the issue ? < URL > The above link is the AMP version page 1 . Scroll until the header element ( H1 text on white background disappears ) and the background start to change its color . 2 . Click inside the FIXED input element . 3 . At this moment the content scrolls automatically to the top , loosing the position where the user was . < URL > The above link is the HTML version page . All the steps 1-2 have the same behavior . In step 3 , the input gets the focus leaving the scroll to the position it was . Clicking outside , will just close the IOS keyboard and return in the content at the previous point vertically . What browsers are affected ? Apple Iphone 6S , IOS 8.1.2 , Safari browser Which AMP version is affected ? Here are two screenshots with the input element focused . First is the HTML version , second the AMP .	2	0
1 1 1.0 1.0 0.8 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 4 9 17 58	< amp-position-observer ? > [ iOS Safari ] double tap link issue . What's the issue ? In iOS Safari , we have a little bit weird behaviour . if someone tap a link one time , the link does not work well sometimes . if tap twice , the link works well . < URL > . How do we reproduce the issue ? this is the reproducible url . < URL > go to < URL > tap to some links like this . scrolls to some posts and tap links . This issue is not 100% reproducible , My feelings is 20 - 30% reproducible . hypothesis We are trying to fix this issue , if we removed scroll-to-top button from the right down corner , this issue is not occurred . I am not sure the detail reason , but I guess amp-position-observer might have some problems . What browsers are affected ? iOS Safari Which AMP version is affected ? 2002251816300	1	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 3 4 23	amp-img , when used with thumbor , gets an ' Malformed URL ' error . What's the issue ? amp-img , when used with < URL > , gets an ' Malformed URL ' error original link works : < URL > after deploying and using amp cdn , the link becomes like this and no longer works because some characters have been altered : < URL > thumbor logs : ???2021-01-04 05:21:18 thumbor : WARNING Malformed URL : /g3PaduaVx6xYAldjNou6Vq7YUMs = /filters : watermark%28ngontinh-prod/icon/logo-text . png , -10 , -10 , 10 , 30%29/ngontinh-prod/story/thumbnail/ac-nhan-thanh-doi . jpg ??????2021-01-04 05:21:18 tornado . access : WARNING 400 GET /g3PaduaVx6xYAldjNou6Vq7YUMs = /filters : watermark%28ngontinh-prod/icon/logo-text . png , -10 , -10 , 10 , 30%29/ngontinh-prod/story/thumbnail/ac-nhan-thanh-doi . jpg ( 10.42.0.1 ) ??????2.41 ms . How do we reproduce the issue ? use thumbor and amp-img together What browsers are affected ? All browsers Which AMP version is affected ? Version 2011252111003	2	0
1 1 0.6 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 0.0 0 0.0 0 1 8 61	position-observer : Safari scroll-bound animation only working one direction . What's the issue ? Scroll-bound animations using : direction : ' alternate ' . stop working on Safari when : amp-position-observer . scrolls up out of view . How do we reproduce the issue ? Go to example pen : < URL > Scroll all the way down to the bottom of the pen . Notice the animation is working . Scroll back up , and the animation won't reengage . This seems to be the case using : direction : ' alternate ' . . Setting to : direction : ' reverse-alternate ' . appears to work as expected . What browsers are affected ? Tested versions : Desktop Safari Version 10.1.1 ( 12603.2.4 ) Mobile Safari Version 10.0 on iOS 10.3.3 Which AMP version is affected ? v0 , v 0.1 for : amp-position-observer .	1	0
0 0 0.4 0.0 0.8 1.0 0.75 1.0 0.3333333333333333 0.0 0.7222222222222222 72 1.0 8 10 22 84	loading v0 . js twice should not cause errors . currently since : amp-img . is defined in v0 . js and has no module wrapper it is double registered . to prepare for module/no-module , v0 must work even when it is double loaded . in the module/no-module case where both the module and the no-module scripts are fetched , the no-module v0 . js must establish itself as the ' real ' runtime that must be executed and it must also coordinate this with the extension scripts .  	0	0
0 0 1.0 1.0 0.8 1.0 0.85 1.0 1.0 1.0 0.0 0 0.0 1 1 13 70	Pinterest amp-social-share pop-ups board list twice on iOS app . What's the issue ? Taping the Pinterest amp-social-share button pop ups the board list twice on iOS app . < URL > . How do we reproduce the issue ? Login on the Pinterest app . Open any page with the amp-social-share pinterest button ( Ex . < URL > Tap on the share button . What browsers are affected ? Tested on Safari iOS 11.2 . Which AMP version is affected ? Always been broken .	2	0
2 2 1.0 1.0 1.0 1.0 0.8 1.0 0.6666666666666666 0.0 1.0 3 1.0 1 8 18 86	AMP . setState causes browser to request favicon . ico repeatedly . What's the issue ? Whenever : AMP . setState () . is called , the browser makes another request for favicon . ico . How do we reproduce the issue ? In Chrome , with DevTools open , visit < URL > Click the ' Make text green ' or ' Make text black ' button Watch for a new entry in Chrome DevTools Network tab What browsers are affected ? This was observed on : : Mozilla/ 5.0 ( X11 ; Linux x86_64 ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Chrome/ 75.0.3770.100 Safari/ 537.36 . Which AMP version is affected ? 1906141418310	1	0
1 1 0.8 1.0 0.8 1.0 0.65 1.0 1.0 1.0 0.8717948717948718 39 1.0 1 4 7 67	a . json is not a function . < URL > < URL > sample UA's: Mozilla/ 5.0 ( Linux ; Android 5.1.1 ; SM-J320F Build/LMY47V ; de-de ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Chrome/ 42.0.2311.135 Mobile Safari/ 537.36 Puffin/ 6.1.4.16005 AP Mozilla/ 5.0 ( Linux ; Android 4.1.2 ; SHV-E160L Build/JZO54K ; vi-vn ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Mobile Safari/ 537.36 Puffin/ 6.1.4 AP Chrome/ 59.0.2623 Mozilla/ 5.0 ( Linux ; Android 7.1.1 ; Lenovo K8 Note Build/NMB 26.54 -71 ; en-us ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Mobile Safari/ 537.36 Puffin/ 6.1.4 AP Chrome/ 59.0.2623	2	0
2 2 1.6 2.0 1.6 2.0 1.45 1.5 1.6666666666666667 2.0 0.8888888888888888 36 1.0 4 4 17 47	Support required vars in AMP analytics . I recently saw a case where a Google Analytics user failed to correctly send their account id . From reading the code , this is currently a silent failure which is very hard to debug . I think we should introduce a concept of required vars where a trigger fails with a clear error message in the dev tools console if a variable that is absolutely required was not set . CC @rudygalfi @avimehta	2	1
1 1 1.0 1.0 0.8 1.0 0.75 1.0 1.0 1.0 0.0 0 0.0 5 10 26 71	inabox ads bring down Lighthouse score . Ol???, Ap???s realizar uma auditoria do LightHouse em meu site , encontrei uma lentid???o muito grande ao carregar nos an???ncios veiculados pelo o google , pois alguns an???ncios foram constru???dos usando o AMP . Aparentemente os . js do < URL > ( plataforma para criar an???ncios responsivos em html ) est???demorando para ser carregadas , diminuindo assim a performance do meu site . Parte do relat???rio abaixo : Reduzir o impacto do c???digo de terceiros - O c???digo de terceiros bloqueou o encadeamento principal por 2.010 ms Tempo de bloqueio do thread principal AMP - 155 KB - 1.085 ms URL Tempo total de CPU Avalia??????o de Script ???011 ???/ amp4ads-v0 . js ( cdn.ampproject.org ) 1.945 ms 1.668 ms	1	0
1 1 1.0 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 0.6787564766839378 193 1.0 5 6 31 78	[ Story 360 ] Feature discovery UI . Implement the ' move your device ' feature discovery UI . cc @ampproject /wg-stories	1	1
0 0 0.8 1.0 0.8 1.0 1.15 1.0 1.0 1.0 1.7 20 2.0 0 0 14 53	[ A11Y ] Slides carousel : Slides not navigable by screen readers without `controls` attribute present . without : controls . attribute screen reader users lose access to the next/previous buttons ( because their visibility is set to hidden ) and therefore have no way of navigating the carousel . We need to hide next/previous buttons differently ( can't do : display : none . or : visibility : hidden . ) . One approach is moving them off-screen , another approach is using : opacity : 0 . ( my recommendation ) Applies to both : type='carousel ' . and : type='slides ' . [  ] 	0	0
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.0 1.0 0.875 24 1.0 1 2 22 66	Refactor Story Ads and Improve test coverage . Story ads is a single file over 1000 lines , this should be broken down into smaller classes with separate concerns . Once this is completed , many tests are needed to test all public APIs for good test coverage .  	0	0
1 1 1.2 1.0 1.2 1.0 1.35 1.0 1.3333333333333333 1.0 0.0 0 0.0 3 4 7 34	Feature request to add polling support to amp-list . @cramforce @dvoytenko We see a user-case where we need to update certain information on a page , for example images and metadata such as headlines etc , without actually updating the source fil , but instead , using an amp-list , updating the json-data . For example : a user comes to page . html . On that we have an image , a headline and link within an amp-list element . The values of these are fetched from a json through amp-list . And we have an interval of n seconds and we poll the json-file , and if that has changed , maybe there should be a data-update-time='123 ' key within the items [] , the elements are updated in a similar fashion as with amp-live-list . We think there could be use for a smaller interval than 15 seconds , maybe down to even 5 seconds . If needed , we could contribute to this work .	2	1
1 1 1.0 1.0 1.2 1.5 1.05 1.0 1.6666666666666667 2.0 0.0 0 0.0 3 5 19 61	Bookend Schema documentation is incorrect . @choumx Bookend schema documentation ( found here : < URL > is incorrect . The schema should be : : { ' related-articles ' : { ' More to Read ' : [ { title : ' My friends , this is India [ ... ]' , url : ' < URL>' image : ' . /media/b1 . jpg ' } , { title : ' A wonderful weekend with Tenturi ' , url : ' < URL>' image : ' . /media/b2 . jpg ' } , ... ] , } } . This is an important piece of documentation for third-party developers .  	0	0
2 2 1.8 2.0 1.1 1.0 1.05 1.0 1.6666666666666667 2.0 1.0 1 1.0 3 4 9 45	AMP doesn't recognize programmatic changes to HTML markup . Previously verified by @nainar , hoping to get some help here . Full demo Stackblitz : < URL > When creating AMP pages using a dynamic page-builder , such as the editor we've built for AMP on Shopify , dynamic HTML injection typically updates a page . When doing so , AMP state values break . All elements that rely on state become static . The Stackblitz has two complete examples of this behaviour .	2	0
0 0 0.4 0.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 1.108695652173913 46 1.0 8 13 23 64	amp-story : ' thirds ' grid template broken on Safari . Looks like : fr . unit support is buggy . : < amp-story standalone > < amp-story-page > < amp-story-grid-layer template='thirds'> < div class='content ' grid-area='upper-third'>Paragraph 1 < /div > < div class='content ' grid-area='middle-third'>Paragraph 2 < /div > < div class='content ' grid-area='lower-third'>Paragraph 3 < /div > < /amp-story-grid-layer > < /amp-story-page > < /amp-story > . Yields this on Safari :	1	0
2 2 1.0 1.0 1.4 2.0 1.3 1.0 1.0 1.0 1.0 1 1.0 0 4 26 120	amp-analytics : Add support for trigger on change . Feature request Scenario : site has a form with an input text field ( like a destination for a travel site ) . Site owner wants to be able to track what the users start typing , even if they later amend the text . For instance , if the users a ) types ' Rome ' , b ) deletes it before submitting the form , c ) and then types ' London ' and d ) submits the form , the client would like to have fired an analytics request right after a ) , containing ' Rome ' . Since < URL > , we cannot directly use it for tracking the behavior described above . And even if it did , we still couldn't pass the value of the input , as it < URL > . Thus , for achieving this , a new trigger for : amp-analytics . would have to be implemented , : on change . of an : input . element . Workaround There is a possible work around , using an auxiliary form , and daisy chaining the original form and the auxiliary one . Define attribute : on : input-debounced . of the destination input field a ) updates the state , which is used to update the value of a hidden input of a second form and b ) submits the second form . With appropriate selectors in the amp-analytics trigger , this works . < URL > .	1	1
1 1 1.4 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.7304347826086957 115 1.0 3 8 17 57	Allow viewers/players to subscribe to Story state updates . . < URL > introduced a viewer <> runtime messaging API to get/set Story internal states , such as : CURRENT_PAGE_ID . or : MUTED_STATE . . Additionally , we should provide a way to subscribe to these state updates , for viewers/players building features that need to be kept in sync with the story's states . cc @ampproject /wg-stories [  ] 	0	1
1 1 0.8 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 1.5 4 1.5 0 14 24 153	Update license files with better spelling of cat . See < URL >  	1	2
0 0 0.6 0.0 1.1 1.0 1.2 1.0 0.3333333333333333 0.0 0.6746411483253588 209 1.0 3 7 9 32	Write amp-story-animation documentation . How to write custom animations for stories is a question we get a lot , and : amp-story-animation . is pretty amazing . But undocumented :( cc @ampproject /wg-stories  	0	0
1 1 1.4 1.0 1.7 2.0 1.7 2.0 1.3333333333333333 1.0 2.0 1 2.0 7 13 21 74	amp-iframe : Add support for message protocols of popular libraries that do resizable iframes . Many sites use libraries like < URL > to implement resizable iframes . In AMP , : amp-iframe . has its own message protocol for implementing < URL > ( < URL > Currently , in order to take existing legacy content and put it into AMP pages , they have to be updated to use the the AMP-specific message protocol . It would be great if : amp-iframe . could be made aware of the protocols of popular resizable iframe libraries ( like Pym . js ) , as this would facilitate migration to AMP . This was proposed by @thomaswilburn in < URL > Alternatively , if the AMP project actually cares about working with the community , perhaps they should implement compatibility with legacy Pym messages . There are a lot of static graphics generated with tools like our Dailygraphics Rig that are not going to be upgraded to a new Pym or Sidechain , because it's not reasonable to dig all of them up and republish them . Having AMP support the news industry's de-facto embedding standard would be a real sign of goodwill . For more historical context : < URL >	2	1
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.0 1.0 1.0227272727272727 132 1.0 7 18 29 121	Disable margin-top for initial bookend heading . The first heading in the list comes below the sharing section , which has its own spacing . The double spacing ends up looking very large :	2	0
1 1 1.8 2.0 1.3 1.0 1.05 1.0 1.6666666666666667 2.0 1.6666666666666667 18 2.0 2 2 15 45	Video should go to fullscreen mode on orientation change into landscape . If a visible video with landscape aspect ratio is playing ( autoplay or user-initiated ) in the middle of the screen in portrait mode and user rotates device into landscape , it is a strong signal user wants immersive fullscreen and therefore video should automatically go into fullscreen mode . We may want to put this behind a page-level config ( ideally opt-out ) . UX thoughts ? @cramforce @rudygalfi @edlea -g  	2	2
1 1 0.8 1.0 0.7 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 3 4 23 81	amp-story : Blurred background image's aspect ratio is wrong . What's the issue ? The blurred image background aspect ratio looked wrong . How do we reproduce the issue ? Instead of squashing the 9:16 background image asset . Scale up the image to the same size as the browser width then crops from the center . What browsers are affected ? Chrome . Desktop does not support on Safari yet ? cc : @alanorozco @newmuis @choumx @prateekbh	1	0
0 0 1.4 2.0 1.4 2.0 1.2 1.0 1.0 1.0 1.1236559139784945 186 1.0 3 9 15 58	Lower specificity of default story font size . We set a default font size on the : < html > . atribute by selecting : html . i-amphtml-story-standalone . . We should do this in a way with a lower specificity , so that it's more easily overridden . It can currently be overridden with something like : : html[?????? : root , html[amp ]: root { font-size : 16px ; } .	2	0
2 2 0.8 1.0 0.7 1.0 0.9 1.0 1.0 1.0 1.5714285714285714 7 2.0 2 5 12 56	Move from bower to yarn for chrome extension build . Bower is deprecated : npm WARN deprecated bower @1 . 8.8 : We don't recommend using Bower for new projects . Please consider Yarn and Webpack or Parcel . You can read how to migrate legacy project here : < URL > . Use Yarn instead Follow < URL > Additional context This is for the AMP Validator Chrome Extension's < URL > script .	2	1
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 0.9736842105263158 76 1.0 8 12 16 81	Deprecate < amp-image-viewer > in favor of < amp-pan-zoom > . : < amp-image-viewer > . is currently a private AMP Element used only by : < amp-lightbox-gallery > . . It's main benefit is its custom srcset logic that upgrades the src on zoom . Based on work with : auto-sizes . , : < amp-img > . will soon be able to handle this out of the box , thus we should be able to refactor : < amp-lightbox-gallery > . to use : < amp-pan-zoom > . instead .	2	1
1 1 0.8 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 2.0 2 2.0 0 2 3 16	Nested AMP elements are never scheduled for layout in Carousel . @dvoytenko pointed out this issue regarding amp-elements used as : placeholder . inside other amp-elements . For example : amp-anim > amp-img . placeholder . . You can test it out by just launching the < URL > and notice that : amp-anim > amp-img . placeholder . element is never actually gets laid out . Or for a better effect try to load the < URL > . This is true to nested amp elements and not just placeholders that are not scheduled by the : discoverWork_ . flow . ( i.e. A parent element has scheduled its children for layout/preload ) . : scheduleLayoutOrPreloadForSubresources_ . needs to account for nested amp-elements resources and schedule these as well . This is not limited to carousel , any amp element that will schedule layout or preload for its elements is prune to having this issue if it contains nested amp elements .  	0	0
2 2 1.2 1.0 0.9 1.0 1.25 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 12 26 104	Intent to implement : SambaPlayer embed support . This proposes an : < amp-samba-player > . component for < URL > media player that would allow its publishers to embed a responsive player in their AMP pages . Example : < amp-samba-player data-project-id='0123456789abcdef0123456789abcdef ' data-media-id='fedcba9876543210fedcba9876543210 ' layout='responsive ' width='640 ' height='360'> < /amp-samba-player > . The above markup will create an iframe with the URL < URL > The : data-project-id . attribute is required while : data-media-id . can be omitted meaning a live content . See extension < URL > for details . Here's the < URL > . Best	1	1
1 1 0.8 1.0 1.2 1.0 1.05 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 1 23 105	Inten t-t o-Implement : Analytics service configuration for Wipe Analytics . This is an intent to implement a new vendor in amp-analytics : Wipe Analytics . PR and additional information coming soon .  	1	2
2 2 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.4615384615384615 65 2.0 10 15 19 91	[ Master feature ] iframe <--> document messaging . Feature description : When specific behaviors are not supported natively in AMP , one way to implement them is to use amp-iframe ???but this has the limitation of restricting interactive behaviors solely to either the parent doc or to the iframe . This limits the possibilities for complex behaviors like interactive maps & data visualizations . This feature implements a messaging protocol between iframes and the parent document , to flexibly broaden the number of use cases supported in AMP . Related issues : #9074 , #12498 Related PRs : #11395 , #14273 , #15009 , #15162 , #15163 , #15472 , #15617	1	1
1 1 0.6 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 6 21 132	WebP image generated by AMP Cache bigger than original JPEG image . What's the issue ? The AMP cache < URL > in : image/jpeg . format into : image/webp . , which for some cases results in bigger than the original images . How do we reproduce the issue ? I have created one such example : - Self hosted : < URL > - AMP Cache hosted : < URL > Now compare the images : - JPEG : < URL > ( 25.6 KB , 640???20 ) - WebP : < URL > (?????? 30.9 KB , 640???20 )	1	0
2 2 1.2 1.0 1.3 1.0 1.35 1.0 1.0 1.0 1.4 5 1.0 1 1 15 87	[ Story Interactives ] Make interactive components not tap targets on post-select . Set cursor events to none on interactive components that are on post-select or non-selectable , so that users can tap on them to go to the next page Set title to non-selectable , only options should be clickable  	0	1
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 12 26 94	setTimeout stub in 3p/environment . js bug in inner iframe . What's the issue ? If using AMP-AD And the content has inner ifframe And instrumentEntryPoints(win ) is called for the inner iframe clearTimeout inside the inner iframe will not work How do we reproduce the issue ? The issue is simple function instrumentEntryPoints(win ) { // Change setTimeout to respect a minimum timeout . const { setTimeout } = win ; win . setTimeout = function(fn , time ) { time = minTime(time ); arguments[1 ] = time ; return setTimeout . apply(this , arguments ); }; ... setTimeout for the inner iframe is replaced by a call to setTimeout in another window Since each window has its own timers , calling clearTimeout on the returned timer in the inner Iframe will not do anything or worse will clear another timer with the same id in the other window Not sure how to reproduce Experienced it in an ad but its not live anymore What browsers are affected ? All Which AMP version is affected ? Any Suggestion I thing the fix is simple Just replace return setTimeout . apply(this , arguments ); with return setTimeout . apply(win , arguments );	1	0
1 1 1.2 1.0 1.1 1.0 1.1 1.0 1.0 1.0 0.896551724137931 29 1.0 1 1 8 50	??????Story Ads should not show share icon . We should hide the share icon when ads are showing .	1	0
2 2 0.8 0.0 1.0 1.0 0.85 1.0 0.6666666666666666 0.0 0.0 0 0.0 2 8 20 88	amp-ads flickering . What's the issue ? On page render , if an ad unit is in the viewport , sometimes the unit tries to collapse and then immediately tries to take back its space . It's not a consistent bug , it happens from time to time and is most probably tied to the load sequence and DFP . See videos : < URL > < URL > What's worth noting is that we haven't recently made any changes to our amp-ads code . So it's either something that has been there for several weeks and we just fail to catch it , or it's browser dependent or amp dependent . Our main developer being out of the office for a few weeks , it's hard to know exactly what's causing this since it falls a bit out of my skills scope . We see in the log a warning message about multi-size validation , but it's been there since the beginning and as far as the doc goes , as long as we set it to false , it's not a problem How do we reproduce the issue ? Hard to reproduce . We see it sometimes , on chrome 65 ( what I'm using right now ) . Best is to refresh this page a few times ( scrolled top ) and you might see it happen . < URL > < URL > What browsers are affected ? Chrome , at least . Which AMP version is affected ? 1521658019509	1	0
2 2 1.4 2.0 1.5 2.0 1.5 2.0 1.3333333333333333 2.0 0.0 0 0.0 4 7 10 79	WebP Detection for CSS background images . Describe the new feature or change to an existing feature you'd like to see Be able to detect WebP broswser support , similar in functionality to Modernizr feature detection . Simply adds a : . no-webp . or : . webp . on the : body . . This will help with using : . webp . images as CSS : background-image . s Describe alternatives you've considered You could possibly have a webp image stacked on top of a non-webp image using html elements so that the image would load as fast as the browser can support , but this would still load both images on supported browsers .	2	1
2 2 1.2 1.0 1.1 1.0 1.2 1.0 1.6666666666666667 2.0 1.2727272727272727 22 1.0 3 12 36 73	update s to use yarn insead of npm . we are migrating to yarn for more deterministic builds  	1	2
2 2 1.6 2.0 1.2 1.0 1.0 1.0 1.6666666666666667 2.0 1.0 1 1.0 1 3 5 63	Video is played with sound on the mute mode in STAMP FFox MacOS . What's the issue ? Video is played with sound on the mute mode in STAMP FFox MacOS How do we reproduce the issue ? Go to < URL > tap for switching to the next page Observe result Actual result : video is playing with sound in the mute mode Expected result : video should play without sound in the mute mode . Notice : When I tap twice on the mute button , video plays without sound . What browsers are affected ? FFox MacOS Which AMP version is affected ? 012005150002001 Is this a new issue ? Or was it always broken ? Paste the version of AMP where you saw this issue . ( You can find the version printed in your browser's console . )  	0	0
1 1 1.0 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.0357142857142858 28 1.0 8 11 24 92	Split up callout-vendors into multiple files . The current callout-vendors file setup should be changed so that each vendor is in its own file so that we can easily incorporate owners .	1	0
1 1 0.8 1.0 0.8 0.5 0.8 1.0 1.0 1.0 1.0285714285714285 35 1.0 8 19 29 106	amp-subscriptions broken in shadow doc in latest canary . There error thrown is : Powered by AMP ???HTML shadows ???Version 1812181822170 2log . js : 525 Uncaught ( in promise ) No ampdoc found for [ object HTMLHtmlElement ] at cb ( log . js : 525 ) at $a . f . createError ( log . js : 286 ) at Jn . f . getAmpDoc ( document-state . js : 144 ) at C ( service . js : 345 ) at new Fb ( service . js : 250 ) at new Hb ( local-subscription-platform . js : 70 ) at amp-subscriptions . js : 143 at Array . forEach ( < anonymous > ) at amp-subscriptions . js : 289 . Which appears to be triggered by < URL > What seems to be happening is : getAmpdoc . fails to find the ampdoc service from the : documentElement . we just got from : ampdoc . win . document . . The repro case has a multi nested shadow doc which may be contributing . Reproduction steps : Open an Incognito Window Go to < URL > and enable dev-channel Go to < URL > to enable the SwG experiment on the Gedi side Go to an article to observe the console error and missing content  	0	0
0 0 0.8 1.0 0.9 1.0 1.15 1.0 0.6666666666666666 1.0 1.4285714285714286 14 2.0 2 3 24 98	[ Master Feature ] Payment component in AMP . AMP currently supports transactions in only limited contexts like via amp-iframe w/ the Payment Request API ???however this omits many important use cases . This activity would implement a more robust payment component in AMP , potentially including integrations with third-party payment processors , widgets , wallets , etc ( these should be supported somehow regardless ) . Scope for Q4 2018 is a high-level plan for approach , and potentially design doc	2	1
0 0 0.8 0.0 0.9 0.5 0.75 0.5 0.6666666666666666 0.0 0.0 0 0.0 5 14 18 97	amp-date-picker height is not correct . Environment windows chrome 63.0.3239.108 Description amp-date-picker's height is set with a specific value when it is initialized . But the height isn't enough with some particular months .	2	0
0 0 0.6 1.0 1.2 1.0 1.2 1.0 0.6666666666666666 1.0 1.0864197530864197 81 1.0 3 10 21 73	Consider default `prefers-reduced-motion : reduce` rule . Users can now express that they prefer reduced motion in some user agents . Should we provide a default in AMP that reduces animations ? : @media ( prefers-reduced-motion : reduce ) { * { animation : none ! important ; transition : none ! important ; } } . The above would be the biggest hammer and probably not sufficiently compatible . Maybe we can instead reduce the duration to 0 , so that all animations are in their end state . Additionally , transitions and programmatic animations need to also be considered .	1	1
2 2 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.3103448275862069 29 1.0 8 9 22 87	[ Master Feature ] Support AMPHTML ads in mobile apps . This will require the ads SDK that renders the ad to recognize and deliver the AMPHTML ad to get information like view-ability and getting scroll bound animations to work .	1	1
1 1 0.6 1.0 0.7 1.0 0.95 1.0 0.6666666666666666 1.0 1.2222222222222223 198 1.0 2 2 18 76	[ Extension loading ] amp-story : template rendering : rejected promise [ object PromiseRejectionEvent ] . go/amp-error/CMP50_38xZLcmQE does not seem to have a user-visible effect based on my testing , and does not seem to be new ( I can see it as far as March ) It is reproducible when hitting < URL > ( Chrome , Mobile Device Mode )	2	0
2 2 1.4 1.0 1.4 1.5 1.1 1.0 1.6666666666666667 2.0 1.0 43 1.0 3 6 20 111	iframe transport was inadvertently deleted . I don't believe this is a new issue , but we started to report it as dev error recently . iframe transport was inadvertently deleted at Error ( < URL > at apply ( < URL > at apply ( < URL > at error ( < URL > at sendRequest ( < URL > < URL >	1	0
2 2 1.6 2.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 1.7142857142857142 7 2.0 6 12 18 101	Validator : Make AttrSpec . value and AttrSpec . value_casei into repeated fields . There are several validator rules which use : AttrSpec . value_regex . and : AttrSpec . value_regex_casei . simply to produce an : OR . of allowed values . For example : : tags : { tag_name : ' BASE ' ... attrs : { name : ' target ' value_regex_casei : ' _blank|_self|_top ' } } . It would be more readable if : AttrSpec . value . and : AttrSpec . value_casei . were simply repeated fields . If present , this means that any of these values are considered legal , not just one of them . To make this change work , we would need to handle : dispatch_key . fields which involve the attribute value . The easiest approach would be to disallow these if there is not exactly one : value . attribute in the repeated list .	2	1
2 2 1.4 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 1.0 1 1.0 1 1 6 32	Move amp-story-interactives into it's own extensions . Currently amp-story-interactives are loaded in the amp-story extension , but we want to lazy-load them or import the script only whenever necessary to avoid loading them on all the stories	1	1
1 1 0.8 1.0 0.7 1.0 0.85 1.0 1.3333333333333333 1.0 0.0 0 0.0 2 13 24 95	amp-bind : Broken on iOS 9.3 in SERP viewer . What's the issue ? On iOS 9.3 devices , amp-bind does not modify the page when the amp page is viewed in the Google Search Results ' amp viewer iFrame . When viewed in an iOS 9.3 tab directly or viewed in iOS10 Google Search Results amp viewer iFrame , amp-bind does modify the page . How do we reproduce the issue ? To reproduce : 1 . View on iPhone or simulator using iOS 9.3 or lower 2 . Search google.com for ' Campmor sleeping bags ' 3 . Click on Category page link shown below 4 . Try to filter the category results using the ' Filter ' Dropdown at the top . 5 . Selecting a filter option will initiate amp-bind . Buggy Behavior : - Selecting a ' Filter ' does not filter search results - < URL > Expected Behavior : Selecting a ' Filter ' filters the search results < URL > What browsers are affected ? Amp pages viewed in Google Search Results iFrame on iPhone or xcode simulator using iOS 9.3 or lower . Which AMP version is affected ? We believe that this has always been an issue . The campmor example reports Version 1524089272632 . This is one example . We have seen several examples of amp-bind not working in iOS 9.3 Google Search Results . For many of our US clients , iOS 9.3 is less than 1% of traffic . However , for some European clients , we have seen iOS 9.3 accounting for up to 2% of the clients ' traffic , so we would appreciate it if you could look into the source of this problem .	2	0
1 1 1.2 1.0 1.4 1.0 1.3 1.0 1.0 1.0 1.1666666666666667 12 1.0 2 2 24 78	Find a way to test shadowdom in multiple browsers in `gulp test` . Would have prevented #11266 . Ensures that styleSheets exists on the shadow root reference .	2	0
2 2 1.2 1.0 0.8 1.0 1.05 1.0 1.3333333333333333 2.0 0.0 0 0.0 4 7 19 65	amp-carousel jumps to last slide when the visibility of its parent container is toggled . What's the issue ? amp-carousel jumps to last slide when the visibility of its parent container is toggled How do we reproduce the issue ? See jsbin here : < URL > 1 . Tap blue or green preview thumbnail ( i.e. not first or last ) 2 . Tap carousel 1 3 . Tap carousel 0 4 . Carousel 0 now jumps to final slide Expected : carousel 0 stays on same slide . Note that the problem does not occur if the visibility of the carousel is toggled directly , as opposed to its parent , e.g. in this jsbin the issue does not occur < URL > ( Note , the problem also occurs if amp-bind is used to interact with the carousel & trigger [ slide ] and [ class ] changes ( took me a couple of days to realise the issue wasn ; t related to amp-bind :'( ) What browsers are affected ? Firefox 53.0.3 , 54.0 MacOS Desktop FAIL , Firefox mobile Android FAIL Chrome desktop OK , Chrome mobile Android OK , Firefox mobile iOS10 OK That's all I checked Which AMP version is affected ? 1496877433269	1	0
2 2 1.0 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 2.0 0.0 0 0.0 4 12 17 74	amp-img : Issues with IE11 and layout='intrinsic ' . What's the issue ? When using : layout='intrinsic ' . , images displayed using : amp-img . are squashed , or not displaying at full size , in IE11 . Visually , it looks like the same issue as : < URL > but I'm not experiencing any JavaScript errors . I did try the CSS fix suggested in that issue , just in case , but it didn't seem to fix the issue for me . How do we reproduce the issue ? There's a really basic example of the issue here : < URL > I also can see this issue on most sites listed here ( I also originally ran into it using the AMP WordPress plugin ): < URL > View the above links in a modern browser and note image sizes View again in IE11 ; note that there can be distortion ( width respected , but not height ) , or just really tiny , square images . What browsers are affected ? IE11 in Windows 8.1 , 8 and 7 ( using Browserstack ) . Edited to add : have also confirmed it's happening on a regular Windows 7 machine running IE11 , version 11.0.9600.19230 . Which AMP version is affected ? 2005050322002 , but I'm not sure if the issue occurs in versions prior to that -- there are some newer reports at the end of #17652 .	2	0
2 2 1.4 1.0 1.1 1.0 1.2 1.0 1.6666666666666667 2.0 0.9285714285714286 42 1.0 0 4 9 35	[ amp-story ] Joint latency in media performance metrics investigation . Joint latency is supposed to measure the initial buffering of a video ( should measure as soon as the video bytes are being fetched from the server ) , but I'm seeing otherwise . Doing a manual sanity check shows that : MediaPerformanceMetricsService . startMeasuring () . is called after the video bytes started loading in the network tab ( best seen in slower connections ) . Currently , we start measuring it after the : registerAllPromise . in amp-story-page , which I think is too late if we want to measure that initial buffering . < URL > /cc @ampproject /wg-stories  	0	0
0 0 1.0 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 0.0 1.1904761904761905 21 1.0 6 18 33 95	TypeCannot read property ' createdCallback ' of null . : TypeCannot read property ' createdCallback ' of null at HTMLElement . Lf . b . gc ( < URL > at < URL > . Seeing this in Android and iOS , so not a nessy . Original locations are : : Cannot read property ' createdCallback ' of null at HTMLElement . Lf . b . createdCallback ( < URL > at < URL > .	1	0
1 1 0.4 0.0 0.6 1.0 0.65 1.0 0.3333333333333333 0.0 1.4722222222222223 72 2.0 3 11 35 147	Include details on div separator in amp-next-page s . Currently does not instruct users on available features ???needs : < div separator > . details . Is anything else missing ? /cc @aghassemi    	0	2
1 1 0.8 1.0 0.9 1.0 1.05 1.0 0.6666666666666666 1.0 1.0454545454545454 22 1.0 4 11 12 71	Resolve preact + react-dates incompatibility . The : date-range-picker . ' s : onFocusChange . behavior is strange when used with : preact . , but works correctly with : react . . To get the size benefits of : preact . , we would prefer to find the root cause and open a PR on the : react-dates . project to make the behavior match for either library . /cc @cramforce @kristoferbaxter  	0	0
1 1 0.6 1.0 0.9 1.0 0.9 1.0 0.6666666666666666 1.0 0.96875 32 1.0 7 12 28 85	Fix broken tests ' should ping correct host with 3p error message ' in `test-user-error-reporting . js` . This test breaks on multiple browsers in SauceLabs , and was disabled in #19782 . Please triage and fix Disabled test : < URL >  	0	0
2 2 1.4 2.0 1.4 1.5 1.45 2.0 1.6666666666666667 2.0 1.4 5 2.0 3 7 8 39	Variable substitution in iframes - request to revisit #4573 . in #4573 @cramforce wrote and the issue was closed . We do not want to make variable substitution available to amp-iframe , because that opens up usage of it for undesired purposes such as ad serving and analytics . I'd like to request we revisit this issue . The specific use case is video players in amp-iframes . None of our customers are currently using : amp-video . or amp-specific version of players in production due to the need for pre-roll ads and the presence of significant existing legacy video infrastructure . While we can make the players work in an : amp-iframe . with some https juggling we can't correlate ads between the video and the page . We'd like to be able to pass to the iframe standard variable substitutions . Some we can do at page build time ( static things like page urls ) but the CID , timestamp , page view id etc . can't be done statically . Yes this would allow ads and analytics in iframes . That's what we need to make video monetize at it's full potential .  	1	2
0 0 0.6 1.0 0.8 1.0 0.9 1.0 0.3333333333333333 0.0 1.2156862745098038 153 1.0 3 5 25 92	null is not an object ( evaluating ' c . naturalWidth ' ) . Looks like amp-auto-lightbox needs to handle amp-img's unlayout case . For prod 1911121900560 , this is our current top error report . : go/ampe/CKeCkqOTj53cWg . .  	0	0
1 1 0.8 1.0 0.8 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 7 15 23 96	amp-mustache- 0.2 sanitizes < use > SVG tag . If template contains : svg . tag with : use . tag inside , : use . tag will be deleted . : < template type='amp-mustache'> < svg viewBox='0 0 24 24 ' class='svg-icon'> < use xlink:href='#icontest'></use> < /svg > < /template > . The result will be : : < svg viewBox='0 0 24 24 ' class='svg-icon'> < /svg > . What's the issue ? SVG : use . tag used for assigning images ( icons ) from sprite resource . It works normally in AMP but AMP-mustache template wipes it out . How do we reproduce the issue ? Example of reproducing : < URL >	2	0
0 0 0.6 1.0 0.9 1.0 0.9 1.0 0.3333333333333333 0.0 0.0 0 0.0 2 3 21 48	amp-script component is broken on IE 11 . What's the issue ? : < amp-script > . doesn't work on IE 11 and throws the error : : Object doesn't support property or method ' startsWith ' . How do we reproduce the issue ? Go to < URL > Click : Hello amp-script ! . button Expected Button should be replaced with : Hello World ! . text . Actual Button does nothing and a console error is triggered : What browsers are affected ? IE 11 Which AMP version is affected ? Powered by AMP ???HTML ???Version 2007040248002  	0	0
1 1 1.4 1.0 1.2 1.0 1.25 1.0 1.0 1.0 0.3333333333333333 3 0.0 3 11 26 123	Fluid size error on amp validator . Hi , we have an error that seems to impact on all the other amp-ad positions . The error in the amp validator occurs inserting the amp-ad as indicated in the documentation with layout and height fluid but without width as indicated in the documentation ( < URL > amp-to-network-doubleclick-impl / fluid.md ) . layout='fluid ' height='fluid ' Below a live test page : < URL > Is it possible to solve the problem in order to avoid problems on other adv positions in the page ? Thanks so much nicola	1	0
2 2 1.4 2.0 1.3 1.5 1.0 1.0 1.3333333333333333 2.0 2.0 2 2.0 4 7 10 29	[ amp-story-player ] Player automatically fire noNextStory event on show method called when last story was read until the end witrh autoplay . . What's the issue ? Player automatically fire : noNextStory . event on : show . method called when last story was read until the end witrh autoplay . How do we reproduce the issue ? Create a story with autoplay on last page . Put it in an amp-story-player . Read the story untill the end ( using autoplay on the last page ) Try to use : show . and : play . , the : noNextStory . event automatically fires .  	0	0
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.0941176470588236 170 1.0 4 10 20 77	Page attachment should open/close on ???/ ???keydown . We should make the ???and ???arrows open and close the attachment respectively . ???seems non-controversial to me ???might be tricky , since when the attachment is open , one might also interpret ???to scroll down ( ESC should also probably close it )	2	1
2 2 1.4 2.0 1.4 2.0 1.2 1.0 1.3333333333333333 2.0 0.9574468085106383 47 1.0 1 2 6 47	' No request strings defined . Analytics data will not be sent from this page . ' should be a user error . This is polluting our prod logs .	2	0
1 1 0.4 0.0 0.8 1.0 0.9 1.0 0.6666666666666666 1.0 1.0 1 1.0 3 3 8 73	shadow dom : Incorrect values for CANONICAL_URL variable . What's the issue ? We noticed that often the value of the CANONICAL_URL is incorrect when an AMP document is injected via : < amp-viewer > . in a Progressive Web App . When the problem occurs the CANONICAL_URL assumes the value of the injected AMP document URL . How do we reproduce the issue ? You can reproduce the issue here : < URL > The canonical URL of the document is : : < link rel='canonical ' href='<URL>' > . while the URL of the AMP injected via : < amp-viewer > . is : < URL > In the AMP document there are several references to the CANONICAL_URL variable , for instance : : < amp-state id='votogenerale ' src='<URL>'></amp-state> . If you , on the browser's development tool , track the related network request you get this : < URL > What browsers are affected ? The issue has been detected on Firefox 56 version . Which AMP version is affected ? AMP Version 1513979839742	1	0
1 1 0.6 1.0 0.8 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 1 8 14 56	Copy data-* attributes from amp-img onto img . I currently display a hidden image at the bottom of my website for users to pin by using this code : : < div class='hidden-pin-image'> < img src='image/gif;base64 , R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ' data-pin-media='<URL>'> < /div > . The : src . attribute is a 1x1 blank image , and the : data-pin-media . attribute is the one that holds the actual pinnable image . I have the Pinterest extension installed on Google Chrome . When I click on the Pinterest logo next to the URL bar in Chrome , Pinterest pulls the 1Remy_Hawaii . jpg image correctly . However , when AMP is activated , the : img . tag gets converted to an : amp-img . , which causes the Pinterest extension to no longer be able to pull the image correctly . I noticed this behavior when I went to check our Pinterest stats , and noticed that our number of pins had decreased . However , I see that inside : amp-img . , there is a : < i-amphtml-sizer class='i-amphtml-sizer'> . piece that contains an : img . tag . But this : img . tag did not carry over the data-pin-media attribute . If I open the developer console , copy and paste the : data-pin-media . information into the HTML , and try to use the Pinterest extension again , then Pinterest does pull the correct image . Is there a way to let the AMP plugin know that this attribute needs to be carried over to the : img . tag inside : i-amphtml-sizer . ? The other alternative would be for the Pinterest extension to support : amp-img . ' s .	1	1
2 2 1.2 2.0 0.9 0.5 1.05 1.0 0.6666666666666666 0.0 0.9411764705882353 17 1.0 5 12 20 98	amp-mustache : Auto escaping of quote chars .	2	1
2 2 1.2 1.0 1.4 1.0 1.4 1.0 1.3333333333333333 1.0 1.162162162162162 37 1.0 0 4 12 70	Investigate possibility of duplicate triggers . Currently appears to be impossible . But some reports indicate that there might be occurrences . /cc @keithwrightbos	1	0
2 2 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.7837837837837838 74 1.0 3 6 10 43	[ Page attachments ] Attachments do not open when clicked using TalkBack . Appears to be a regression caused by #32736 The click target was moved into shadow dom . < URL > Putting the listener on the container appears to fix this . @ampproject /wg-stories  	0	0
2 2 1.2 1.0 1.1 1.0 1.1 1.0 1.6666666666666667 2.0 1.0441176470588236 68 1.0 6 9 20 57	undefined is not an object ( evaluating ' this . implementation_ . prerenderAllowed ' ) . I think this is because of accessing services in the component's constructor , when it's not yet possible to get . It an error happens in the constructor , then the implementation won't be set . ``` undefined is not an object ( evaluating ' this . implementation_ . prerenderAllowed ' ) at prerenderAllowed ( < URL > at < URL > at < URL > at buildOrScheduleBuildForResource_ ( < URL > at discoverWork_ ( < URL > at < URL > at < URL > at < URL > at < URL > at < URL > at < URL >	2	0
0 0 0.8 1.0 0.8 1.0 1.0 1.0 1.0 1.0 0.9545454545454546 66 1.0 1 2 9 49	Carousel 0.1 : some slides occasionally jump one slide ahead on swiping . To repro : Search for ' sfgate cayote ' Select the article about cayotes on the streets Try to swipe carousel Occasionally the carousel will jump one slide ahead .  	0	0
1 1 0.8 1.0 0.7 1.0 0.8 1.0 0.6666666666666666 1.0 1.0892857142857142 56 1.0 2 3 16 86	AMP-to-AMP ( A2A ) linking . Features for publishers to specify navigation from an AMP page to another AMP page when served from CDN : [ x ] Add per-link opt-in , e.g. : < a href='example . com/amp ' amp > . [ x ] Add whole page opt-in for all navigation features ( links , : AMP . navigateTo . , : AMP-Redirect-To . ) with new boolean attribute on HTML tag e.g. : < html a2a-by-default > . Notes : - The viewer already has an : a2a . capability and page -> viewer message . See : navigateTo () . in viewer-impl . js - Note that this is distinct from the proposed AMP Cache transformation that adds : amp-href . to normal : < a > . URLs that it already has a cached AMP page for /cc @lswang1618  	0	1
1 1 0.6 1.0 1.0 1.0 1.0 1.0 0.6666666666666666 1.0 1.0 1 1.0 4 9 24 135	Date picker does not open in IE 11 . What's the issue ? The date picker does not open in Internet Explorer 11 . The following error is thrown in the console : SCRIPT438 : Object doesn't support property or method ' from ' File : v0 . js , Line : 10 , Column : 275 How do we reproduce the issue ? If this is a bug please provide a public URL and ideally a reduced test case ( e.g. on jsbin.com ) that exhibits only your issue and nothing else . Then provide step-by-step instructions for reproducing the issue : Navigate to < URL > Scroll down to the ' Single Date Picker ' section Click the date input element or one of the action buttons The above error is thrown in the console and the date picker does not open . What browsers are affected ? Internet Explorer 11.0.9600.19002 Which AMP version is affected ? Version 1809142227020  	0	0
0 0 1.2 2.0 1.3 1.5 0.9 1.0 0.6666666666666666 0.0 0.0 0 0.0 0 0 3 19	amp-user-notification cannot be dismissed on iOS . As the title says : dismissing an amp-user-notification doesn't work on Safari on iOS ( tested with an IPhone and this < URL > ) .  	0	0
0 0 0.6 1.0 0.6 1.0 0.8 1.0 0.3333333333333333 0.0 1.1 60 1.0 7 11 23 80	AbortError . Looks from swg . js go/amp-error/CLmH8OjN2JbNWw	1	0
2 2 1.4 1.0 1.4 1.0 1.35 1.0 1.6666666666666667 2.0 0.0 1 0.0 6 11 18 68	Video poster image appears but video never plays . . Video poster image appears but video never plays . - in some cases it never plays even going through the story , so it may just have never loaded - in some rare cases video seemed to instantl plays when going back to that page - this may be coincidence , but happened a few times .  	0	0
0 0 0.6 1.0 0.9 1.0 1.0 1.0 0.3333333333333333 0.0 1.0 4 1.0 1 3 9 74	Significantly speed up `gulp dist` . The build command we run on Travis before running integration tests is : node_modules/gulp/bin/gulp . js dist -- fortesting . . This currently takes more than 13 minutes on Travis , while it takes only ~ 3 minutes on my linux workstation and macbook pro . This issue is to track the compiler work that's being done to speed up the build . Doing so will enable us to turn on integration testing for all PRs , and help keep master green while not overwhelming the Travis build queue .  	0	0
1 1 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 0.6304347826086957 230 1.0 0 1 3 24	[ Story format ] Greatly increase timeout before dispatching ' storyContentLoaded ' event . The : storyContentLoaded . event has the same timeout as the : amp-story-renderer . service , which is 2900ms . This event is used by Players to know when the initial content is loaded . Use cases include : 1 . The open source Story Web Player uses it as a heuristic to start prerendering the following story 2 . Some players could use it to show an animation ( eg : loading spinner ) or a preview before revealing the fully loaded content ( 1 ) makes performance really bad because on a slow initial story load , we'd bloat the network even more by prerendering the next story . ( 2 ) just doesn't work for half the users , as the story would get revealed too early because of the timeout . We should keep a timeout for code safety , I suggest 8000ms which seems to be the 95th percentile according to the metrics we have . cc @ampproject /wg-stories  	0	1
2 2 1.0 1.0 1.1 1.0 1.3 1.0 1.3333333333333333 1.0 1.36 25 1.0 1 2 20 80	[ Master Feature ] Ads- Launch Real Time Config 2.0 . Publishers often have the need to enhance an ad request with targeting or audience information . Real Time Config is a publisher configurable end point that's invoked before the ad request to the ad request is made , so the end point and respond with targeting information that is attached along with the ad request .	1	1
0 0 1.0 1.0 1.2 1.5 1.15 1.0 1.0 1.0 1.125 8 1.0 2 7 11 81	[ Story interactive ] Size components with relative units . Currently components don't scale according to the screen size , but this results in different screen sizes look different . We should scale them with the ems in order to adapt them to all screen sizes and stay more consistent . The conversion units can be 16px = 1em . The options text in the quizzes is exactly 1em that way . For aspect-ratio it looks good out of the box , but without aspect-ratio , grid layers increase the em so it's generally a good idea to add a rule with a root em in the components : : amp-story-interactive-quiz { font-size : 0.8 rem ; } . [ improved ] 	0	0
1 1 1.0 1.0 1.4 1.5 1.25 1.0 1.3333333333333333 1.0 1.0 7 1.0 4 5 14 52	Allow prerendering videos in the runtime . Prerender mode Runtime currently does not load any : < amp-video > . sources on prerender . This needs to change . 1- : amp-video . to append src or any : < source > . that point to a cache URL to the tag during prerender . We??????l check the presence of amp-orig-src to check if the video is cached This is already invalid , so that?????? good . Poster is already rewritten . 2- : amp-video . to set preload attribute to auto IF Not explicitly set by the author AND Step one above resulted in either src or at least one : < source > . to be set during prerender . Because there could be a race condition between the layout and rendering callbacks . Why could we have a problem ? If there is a 404 error during prerender ( e.g. cache not ready ) , runtime WILL NOT follow through origin but will remember which ones 404-ed . Render mode During : layoutCallback () . amp-video need to : 1- Append any non-cached : < source > . to the : < video > . 2- Replace any 404-ed cached src and : < source > . with the original URL . 3- Keep monitoring cached Urls for 404s as there is no guarantee 404 would happen between prerender and render modes .  	0	1
2 2 1.4 1.0 1.4 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 0 0.0 2 6 20 125	AMP warns about no default value for  attribute with amp-bind . What's the issue ? When using the :  . attribute , amp warns about no default value specified when in fact no default value is the only way to correctly use the attribute . How do we reproduce the issue ? The following minimal example , when validated , will warn Default value for does not match first result () . We recommend writing expressions with matching default values , but this can be safely ignored if intentional . example . html : : < ! DOCTYPE html > < html amp lang='en'> < head > < script async src='<URL>'></script> < script async custom-element='amp-bind ' src='<URL>'></script> < /head > < body > < amp-state id='ampState'> < script type='application/json'> { ' click ' : ' } < /script > < /amp-state > < button [ disabled]='ampState . click ' on='tap:AMP . setState({ampState : { click : ' true'}})'> Click Me ! < /button > < /body > < /html > . What browsers are affected ? All browsers Which AMP version is affected ? All AMP versions I believe .  	2	2
2 2 0.6 0.0 0.5 0.0 0.65 0.0 0.6666666666666666 0.0 1.1515151515151516 66 1.0 5 10 20 72	video-percentage-played doesn't trigger . The : video-percentage-played . only triggers at 100% regardless of the : percentages . settings . Can be reproduced with : test/manual/amp-video . amp . html . .	1	0
2 2 1.0 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 3 12 82	Demo for ' Stack with bind Ad ' is not working . The demo for ' Stack with binf Ad ' in the experimental section of amp by example page is not working . < URL >	1	0
1 1 1.4 2.0 1.3 1.0 1.05 1.0 1.0 1.0 1.281081081081081 185 1.0 5 12 19 84	amp-selector : toggle action does not layout children properly . From @devignerforhire : We're experiencing the same issue as described above , using amp-accordion and amp-selector for our wip style guide ( < URL > If I can't get this working I'm going to have to remove the tabs/accordions and have everything stacked , which isn't ideal . TIA :) The issue seems limited to : toggle . action , tapping selector does layout properly .  	0	0
1 1 1.4 1.0 1.4 1.0 1.45 1.5 1.3333333333333333 1.0 0.875 8 1.0 0 4 4 10	Add a reset function to components that puts them back into the pre-layout state . E.g. when a document is swiped away , we'd like to keep it around ( so it is easy to get back and scroll position is maintained ) , but reduce memory usage and potential CPU usage as much as possible . This task is about , for selected components , reset them into a non-rendered state , so the resources they are using can be released . We have an existing callback : documentInactiveCallback . upon which such work can be done . We currently use this primarily to turn off videos . This , however , might not even be desired if the only thing that happened was switching to a different tab . So , maybe we want to differentiate between swiping ( and similar actions ) VS . just moving to a different tab . - I think we probably want to create a new lifecycle method , so that only work specific to ' unmounting ' is performed . - We can migrate individual components one by one . Lets start with : amp-ad . and : amp-iframe . . We'd revert them into the state pre layoutCallback ( in practice we remove the iframes ) and re-show their fallbacks ( if present ) . - Youtube we probably want to keep ( to maintain state on timeline ) , but stateless components like instagram or twitter can easily unmounted and only rendered again if needed . - Then , should the document become visible again , we'd call : layoutCallback . again if appropriate . - Since we now support some forms of resizing we should include some kind of placeholder div that keeps the existing size the same ( if needed ) , so that if we restore the doc the number of resizings is kept to a minimum .	2	1
1 1 0.6 1.0 0.7 1.0 0.9 1.0 0.3333333333333333 0.0 1.1666666666666667 18 1.0 5 6 14 75	null is not an object ( evaluating ' this . Y . removeAll ' ) . Looks like dispose is somehow called more than once in : visibility-model . js . . /cc @zhouyx  	0	0
0 0 0.6 0.0 0.5 0.0 0.85 1.0 0.3333333333333333 0.0 1.3125 16 1.5 5 13 20 99	bug : amp-user-notification blocks amp-consent when they are applied to different countries . Use case : Site has : amp-consent . configured for GDPR countries and : amp-user-notification . configured for another country . : amp -- geo . is used to set the contents of : amp-user-notification . to : display : none . outside its intended target country . Expected behavior In GDPR location the consent dialog is displayed . In the country targeted for notification the notification is displayed and in other locations the site just works . Actual behavior In GDPR countries the user notification doesn't display ( this is correct ) but the GDPR consent dialog never appears and elements with : data-block-on-consent . are blocked . In the notification country it works as expected ( notification shown , GDPR dialog not show , ads and analytics fire ) In the countries outside both notification and consent it works as expected , both notification and GDPR dialog hidden , ads and analytics fire .  	0	0
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 6 30 87	Google Font loading issue on Safari / iOS devices . . What's the issue ? Google Font loading issue . How do we reproduce the issue ? < URL > The ' Lato ' font is not displaying correctly on provided URL . This is interesting but refreshing the page will fix the issue . The reason why this is happening is the line in : < head > . section : : < link type='text/css ' rel='stylesheet ' href='<URL>' media='not-matching ' i-amphtml-timeout='43'> . I mean : media='not-matching ' . - the ' not-matching ' value prevents from loading the font . I have tried two scenarios : 1 ) when the media value is : screen , print . 2 ) when the attribute is removed completely But in both cases it's like browser puts : media='not-matching ' . anyways , when you load the page for the first time . What browsers are affected ? You can recreate it on an iOS device only . Which AMP version is affected ? AMP version 1812131718380 . I have just noticed the issue so I can't tell you if it was always broken .	1	0
1 1 1.6 2.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 1.044776119402985 67 1.0 3 5 14 92	Introduce `consentHandlingOverride` for amp-ad . For a page that has amp-consent configured to block an amp-ad : Current behavior : - amp-ad is not scheduled until user interacted ( accept/reject/dismiss ) with the consent prompt . - the amp-ad 3p iframe is then built and the consent state is made available to the 3p js - it's 3p ad networks ' responsibility to respect the consent state and do the right thing ( NPA or no ads ) New behavior - introduce a new field in ad config ' consentHandlingOverride : true/false ' . it is false by default - any ad network integrated with amp-consent can flip the bit , and then they will have the ' current behavior ' - any ad network has ' consentHandlingOverride : false ' will be blocked completely unless user accepts consent . [ disabled ] 	0	1
1 1 1.0 1.0 0.9 1.0 1.05 1.0 0.6666666666666666 1.0 0.0 0 0.0 3 8 10 81	amp-ad never initiated . What's the issue ? On one particular publisher ( dallas observer ) our amp-ad component ( type='teads ' ) is never initiated when we scroll over it , and I really don't understand why . The AMP Framework never init this amp-ad component so I'm unable to do anything note : the publisher's page is valid AMP < URL > How do we reproduce the issue ? 1 ) just go to this url < URL > 2 ) scroll to the amp-ad type='teads ' component 3 ) as you can see , nothing append :( the teads tag is never called , no error , nothing ... What browsers are affected ? All Which AMP version is affected ? All for this publisher only Thanks for your help !	1	0
2 2 1.0 1.0 1.3 1.0 1.45 1.5 1.3333333333333333 1.0 1.0 3 1.0 4 6 13 75	Consider making amp-list fallback mandatory in future version . Describe the new feature or change to an existing feature you'd like to see I've come across a lot of cases where an : amp-list . that fails to load has no suitable fallback , resulting in just an empty white box when the server returns an error . This creates a confusing user experience , since it's often unclear if the list returned no items or an error occurred . I think the fallback should become mandatory in the future . The developer can still choose not to have a fallback by using an empty one ( : < div fallback ></ div > . ) , but this forces them to make it a conscious choice rather than a hindsight . Describe alternatives you've considered Having a built-in fallback ( like the web browser's ' broken image ' ) if none is specified . This is probably viable , but would perhaps confuse users since there's no well-established convention ( unlike for images ) . Having this as part of some future linter / warning system that doesn't make it invalid AMP . This requires changes to how validation works , so may not be viable . Additional context Since this change would make existing AMP pages invalid , it can't be added without a version bump . I propose it be considered for a ( tentative ) amp-list 0.2 .	2	1
2 2 1.6 2.0 1.3 1.0 1.05 1.0 1.6666666666666667 2.0 1.0 9 1.0 2 6 6 12	Document what AMP prerendering means . What the properties and guarantees are . This would be helpful to have in many discussions and a good  for new AMP developers ( people working on AMP , not with AMP ) .  	2	2
1 1 1.4 1.0 1.5 1.5 1.45 1.0 1.3333333333333333 1.0 0.0 0 0.0 4 12 22 78	Maximum number of nights for amp-date-picker in range mode . Similar to : minimum-nights . it would be great to have : maximum-nights . parameter for the date picker when in range mode . This would be useful for example for travel websites where some hotels allow only certain number of nights to be booked .	1	1
2 2 1.0 1.0 0.9 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 3 0.0 0 0 1 12	Incorrect error code in WebAssembly validator . Description We??????e working on migrating : validator . js . usage to the WASM version and I am running into a strange issue where I get a : STYLESHEET_AND_INLINE_STYLE_TOO_LONG . error for a blank web story when I should be getting : MISSING_URL . because of a missing story poster image . It works fine on validator . amp . dev though . Reproduction Steps CodePen : < URL > Relevant Logs : // Full error ( see how it references poster-portrait-src , but the error code is wrong ): { ' severity ' : ' ERROR ' , ' code ' : ' STYLESHEET_AND_INLINE_STYLE_TOO_LONG ' , ' line ' : 6 , ' col ' : 2864 , ' specUrl ' : ' < URL>' , ' paramsList ' : [ ' poster-portrait-src ' , ' amp-story ' ] , ' params ' : [ ' poster-portrait-src ' , ' amp-story ' ] } . Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response  	0	0
1 1 0.8 1.0 1.0 1.0 1.2 1.0 0.6666666666666666 1.0 0.0 0 0.0 0 0 5 21	amp-story-social-share doesn't quite render the correct amp-social-share . Description the : sharedProviders . that's being passed trough : amp-story-social-share . won't be translated quite expectedly in case if we have a non-configured providers in it with : data-share-endpoint . defined . Reproduction Steps : { ' bookendVersion ' : ' v 1.0 ' , ' shareProviders ' :[ ' twitter ' , ' pinterest ' , ' linkedin ' , ' tumblr ' , ' email ' , ' sms ' , { ' provider ' : ' test ' , ' data-share-endpoint ' : ' < URL>' , ' image ' : ' < URL>' , ' data-param-text ' : ' test ' } ] } . the json below will translate into this i took a look at the respective line of code , i think the logic doesn't cover the requirement quite well . like if i had a : data-share-endpoint . with a non-configured providers passed from : amp-story-social-share . . it will translate to : data-param-data-share-endpoint . attribute for the respective : amp-social-share . element . : extensions/amp-story/ 1.0 /amp-story-share . js . Relevant Logs No response Browser(s ) Affected Chrome OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response	2	0
2 2 1.0 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.4 5 2.0 6 8 22 113	Make tests easier to debug with browserify/karma source maps .	2	1
1 1 1.4 1.0 1.3 1.0 1.35 1.0 1.3333333333333333 1.0 1.1041666666666667 48 1.0 1 5 19 63	amp-story : Make auto fullscreen opt-in . Early feedback shows that auto fullscreen experience is jarring . Consensus is to flag with new : amp-story-auto-fullscreen . experiment ( disabled by default ) while alternatives are explored . /cc @newmuis @christianbersch @flaviori  	0	1
1 1 1.0 1.0 0.9 1.0 0.8 1.0 1.0 1.0 1.0 4 1.0 2 5 13 60	[ amp-video ] Use IntersectionObserver for autoplay . when IntersectionObserver is available .	1	1
0 0 0.4 0.0 0.6 0.0 0.8 0.5 0.0 0.0 2.0 2 2.0 1 6 10 38	amp-stream-gallery not passing in validator . : < amp-stream-gallery > . is not < URL > . As a result , it is not able to be listed on amp . dev . Is this expected ?	1	0
1 1 0.6 1.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 1.445945945945946 74 2.0 3 6 21 122	[ Master feature ] amp-video-iframe . amp-video increasingly supports engaging and useful video features ( analytics , muted autoplay , minimize-on-scroll ) , and some third-party players have adopted these features through video interface as well . However , single-business custom players can't get these features because they slip through the cracks : implementing them as new components isn't a good approach for AMP since they're not broadly useful to the community , which means they can't use video interface . < URL > would solve this by making these features available for custom video players via a special wrapper	1	1
2 2 1.4 2.0 1.3 1.5 1.15 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 4 10 52	Document that Cloudflare AMP CDN is deprecated . Hi , < URL > currently advertises 3 AMP CDNs : Google's , Bing's , and Cloudflare's . In attempting to figure out why Cloudflare's AMP CDN isn't working with our recently-launched AMP site , I contacted them , and they just got back to me with this : Hi Artem , Our team has tested on our side and confirmed the our AMP cache is fully deprecated . We have introduced the new AMP real URL and the AMP cache is not further supported in this case . Please let us know if there is anything else we can assist . Kind regards , Qia | Technical Support Engineer  	0	0
1 1 1.4 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 0.96 75 1.0 5 9 21 67	Layers : viewport-impl . js : getRect () returns 0 for scrollTop and scrollLeft . Per < URL > when layers is enabled , the : scrollTop . and : scrollLeft . of : viewport . getRect () . is zero . This doesn't match the function description : ' Returns the rect of the viewport which includes scroll positions and size ' since the scroll positions are always zero . For consistency , should the function description be updated , or should the code be fixed ? Relevant code block below : < URL >  	2	2
0 0 0.8 1.0 0.9 1.0 1.0 1.0 0.3333333333333333 0.0 0.0 0 0.0 0 0 13 69	ampproject.org mixed content . What's the issue ? AMP article serves image over HTTP protocol . Mixed Content : The page at ' < URL > was loaded over HTTPS , but requested an insecure image ' < URL > This content should also be served over HTTPS . Which AMP version is affected ? Version 1510956201635  	1	2
1 1 1.0 1.0 1.0 1.0 0.9 1.0 1.3333333333333333 1.0 0.7714285714285715 70 1.0 8 17 18 52	[ Page attachments ] [ Inline ] Theme Image preview UI . Image preview respects theme attribute . @ampproject /wg-stories	1	1
2 2 1.6 2.0 1.4 1.0 1.35 1.0 1.6666666666666667 2.0 1.6666666666666667 3 2.0 1 5 9 19	add data-consent-notification attribute to amp-analytics . [ disabled ] 	0	1
2 2 1.2 1.0 1.0 1.0 0.9 1.0 1.6666666666666667 2.0 1.0 3 1.0 2 5 23 93	FR : Support FCM Javascript API for sending web push notifications . The FCM Javascript SDK greatly simplifies the process of working with web push notifications - a consistent client-side SDK helps with receiving notifications across Firefox , Chrome , and Opera , and a unified POST endpoint abstracts away the complexity with sending messages to clients on those browsers . < URL > There have been some good case studies with websites using FCM . js to drive user engagement . < URL > : < amp-web-push > . in its current form operates at a lower level than ( and is incompatible with ) FCM . js .	2	1
2 2 1.4 1.0 1.2 1.0 1.35 1.0 1.3333333333333333 1.0 0.84 25 1.0 2 3 23 67	JSON XHR Flaky Test . < URL > Seems to be  in ' native ' mode . 3+ times on master today . Maybe related to @lannka ' s changes to sandbox ? cc/ @rsimha Skip incoming ...	1	0
0 0 0.4 0.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 0.7924528301886793 53 1.0 3 4 10 98	Q$$module$third_party$closure_library$sha384_generated is not defined at Q . Q$$module$third_party$closure_library$sha384_generated is not defined at Q ( < URL > at < URL > at < URL >  	0	0
1 1 0.6 1.0 0.8 1.0 1.0 1.0 0.6666666666666666 1.0 1.2857142857142858 7 1.0 2 13 31 136	audio hint bug in viewer . What's the issue ? The audio hint in viewer has a weird spacing cap due to the ' i ' icon on cover page . Hint works fine on 3rd party platforms or pub's O&O . How do we reproduce the issue ? < URL > Open any STAMP from SRP viewer Which AMP version is affected ? STAMP 1.0 @newmuis @gmajoulet	1	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.0806451612903225 62 1.0 3 11 23 128	Improve browser support for amp-story .	2	0
1 1 1.0 1.0 1.1 1.0 1.25 1.0 1.0 1.0 0.9 30 1.0 3 10 18 104	Support object-fit in layout FILL . Currently , : layout='responsive ' . is sized to 100% width of parent and height auto per aspect ratio ; : layout='fill ' . defaults to : object-fit : cover . -like behavior . There's a gap in this feature set for satisfying use cases where the component dynamically resizes itself ( e.g. : < amp-facebook > . , : < amp-instagram > . , : < amp-twitter > . and iframe components who do not know their height beforehand ) . A specific example of this is : < amp-instagram > . in : < amp-carousel > . or : < amp-lightbox-gallery > . , where carousels are generally landscape , but : < amp-instagram > . tends to be portrait . This results in : < amp-instagram > . being cut off in : < amp-carousel > . , and looking like a : object-fit : cover . image . Whereas what we actually want is the entire : < amp-instagram > . component to fit within the : < amp-carousel > . . Example : : < amp-instagram > . in : < amp-carousel > . looks cut off	2	1
2 2 1.0 1.0 1.0 1.0 0.9 1.0 0.6666666666666666 0.0 1.054945054945055 91 1.0 2 11 26 94	amp-story documentation points to 1.0 . The amp-story documentation at < URL > refers to the 1.0 version of : amp-story . component instead of the 0.1 version . The documentation should refer to 0.1 until 1.0 is ready .  	0	0
1 1 1.0 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 1.0 1.3448275862068966 29 1.0 3 5 12 72	amp-experiment : Document when/how VARIANTS variable in Analytics becomes ' none ' . On the current umentation page : < URL > It has no mention of ' none ' . This was noticed by a client , and fix this .  	1	2
0 0 0.8 1.0 1.1 1.0 1.0 1.0 1.0 1.0 1.1714285714285715 35 1.0 2 6 15 82	Support running _some_ integration tests on IE11 . We've had a few IE11 bugs , e.g. amp-bind , amp-ad , amp-carousel : < URL > Those bug fixes don't have any regression protection since < URL > . Let's fix that by supporting IE11 on Saucelabs and allow certain tests to opt-in ( disabled by default ) . /cc @erwinmombay @rsimha -amp	1	1
2 2 1.6 2.0 1.3 1.5 1.3 1.0 1.3333333333333333 2.0 2.0 1 2.0 7 35 42 137	Allow a delay to add/enable a specific trigger . What's the issue ? Need to hold off on certain events from triggering to limit unneeded events to occur How do we reproduce the issue ? If you setup a scroll trigger and most of the page fits on one screen , and set : scrollSpec : { ' verticalBoundaries ' : [ 20 , 40 , 60 , 80 , 100 ] } , 5 events will fire at once . If a trigger could be ignored , except for maybe the last one for a period of time , this would avoid this issue . If a timer trigger could be setup to contain it's own triggers section that could contain the triggers to be armed , that would be ideal : : triggers : { trackPageView : { on : ' visible ' , request : ' trackPageView ' } , triggerTimer : { on : ' timer ' , timerSpec : { interval : 10 , maxTimerLength : 9.9999999 , immediate : false } , triggers : { scrollPings : { on : ' scroll ' , scrollSpec : { ' verticalBoundaries ' : [ 20 , 40 , 60 , 80 , 100 ] } , extraUrlParams : { pp_ev : ' scroll ' } , request : ' trackPagePing ' } , focusPings : { on : ' visible ' , extraUrlParams : { pp_ev : ' focus ' } , visibilitySpec : { totalTimeMin : 10000 , repeat : true } , request : ' trackPagePing ' , } } } } . What browsers are affected ? All Which AMP version is affected ? I assume all	2	1
1 1 0.6 1.0 0.6 1.0 0.7 1.0 0.6666666666666666 1.0 0.7007874015748031 127 1.0 2 2 4 21	[ Story interactive ] Sizing adjustments . Description Component appears thinner than design mocks . Alternatives Considered N / A Additional Context No response	2	1
1 1 0.2 0.0 0.5 0.0 0.75 1.0 0.3333333333333333 0.0 1.0217391304347827 46 1.0 7 10 24 115	history trace for push : History : failed to execute a task :: Failed to load store : : No messaging channel : timeout . history trace for push : History : failed to execute a task :: Failed to load store : : No messaging channel : timeout at ampdoc ( < URL > at ( < URL > at ( < URL > at ( < URL > at ( < URL > at ( < URL > go/ampe/COWMs9XQqrXfhgE	2	0
1 1 1.4 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 0.9736842105263158 38 1.0 3 16 25 85	Set default log level via AMP experiment . Add a cookie equivalent of : #log = n . flag . Add setting level in cookie to experiments page on cdn.ampproject.org This is mostly a developer convenience feature .	2	1
2 2 1.4 1.0 1.3 1.0 1.25 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 12 20 73	[ Analytics ] Rename ' baseUrl ' to ' url ' in config . Description In : amp-analytics . config , deprecate the : baseUrl . attribute in the : requests . objects . Introduce : url . to replace it . Additional context With the introduction of : requestOrigin . , : baseUrl . will no longer technically be the base of the URL . This naming will be confusing for users and renaming it to : url . will be more apt . cc @zhouyx	2	1
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 0.0 0 0.0 1 6 10 101	Split Resources into Layers/Resources . Work related to #3434  	0	1
1 1 0.6 1.0 1.0 1.0 0.95 1.0 0.6666666666666666 1.0 2.0 1 2.0 0 5 10 76	amp-story desktop amp-social-share svgs too large for parent container . . What's the issue ? The share hover bar svgs are larger than parent . And lacks any spacing between the svgs . How do we reproduce the issue ? Open any amp story in desktop view . Here is one of CNN visual stories . < URL > What browsers are affected ? Chrome 70 Firefox Safari Which AMP version is affected ? I think this is relatively new , I didn't notice in the last few weeks at least . Version 1811202257200	1	0
1 1 1.0 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.25 4 1.0 2 10 14 151	[ Feature request ] Add way to file feedback in AMP pages . Some native apps have a ' Shake for feedback ' feature . Here if you shake the device you are asked if you want to file feedback and then taken to a specific flow to file feedback . We can use the < URL > to allow us to add a specific component to help control this flow . We could also use a Screenshot API to then take a screenshot of the page . Worth wondering is how to submit the feedback to the site in the end . Demo of Google Maps doing this < URL > . cc @aghassemi @ericlindley -g	2	1
2 2 1.4 2.0 1.4 1.5 1.5 2.0 1.3333333333333333 2.0 1.1388888888888888 36 1.0 6 19 23 68	Broken images on amp-story bookend . Currently , if publishers specify a bad image URL in the amp-story bookend JSON , we render the image as broken . We should simply show nothing if the image has failed to load .	1	0
2 2 1.2 2.0 0.9 1.0 0.9 1.0 2.0 2.0 1.0 3 1.0 7 10 16 76	`gulp visual-diff` fails to start server on macOs . Running : gulp visual-diff . on : master . yields the following error message on MacOS Mojave 10.14.6 : : Failed to start a web server : connect ECONNREFUSED 127.0.0.1 : 8000 at log (/Users/carolineliu/amp/amphtml/build-system/tasks/visual-diff/helpers . js : 73:13 ) at performVisualTests (/Users/carolineliu/amp/amphtml/build-system/tasks/visual-diff/index . js : 747:5 ) at processTicksAndRejections ( internal/process/task_queues . js : 93:5 ) . This appears to be  at < URL > . Directly executing : gulp serve -- compiled -- host localhost -- port 8000 . works , so the issue is not suspected to be with the : gulp serve . command itself .  	0	0
1 1 1.2 1.0 1.0 1.0 0.9 1.0 1.0 1.0 2.0 3 2.0 3 7 31 84	Video docking requests . [ ] Prevent docking if the minimized video's height is going to end up bigger than the viewport height [ ] Handle videos with height bigger than their width [ ] Add : dock-corner . parameter that overrides the default docking corner [ ] Add : dock-scale . parameter ( 0 to 1 non inclusive ) [ ] Add : snap-element . and : snap-pos . ( outer/inner ) parameters for snapping the docked video to specific elements [ ] Use : fixedLayer . ( or signals ? ) to detect fixed position amp components and adjust the docking area accordingly [ ] Add a maximum width/height for minimized videos ( on desktop , 60% of the original video can sometimes be very big ) [ ] Ability to dismiss while docking [ x ] Tap on an empty area to hide controls [ x ] Maybe show controls when the videos finishes docking to make users aware of interactions methods [ x ] Fix bug with controls not appearing [ x ] Resize event waits till user no longer tapping ( use position observer ) [ x ] If we come back from fullscreen then the video should stay minimized [ ] Dock autoplaying videos [ ] Add minimum of 200px and a maximum as well as attributes to control them [ ] Make dismissing the video more sensitive [ ] Fade out as you're going outside of the viewport to indicate dismissing the video [ ] Make video continue scrolling if halfway ( or just minimize to corner without scrolling ) [ ] Use placeholder to display instructions on how to interact with the docked video [ ] Expose the : undock . action [ ] Expose CSS for placeholder [ x ] Only show gray overlay once docking starts [ x ] Set docked video's z-index to be the second highest after : amp-sidebar .	1	1
0 0 1.2 1.0 1.1 1.0 1.15 1.0 0.6666666666666666 1.0 0.6623376623376623 77 1.0 2 2 19 67	Implement viewer communication to navigate to a previous or next story . . Implement viewer communication to navigate to a previous or next story .  	0	1
1 1 1.2 1.0 1.1 1.0 1.3 1.0 1.3333333333333333 1.0 1.6666666666666667 3 2.0 2 8 32 129	Add support for G+ and Google my Business embeds . . The title pretty much sums it up . Our business does not do business with Facebook anymore , so we need a social alternative . Google my Business , Google+ ? Aren't you guys working for Google ? Where's the love ?	2	1
1 1 1.0 1.0 1.5 2.0 1.3 1.0 1.3333333333333333 1.0 1.5 4 1.5 0 3 5 104	Flex for amp-list amp-mustache to make child heights the same . . Describe the new feature or change to an existing feature you'd like to see Imagine a row of boxes of different heights . They will wrap onto a second , third , etc row . Use PROBLEM . When a row has a shorter box , the next row is disrupted and begins after that shorter box on the previous row . It'd be nice visuals to use flex to make the boxes the same height . See here for the code , < URL > EQUAL HEIGHT COLUMNS WITH MARGINS IN MULTIPLE ROWS or EQUAL HEIGHT COLUMNS WITH MARGINS IN MULTIPLE ROWS and VARIABLE NO OF BOXES Per the above example at the link , the parent must hold display : flex , justify-content : space-between . But that parent container is created by AMP and I cannot apply the flex CSS . The parent container is : < div role='list ' class='i-amphtml-fill-content i-amphtml-replaced-content'> . If I do a test and make that : < div role='list ' class='i-amphtml-fill-content i-amphtml-replaced-content ' style='display: flex ; justify-content : space-between ; flex-wrap : wrap;'> . with the proper flex-basis CSS in the child container div , then it works . NOTE : Applying the flex CSS to the wrapper of that parent container does not work . Describe alternatives you've considered Javascript can do this but AMP disallows custom javascript code . I hope this makes sense . Make it a wonderful New Year ! You all deserve it !!  	1	2
2 2 1.4 2.0 1.4 1.5 1.15 1.0 1.6666666666666667 2.0 0.0 0 0.0 5 10 31 110	[ BUG ] amp-analytics doesn't trigger on amp-img click inside amp-carousel . What's the issue ? When trying to trigger an : amp-analytics . event for a click on a : amp-img . that's nested inside a : amp-carousel . the analytics event is not fired . How do we reproduce the issue ? Link to a repro pen : < URL > In the codepen open dev tools -> network panel . Click on the right image ( not inside a carousel ) , make sure an analytics request is fired . The analytics has dummy data so the request fails but that's ok . Now click on the left image ( inside a : amp-carousel . ) , no analytics request is fired . What browsers are affected ? All browsers . Which AMP version is affected ? AMP version : 1533253141109 Not sure if this is a new issue or not .	1	0
2 2 1.2 1.0 1.5 2.0 1.25 1.0 1.6666666666666667 2.0 1.4745762711864407 59 2.0 4 9 13 85	[ Master feature ] Minimize video to corner on scroll . Often users want to continue watching a video at the same time that they view more content on a web page ( see a recipe being made at the same time as jotting down ingredient list or reading steps one by one ; watching footage of a news story while reading a deeper dive on the content ) . This feature is to implement a UI that makes this easy : minimizing videos to the corner of the screen when the user has scrolled them sufficiently out of view . Controls should be available to pause , mute , go to fullscreen , or dismiss the video . Should integrate well with similar platform-level UIs .	1	1
0 0 1.2 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.0082644628099173 121 1.0 7 16 24 75	Get rid of the side effect of importing amp-abc . js . : import { AmpAnalytics } from ' .. /amp-analytics ' ; . The above line in tests would have a side effect causing amp-analytics custom element registered on global window . We should consider split all extension js to in : amp-analytics/ 0.1 /amp-analytics . js . : export class AmpAnalytics { ... } . in : amp-analytics/ 0.1 /main . js . : AMP . extension(TAG , ' 0.1 ' , AMP => { // Register doc-service factory . AMP . registerServiceForDoc ( ' amp-analytics-instrumentation ' , InstrumentationService ); AMP . registerServiceForDoc('activity ' , Activity ); installLinkerReaderService(AMP . win ); AMP . registerServiceForDoc('amp-analytics-variables ' , VariableService ); // Register the element . AMP . registerElement(TAG , AmpAnalytics ); }); . No unit test should ever import : main . js . , : amp . js . etc .	1	0
1 1 0.6 0.0 1.0 1.0 0.8 0.5 0.3333333333333333 0.0 0.6 5 0.0 13 33 37 113	Frame contentWindow unavailable . . stack trace : Frame contentWindow unavailable . at Error ( < URL > at apply ( < URL > at apply ( < URL > at error ( < URL > at sendMessage_ ( < URL > Sample referrer : Referrer < URL > User agent Mozilla/ 5.0 ( Linux ; Android 5.0.1 ; SAMSUNG SCH-I545 Build/LRX22C ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) SamsungBrowser/ 6.4 Chrome/ 56.0.2924.87 Mobile Safari/ 537.36 Service default-cdn-1p-canary Version 001527816702194	1	0
2 2 1.4 1.0 1.3 1.0 1.05 1.0 1.6666666666666667 2.0 1.1666666666666667 24 1.0 2 8 14 49	AMP Messaging Error . p/5799690541038127307 p/3492912829351125334 : message channel must have an origin at sj . f . setMessageDeliverer ( < URL > at V ( < URL > at < URL > at < anonymous > . Unminified : : message channel must have an origin at sj . f . Error ( < URL > at setMessageDeliverer ( < URL > at < URL > at < anonymous > . Seems to be happening on Newsstand's Android client . Can you open an internal issue once you look into it a bit ?	1	0
1 1 1.4 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 1.3 10 1.5 0 8 17 54	FR : Amp twitter follow button . Similar to the Facebook like button but for Twitter . Docs here : < URL >	2	1
0 0 0.6 0.0 0.8 0.5 0.65 0.0 0.0 0.0 1.7 20 2.0 5 6 15 74	amp-ad-exit : Cannot read property ' obj ' of undefined . Cannot read property ' obj ' of undefined at ( < URL > at ( < URL > at ( < URL > at getServices ( < URL > at getVsync ( < URL > at onLayoutMeasure ( < URL > at ( < URL > at value ( < URL > at removeResource_ ( < URL > at marginChange ( < URL > at ( < URL > at rebuildDomWhenReady ( < URL > go/ampe/CJ-vosu60onU_QE ? service&time = P7D&project = amp-error-reporting The error rate seems to have greatly increased with a spike on 2019-02-19 at ~ 02:20 before going back down , then increasing again at ~ 06:20 and staying higher after that point .	2	0
2 2 1.2 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.1828571428571428 175 1.0 0 12 22 78	Rename misleading API : [ idle]renderOutsideViewport () . Current names are confusing because : - : renderOutsideViewport . uses ' viewport ' to mean the actual viewport ( 100vh ) , but : idleRenderOutsideViewport . uses ' viewport ' to mean the loading rectangle ( 500vh ) - : idleRenderOutsideViewport () = = true . has higher priority than : renderOutsideViewport () = = true . Suggestion : : renderOutsideViewport . -> : preferredRenderDistance . ' Preferred ' informs callers that values greater than the default render distance are not guaranteed to be respected . Also , instead of returning : true . to opt-in to idle renders , callers should return : POSITIVE_INFINITY . . Suggestion : : idleRenderOutsideViewport . -> : idleRenderPriority . Probably should be whitelisted since it realistically can only be used by ads code otherwise ads metrics would be impacted . /cc @ampproject /wg-runtime	2	0
2 2 1.2 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 2.0 0.25 4 0.0 5 11 18 62	Low power mode causes story videos to not play . With Low Power mode enabled ( on iPhone6s ) video does not play correctly . it either doesn't play at all , or it seems to play it really fast on tap the next page , before the next page is rendered . @newmuis  	0	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 1.0888888888888888 45 1.0 6 12 29 92	Incorrect chrome autofill behavior . Chrome autofill issue : If you autofill the phone number and postalcode : The post code doesn't lose the ' -' after the 5 digit postal code , even though the postal code doesn't have a ' -'	1	0
0 0 1.0 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 2.0 1.25 12 1.5 2 4 11 29	fix assert function type inference . type inference on : assert . methods/functions is currently broken as closure compiler only checks if qualified name is equal to the current node in the AST's qualified name . this means that our current assert functions which are invoked like so : : import { dev } from ' . /src/log ' ; dev () . assert () . does not have a qualified name . : dev . has a qualified name which is : dev$$module$src$log . but assert which is not a top level module function but a prototype method doesn't seem to have one on invocation . It was suggestted i try : new AssertionFunctionSpec('Log$$module$src$log . prototype . assert ' , JSType . TRUTHY ) . but that also doesn't seem to work The code below should be valid and should type check but it current does not : : /** * @param { ? string } val * @return { string } */ function something(val ) { dev () . assert(val ! = = null ); // we've asserted that it can't be null so the return type should be valid return val ; } .	2	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 4 12 57	I2I Test to check for unnecessary network requests . Tests might be flaky because they implicitly relied on making external-facing requests . To counter this , we could run a dns logger while tests are being ran to ensure they are not making external-facing requests , except those in a whitelist . Setting travis config to redirect : example.com . is insufficient because we cannot cover all possible domains .	2	1
0 0 0.6 0.0 1.0 1.0 1.1 1.0 0.3333333333333333 0.0 0.8387096774193549 31 1.0 0 3 8 60	Dark theme for tooltip UI .	2	1
1 1 1.2 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 1.0943396226415094 53 1.0 7 10 29 95	amp-story : White flashes during navigation . Recent regression . Reporter says it seems related to CSS class in hint system : : < aside class='i-amphtml-story-hint-container ' style='> . There is a change in that style = tag at the same time as the page goes white ... removing this node from a running STAMP prevents the problem ... so maybe this is connected to amp-story-hint . js I can repro on all stories in Safari and Chrome iOS . /to @alanorozco  	0	0
0 0 0.4 0.0 0.6 0.5 0.9 1.0 0.3333333333333333 0.0 1.5 2 1.5 3 15 31 115	Documentation issue : nvm install -- lts doesn't work on Windows . I used the command provided in < URL > to install Node . js but it didn't work : : $ nvm install -- lts -- lts . 0.0 Node . js v -- lts . 0.0 is only available in 32-bit . . OS : Windows 10 64-bit Workaround : Run : nvm list available . to list available Node . js versions , then install the latest LTS version using : nvm install x . y . z . ( 8.11.4 in my case ) .  	1	2
1 1 0.6 0.0 0.7 1.0 0.7 1.0 1.0 1.0 0.6864864864864865 185 1.0 7 24 31 73	[ Story video ] Optimize media play/pause operations on page navigation . Here's the timeline of what happens on story page navigation : : touchstart . the active page video is paused : touchend . the active page video is resumed : click . event is emulated from the previous : touchend . and triggers a navigation , video is paused again These 3 media operations should be just 1 operation from ( 1 ) . Play/pause operations are fast on Android , but this improvement would make iOS page navigation noticeably faster . cc @ampproject /wg-stories [ disabled ] 	0	1
1 1 1.4 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 0.0 0 0.0 5 17 30 123	Allow embeds to request AMP page to scroll to top . We have embedded an iframe in our AMP site with an height which is larger than the screen size of the mobile device . When the user clicks on an button at the end of the iframe , the content at the top of the iframe changes . The content which is now displayed at the top of the iframe is invisible to the user because the viewport is still at the end of the iframe . Is it possible to send an event like the embed-size postmessage event to the parent to scroll at the top of the iframe ? Maybe something like : window . parent . postMessage ({ sentinel : ' amp ' , type : ' embed-scroll ' , value : ' top ' } , ' *');	2	1
1 1 1.2 1.0 0.9 1.0 0.95 1.0 1.3333333333333333 1.0 1.5 4 1.5 1 5 9 19	amp-script : Decouple disabling script hash from data-ampdevmode . When you use the : data-ampdevmode . attribute with : < amp-script > . , the validator outputs the following warning : : Tag ' html ' marked with attribute ' data-ampdevmode ' . Validator will suppress errors regarding any other tag with this attribute . Debug . . It sounds to me like the validator might be choosing to ignore other AMP validation errors in the HTML , though I don't think that's what it means . Also , when I see ' Debug ' , I assume it means I'm doing something wrong and I should fix it . Could this error instead say something like : : You're using ' data-ampdevmode ' to suppress errors regarding your < amp-script > hash or the size of your < amp-script > JavaScript . Remove this attribute before putting code in production . .	2	1
2 2 1.6 2.0 1.7 2.0 1.4 2.0 2.0 2.0 0.0 0 0.0 1 7 18 56	Actions/events : Support referencing parent element in target . It would be great to have the ability to invoke methods of related elements , i.e. parent . It could be something like this : : < button on='tap:$parent . toggleClass(class=myclass)'> Toggle < /button > . The only option now is to set : id . attribute and reference it in the event , but in many cases it is not convenient at all .	2	1
1 1 1.0 1.0 1.3 1.0 1.25 1.0 1.0 1.0 0.0 0 0.0 0 0 0 23	MP_AD Appnexus Adaptor / Cookie Policy Support . Hi We use oas amp ad adaptor with appnexus implementation . Oas tech support told us to ask directly to you to solve some problemz about our needs : At a time when the user loads the page AMP-AD component with amp-user-notification showing a message of acceptance of cookies policy . We need that the ADV should not displayed and AD call not fired until this message is actually accepted . As is on the following example on repubblica.it, that is using doubleclick adserver type . Could you think it is possible to have the same behaviour on amp-ad for appnexus ? This is my actual implementation on a test page : < URL > Problem : 1 ) why the page show the message everitime I reload the page ? How to show just the first time ? 2 ) It is possibile to block ad call and rendering of adv until user click on ' ok button ' ? thanks a lot ! nicola BELOW WHAT WE NEED TO ACHIEVE example page on repubblica.it: < URL > notification code element : AMP-AD component before cookye policy has been accepted : _AMP-AD component after cookye policy has benn accepted _  	0	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.6666666666666667 2.0 1.0 5 1.0 6 16 29 119	amp-story is taking full screen in desktop . Instead of showing the 3 card layout with a card in the middle and two on the sides , the active page is being expanded to full-screen , without showing the other cards on the sides or the background . Seen : Expected : Resizing the window seems to make it go to the correct layout . This is reproducible in master only so far .  	0	0
1 1 1.2 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 1.3934426229508197 122 1.0 1 2 18 69	optoutOfCid does not prevent analytics firing , it just sets cid to empty . . copied from < URL > by @p2er optoutOfCid does no longer stop amp-analytics or prevent amp-analytics initialization after reload . I've build a simple demo to elaborate : open : < URL > Clear previous analytics optin : localStorage . setItem('amp-store:'+location . origin , '' ) ; Reload Click ' I accept ' button in amp-user-notification overlay See google analytics tracking requests in network panal Click ' Optout of CID and tracking . ' button Navigate in amp-carousel to trigger tracking events See new google analytics tracking requests in network panel ( should no longer happen , since user used optout ) Reload Does not show amp-user-notification overlay Shows pageview tracking requests ( shouldn't be able to initialize amp-analytics after optout ) The optout is even written into the local storage data , but does not seem to have any effect on amp-analytics anymore . atob(localStorage . getItem('amp-store:'+location . origin )); shows ' {' vv ' :{ ' amp-user-notification : amp-user-notification ' :{ ' v ' : true , ' t ' : 1511102520471 } , ' amp-cid-optout ' :{ ' v ' : true , ' t ' : 1511102520470 }}}' /to @zhouyx @rudygalfi setting to P0 as it looks like a regression .	1	1
1 1 0.4 0.0 0.5 0.5 0.7 0.5 0.6666666666666666 1.0 0.6911764705882353 136 1.0 0 0 2 6	[ amp story player ] prev and next story buttons display on desktop full bleed stories . Description These should not be visible in the player when the story is desktop-bull bleed mode . This function in the player may be a good place to start : < URL > < URL > Reproduction Steps Open a player with a full bleed story on desktop Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response  	0	0
2 2 1.0 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 2.0 1.3333333333333333 3 1.0 0 2 12 33	Create subdomain when deploying to heroku for cross-origin tests . Currently when testing on heroku , the bootstrapUrl generated for 3p ads is still same origin . We should create subdomain when deploying to heroku and override boostrapUrl when running in heroku environment . This way , we can see cross-origin behavior for ads when testing on heroku .	2	1
2 2 1.0 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 2.0 1 2.0 1 2 3 5	Add test to require samples for extensions . Add a test that verifies : 1 . each extension has a sample 2 . each sample is registered for the validator test	2	1
2 2 1.2 1.0 1.3 1.0 1.15 1.0 1.3333333333333333 1.0 0.4 10 0.0 6 8 21 87	Bookend scroll behavior on iOS . The bookend scroll has no inertia on iOS . Here's what I have so far : Works correctly when served from the cache or a local server , like < URL > Does not work when served from the canonical URL , like < URL >  	0	0
1 1 1.4 1.0 1.2 1.0 1.0 1.0 1.6666666666666667 2.0 1.2857142857142858 7 1.0 1 2 9 35	Support ephemeral history push . Support pushing ephemeral routes to the history stack . ephemeral routes are poped automatically when either navigation happens ( including local anchor navigation using the fragment ) or a new route is pushed to the stack . possible API : : history . push ( ..., { ephemeral : true }) . : history . push ( ..., { popOnNavigation : true }) . : history . pushEphemeral (...) . Related to #4184 , #4712	2	1
1 1 1.0 1.0 0.8 1.0 0.75 1.0 1.0 1.0 1.0 1 1.0 8 18 32 87	AMP Banner Opens Play Store when app is installed in Opera . What's the issue ? Tapping AMP Banner opens Play Store instead of opening AMP article even when App Medium is already installed . Applies to both AMP Cache and Embed in viewer sandbox links . How do we reproduce the issue ? 1 . Open Opera browser 2 . Place AMP Cache or Embed in viewer sandbox links 3 . Tap on AMP Banner View In 4 . Observe Play Store page opens What browsers are affected ? Opera ver 42.7 Nexus 6P N ver 7.1.2	2	0
1 1 1.0 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 0.6892655367231638 177 1.0 11 17 30 62	[ Story interactives ] Write early preview documentation and examples . Write feature early preview documentation and examples . [ x ] Document quizzes and polls [ x ] Document results page [ x ] Create quizzes demo ( with results page ) [ x ] Create polls demo ( with results page ) cc @ampproject /wg-stories	1	1
1 1 1.6 2.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 0.8 5 0.0 3 15 32 67	Cleanup ' sticky-ad-early-load ' experiment .	1	0
2 2 1.6 2.0 1.4 2.0 1.3 1.5 1.3333333333333333 2.0 1.1578947368421053 38 1.0 1 3 22 76	amp-bind : XHTML-friendly syntax . Square brackets , e . g : [ foo ] . , are not valid attribute name starting chars in XML spec : < URL > Perhaps we can allow a configuration to switch to an alternative syntax , e.g. : <!-- Generic solution . --> < script async custom-element='amp-bind ' src=' ... ' data-syntax='xml'></script> <!-- Or an amp-bind specific solution . --> < amp-bind syntax='xml'></amp-bind> .  	0	1
1 1 0.6 1.0 0.5 0.0 0.65 0.5 1.0 1.0 0.7142857142857143 56 1.0 0 2 9 38	[ Panning media ] Add early exit on animation loop . The loop currently runs when landing on the page even though it snaps to the default value . Create an early exit to prevent loop from running when animation is not needed . This issue relates to #32282 and might share logic . cc @ampproject /wg-stories	1	1
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 10 26 31 105	Avoid document-register-element changes in Chrome 67+ . Latest version of document-register-element v 1.8 features detect Chrome 67 in a different way and it leaves it untouched ( 100% native Custom Elements V0 + V1 ) . I see greenkeeper has not been triggering with latest changes but I strongly suggest you to try latest version and use it so that whenever native V1 with custom elements builtins ships on mobile too it won't affect the browser at all .	2	1
2 2 1.0 1.0 1.1 1.0 0.85 1.0 1.3333333333333333 2.0 0.0 1 0.0 3 5 12 52	data-amp-replace and data-amp-addparams do not work in 1508794187431 . What's the issue ? data-amp-replace and data-amp-addparams do not work in AMP version 1508794187431 How do we reproduce the issue ? Go to < URL > Click the : Order Now on Slice . button Notice amp-id is not populated in the next page url . Our code is : < a href='<URL>' data-amp-replace='CLIENT_ID ' data-amp-addparams='amp_id=CLIENT_ID(amp_id)'> . What browsers are affected ? All browsers are affected . Which AMP version is affected ? This is a new issue in 1508794187431 . We would love to pin our AMP version to 1507083985898 .	1	0
2 2 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 1 24 96	A4A validator does not allow animation-timing-function property in CSS keyframes . In CSS animations it is useful to have different timing functions assigned to different keyframes in the animation - a bouncing ball animation might use the ease-in timing function on the way down , and ease-out as the ball bounces back up . This is done by specifying the timing function in the keyframe itself . Because the A4A validator only only allows transform and opacity to be used in keyframes , this means that the only available option is to apply the same easing function to all keyframes , which reduces the ability to create natural looking animations . Since having different timing functions across keyframes should not affect rendering performance , it would make sense to add animation-timing-function to the list of allowed properties .    	0	2
2 2 1.4 2.0 1.2 1.0 1.2 1.0 1.3333333333333333 2.0 0.7058823529411765 136 1.0 5 12 17 51	Keep the amp-story title attribute on bot mode . . Keep the : amp-story . title attribute on bot mode . The : < amp-story title=' ... ' > . attribute is removed because it shows a tooltip when hovering any descendants . < URL > However , we'd like to keep it when the user agent is a bot , using the : isBot () . method . < URL > cc @ampproject /wg-stories  	0	0
0 0 0.4 0.0 0.6 0.5 0.8 1.0 0.3333333333333333 0.0 0.7109375 128 1.0 0 1 6 21	[ Amp story ] Remove desktop 3 panel UI and associated code . . Remove all code related to 3 panel desktop UI including viewport warnings .  	0	1
1 1 1.2 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 0 0.0 7 19 34 145	AMP Stories : Publisher Served Ad CTA button hidden in Firefox . What's the issue ? In AMP stories , the CTA button in Publisher Served Ad doesn't display in Firefox . How do we reproduce the issue ? Check this in latest version of Firefox : < URL > In this AMP story example , look for ad . You won't see CTA button in the ad , while you'll see one when you check on Chrome and Edge .  	0	0
0 0 0.2 0.0 0.6 0.0 0.75 1.0 0.3333333333333333 0.0 1.0 3 1.0 0 1 17 75	Validator mistakenly states amp-bind is an unused import in autosuggest . amp . html . In the : test/integration/test-example-validation . js . test , the test fails with the following error : Chrome 58.0.3029 ( Mac OS X 10.12.5 ) example autosuggest . amp . html should validate FAILED Assertionexpected ' EXTENSION_UNUSED amp-bind ' to equal '' . but that page does use bind . It appears that this is an issue with the validator .  	0	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.6666666666666667 2.0 2.0 1 2.0 3 7 24 94	API Documentation . Anyone that owns an API should create public umentation for that API ( example : history api , etc ) . I'm currently writing the umentation for the amp-viewer-integration and , after the handshake , want to link people off to different API's but I need the s to link them to .  	1	2
2 2 1.0 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 5 7 29	buildCallback invoked when hasNextNodeInDocumentOrder is false . It's a bit hard to reproduce but as you can see in the screenshot , the : buildCallback . of : < amp-experiment > . is invoked when the : children =[ ] . . : hasNextNodeInDocumentOrder . also returns : false . . A snapshot of the DOM is printed in the console . We can see at that point , : < amp-experiment > . is not fully ready yet . To reproduce this locally , please patch the diff : #4399 You can set the same break point as me , and refresh the page a couple times . Normally you see it less than 10 refreshes . The call stack ( on the top right corner of the screenshot ) shows the : build . was triggered via : this . visibilityStateMachine_ . setState ( this . viewer_ . getVisibilityState () // = visible ); . @dvoytenko @mkhatib do you have any idea ? + @rudygalfi this is what we met in the ABE amp-experiment article .  	0	0
2 2 1.4 2.0 1.1 1.0 1.05 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 2 13 67	amp-list : race condition for a sequence of quick `src`attr mutations . . summary When hooking up : amp-bind . with : amp-list . where we mutate the bound : [ src ] . attribute , it is possible to enter a race condition where the rendered items are for the previous state . Imagine a shopping cart with categories for women's/mens clothing : 1 . Default page to land on is women's clothing , and this endpoint takes 1s to resolve . 2 . User quickly clicks a the tab for men's clothing , and this only takes 200ms . It is possible that the promise for loading data from ( 1 ) will end up resolving after ( 2 ) . This leads to the jarring UX of having ' Men ' selected and yet seeing Women's clothing . One can reproduce this in < URL > : < URL > cc @choumx @morsssss	1	0
1 1 0.8 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 0.7241379310344828 116 1.0 4 9 18 63	Story education . Implement a better viewer controlled onboarding experience for AMP Story , in the form of a separate and lazy loaded : amp-story-education . extension . TODO(gmajoulet ): document the API and opt-ins . [  ] 	0	1
2 2 1.8 2.0 1.2 1.5 1.15 1.0 2.0 2.0 1.3481012658227849 158 1.0 4 5 33 122	reset-on-refresh breaks list with local data binding . Only reproducible in 7/26 Canary ( 1532641868525 ) . Enabled Dev channel Visit a category page on AliExpress ( e.g. < URL > ) Click on : filter . and pick something like : Price ( Low to High ) . Note that loading indicator does not disappear after reload . May be due to < URL >  	0	0
0 0 0.8 1.0 1.0 1.0 1.15 1.0 0.3333333333333333 0.0 0.9393939393939394 33 1.0 8 13 29 86	Fix broken test ' Viewer Visibility State ' in `test-visibility-states . js` . This test broke on Chrome 71 , and was disabled in #19782 . Please triage and fix Disabled test : < URL > [ improved ] 	0	0
2 2 1.2 2.0 1.1 1.0 1.2 1.0 1.3333333333333333 2.0 1.0 1 1.0 5 8 13 70	amp-consent should hide promptUi when getting consent from server . It would be a better user/dev experience if : promptUi . would automatically be hidden if response is : { expireCache : true , consentStateValue : accepted/rejected , consentRequired : true } . Right now , it still shows : promptUi . . Current workaround is to set : promptUi . to null . Once done , change test-amp-consent-server-side-expire-cache . js	2	0
1 1 1.6 2.0 1.6 2.0 1.4 1.0 1.3333333333333333 1.0 0.654320987654321 81 1.0 2 5 16 81	Page attachment in story vertical rendering visual diff test has many close buttons . . Page attachment in story vertical rendering visual diff test has many close buttons . Works in a regular browser though .	2	0
1 1 1.2 1.0 1.3 1.5 1.3 1.0 1.0 1.0 0.0 0 0.0 0 1 18 110	Support branching within stories . Allow publishers to create and users to engage with stories that have non-linear page progressions .  	0	1
2 2 1.4 2.0 1.2 1.0 1.15 1.0 1.0 1.0 1.0 1 1.0 4 6 14 53	Further cleanup of service . js . As discussed on #8698 there are a few more ways to cleanup/simplify service . js Remove the opt_factory param to : getService . to force usage of the register codepath Eliminate constructor vs factory difference by making all service builders factories . ( Dima and I discussed this on hangouts ) One potential drawback is that all calls to register services will need to pass in closures . Add : getExistingServiceForDocOrNull . ( even though there aren't necessary uses currently ) /to @choumx @dvoytenko @jridgewell Which of these sound like worthwhile changes to make ? Are there any further changes you think would help simplify the file ?	2	0
1 1 0.4 0.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 1.0 25 1.0 3 6 19 56	AliExpress back button is not functional . What's the issue ? AliExpress back button is not functional . Briefly describe the bug . When clicking on the back button it does not revert back to the previous page . How do we reproduce the issue ? Please provide a public URL and ideally a reduced test case ( e.g. on jsbin.com ) that exhibits only your issue and nothing else . Provide step-by-step instructions for reproducing the issue : Opt-in to Canary/RC Go to < URL > Open Java Console Select an item In new tab Open Java Console Click on the back button What browsers are affected ? Chrome Version : 77.0.3865.90 FireFox : 69.0.1 Which AMP version is affected ? Canary/RC : 1909181902540 Prod : 1909141409590	1	0
1 1 0.8 1.0 0.7 1.0 0.75 1.0 0.3333333333333333 0.0 1.0 6 1.0 1 4 7 78	[ amp-sidebar- 0.1 . js ] Does not use passive listeners to improve scrolling performance . Chrome Audits reports for Best Practices	2	0
1 1 0.8 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.0 0 0.0 1 4 20 104	amp-live-list update problem with google amp cache . Hi , we have a problem in our amp live football soccer page related to google amp cache . We have the live of italian serie A and serie B football games The user can follow the live without refresh the page : in non amp page we handle it with javascript while in the amp one we use the tag amp-live-list with refresh time of 20 seconds . If the user call the amp page directly there is no problem and the refresh is working well : Example . < URL > While if the user goes to the page from google search results and then from google cache it seems that the page is not refreshing . < URL > Our server replies always with max-age : 0 and then google should not cache the page . Google should always ask the page to our server . During the live the amp version of page is always lagging behind not amp page . Can some explain me where is the problem ? Thanks  	0	0
2 2 1.0 1.0 1.4 2.0 1.2 1.0 1.3333333333333333 2.0 1.6 5 2.0 5 9 31 133	disabled not working anymore ? . hey guys , so here I am again , this time on my day off , get a phone call that the linked-dropdowns I did several months ago stopped working . The last time this happened to navigateTo ( which was fixed 48 hours later by you guys ) Here is the 2nd dropdown code : : < select [ disabled]='!modelfilter . models ' disabled id='mod ' on='change: AMP . setState ({ modelselected : event . value , redirectTo : makeselected + ' /' + rangeselected + ' /' + event . value })'> < option value='>choose a model < /option > {{ #models . models }} < option value='{{url_segment}}'>{{modelname}}</option>{{/models . models }} < /select > . If modelfilter . models is not a null , i . e , set by the previous dropdown , it should enable this dropdown . The object definitely gets populated , as when I remove the initial ' disabled ' , my dropdowns work . As a UX thing , we would have wanted the person to start with the first dropdown , to filter on the 2nd , and not confuse them by showing nothing in the filtered dropdown and have them try to select something . Note , again , Im not struggling to make this work . This worked , went through UAT and QA and was pushed to live months ago by us . What changed in AMP where  doesn't work anymore ?	1	0
1 1 0.8 1.0 1.0 1.0 0.75 1.0 1.0 1.0 0.0 0 0.0 2 4 7 31	No data of Ads Impression on Google Analytics Account . Description Hi ... I had followed the step which is mentioned on this page ~ < URL > I'm getting all the data except Insight #6 : Measure how many times ads were shown on my story Reproduction Steps Source Code Url : < URL > Images : in the 4th Image , You can see Ads showing in the story For the past 11 months , no data is shown in Google Analytics Account its includes my 50+ Websites . < URL > 2nd Concern And one more thing is that I had used amp-story-auto-analytics tag for one of my websites But I am not getting PageView Data of my Stories Url : < URL > Image Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response	2	0
2 2 1.2 1.0 1.4 1.0 1.2 1.0 1.3333333333333333 1.0 2.0 1 2.0 0 2 13 77	Fixed positioned elements with bottom + transition-duration or transition-delay get pushed off the page . What's the issue ? When applying : position : fixed ; . to an element and using : bottom . to position it ( I tried with a lot of different : bottom . values and the result was the same ) , if the element has a non-0 : transition-duration . or : transition-delay . , the element gets : style='top: calc ( 71880.9 px ); ' . , where : 71880.9 px . depends on browser viewport size but is consistently a very large value which moves the element entirely off screen , rendering it invisible . How do we reproduce the issue ? Here are demos with a reduced test case : With : transition-duration : 1ms . applied to the element : < URL > With : transition-delay : 1ms . applied to the element : < URL > Without : transition-duration . ( the control ): < URL > What browsers are affected ? Confirmed on Chrome , Safari , and Firefox Which AMP version is affected ? Version 1503591987101 I first noticed this around a month ago , but only dug in to figure out the reduced test case yesterday .  	0	0
0 0 0.8 1.0 0.8 1.0 1.05 1.0 0.6666666666666666 1.0 1.0 132 1.0 7 18 27 91	Owners bot not expanding ampproject/working-groups ? . /cc @mrjoro	1	0
2 2 1.4 1.0 1.1 1.0 0.95 1.0 1.3333333333333333 1.0 0.875 8 1.0 1 4 9 42	Performance impact of web player embeds . What's the issue ? Embedding the we player on a page has an impact to performance , specifically the interactivity and the visual completeness of the page . How do we reproduce the issue ? URL with web player embedded below the fold -> < URL > URL with web player embedded above the fold -> < URL > URL with no web players embedded -> < URL > In the first two cases , when testing against Page Speed Insights , the TTI is about 35-36s , TBT is about 3s , Speed Index is 12s-17s In the third case , when testing against Page Speed Insights , the TTI is about 5.3 s , TBT is about 180ms , Speed Index is 4.3 s This indicates that the page takes a lot longer to get to visually complete owing to the player embedded ( both above the fold and below the fold ) and that the page also takes a lot longer to be fully interactive . While embedding content will see some performance implication , the expectation is that the pages should still stay performant . What browsers are affected ? Tested primarily on page speed insights . Which AMP version is affected ? Related specifically to the web player . [ improved ] 	0	0
0 0 0.8 1.0 1.0 1.0 0.85 1.0 0.6666666666666666 0.0 0.0 0 0.0 4 7 21 112	Documentation on how to style amp-list . What's the issue ? There's no umentation on how to style the content fetched by amp-list . How do we reproduce the issue ? I wanted to put items fetched by amp-list into a grid , but found that styling the amp-mustache : < template > . itself does nothing . I couldn't find any information in the umentation , but I eventually found < URL > that solves the problem using the following code : : amp-list div[role='list ' ] { display : grid ; grid-template-columns : repeat(auto-fit , minmax(300px , 1fr )); grid-gap : 0.5 em ; } . If this is the recommended method for styling amp-lists ( into a grid or flexbox ) it would make things easier for developers if it was in the umentation somewhere .  	1	2
0 0 1.0 1.0 1.2 1.5 1.1 1.0 0.6666666666666666 0.0 0.9795918367346939 49 1.0 0 2 19 48	Automatically sync visual-diff Chrome version with the used on Percy . We currently have to manually sync the server-side and CircleCI-side versions of Chrome when executing visual diff tests : < URL > Ideally we could use the API to query for whatever version is currently being used on the server and fetch that one , instead of hard-coding the version post-upgrades	2	1
0 0 0.4 0.0 0.9 1.0 1.05 1.0 0.0 0.0 1.037037037037037 27 1.0 3 4 24 109	Fake Ad enhancement . ref : #9311 We create the : amp-ad-network-fake-impl . extension to test fake Amp Ad locally . Right now this extension doesn't work properly and its documentation is outdated . And the extension only works in localDev mode , and thus makes it impossible to demo an AMPHTML ad creative using the extension . [ x ] Fix the extension , right now when serving creative from : amp-ad-network-fake-impl/data/ . folder , the creative always render in 3p case . [ x ] make the extension only send ad request with invalid id and remove check to localDev mode cc @lannka @taymonbeal @glevitzky @keithwrightbos @jonkeller For #13283	1	0
1 1 1.2 1.0 1.1 1.0 1.05 1.0 1.0 1.0 1.0 1 1.0 4 16 20 81	amp-fx='fly-in-right ' causes overflow-y enabled on safari ( mobile ) . 23072 What's the issue ? I use amp-fx='fly-in-right ' on images on my page and as long i use chrome on mobile everything is fine , but when i use safari on iphone ( iphone 7 and XR ) it seems to break the overflow-x : hidden . As soon i pass the section where the image flew in it is possible to scroll to the right on the whole page ( < URL > . This issue is Visible on the amp by example page as well ( < URL > How do we reproduce the issue ? Go on an page with an amp-fx fly-in-right animation ( sites named above ) try to scroll right on mobile in the safari browser . Worked every time in my case as soon the animation started . What browsers are affected ? Safari on Iphone 7 and XR . I haven't got more devices to test . I would assume all iphones on the newest safari version . Which AMP version is affected ? It's broken for at least 2 month now . AMP Version 1907022322580	1	0
0 0 0.4 0.0 0.5 0.0 0.65 0.5 0.3333333333333333 0.0 0.6099585062240664 241 1.0 2 8 9 31	Some stories don't get marked as loaded even when they are . Description These Stories don't get marked as loaded even when they are , until it timeouts after a few seconds . This leads to extremely slow loads on Players relying on Story load events before displaying the content . cc @ampproject /wg-stories Reproduction Steps Examples : < URL > < URL > Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response  	0	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.2727272727272727 33 1.0 8 18 23 98	Improve publisher served ad stories documentation . Add the following details : - link to CORS support - Gotchas around grid layer support - link to Mustache support - Purge old documentation - < URL > Related to #12381	1	1
1 1 1.0 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 1.170731707317073 82 1.0 0 0 16 83	Ensure visual tests catch experiment changes . I believe we currently run visual tests with AMP runtime built on both prod and canary experiment configs ( canary-config . json and prod-config . json ) , but PRs that change these configs don't trigger visual tests . We should change this to ensure that our visual testing system can catch bugs like #15596 . From @rsimha : ... we generate a dummy Percy build ( just one snapshot of a blank page ) for PRs that don't change the runtime or the tests . This saves us the trouble of doing a full build of the runtime . < URL > There is a visual test for mustache , but I doubt it does enough . See < URL > [ x ] Verify that visual tests are run with prod and canary configs [ x ] Run visual tests when experiment configs change [ x ] TODO(choumx ): Add a regression test for #15596 . [ x ] Verify that an experiment change PR that introduces a visual test regression would be caught /to @danielrozenberg /cc @rsimha  	0	0
1 1 1.4 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 0.8666666666666667 30 1.0 1 3 4 28	Reduce image size in sample . E.g. < URL > is wayyy too big . This harms performance profiling as traces tend to be dominated by image decoding .  	0	0
0 0 1.4 2.0 1.4 1.5 1.25 1.0 1.0 1.0 1.0 1 1.0 1 3 14 76	Customizable CTA for Stories attachments . Feature description Currently the CTA for the Stories attachment is ' Swipe Up ' . A customisable title would make the component more suitable for some use cases . Alternative to feature None , the CTA is not customisable . Additional context This feature could give the viewers more context on what the attachment will offer to them . Sign Up , More Info , Read Article , Watch Video , etc . could all work . The API for the CTA customization could be similar to what has been built for links and embeds in the page content ( : data-tooltip-text . could become : data-cta-text . ) Example [ disabled ] 	0	1
0 0 1.2 1.0 1.0 1.0 1.25 1.0 1.0 1.0 0.0 0 0.0 4 7 26 93	 Cannot read property ' create ' of undefined ' . What's the issue ? We should be able to use window . $sf . ext ( SafeFrame API ) but didn't exist due to this error I think When the error ' Cannot read property ' create ' of undefined ' is thrown , the entry point for SafeFrame framework does not exist as it should in the amp-ad type='doubleclick ' iframe window ( window . $sf ) . Seems to be related to the doubleclick component cf < URL > Due to the ' non-existing ' SF entry point , the ad does not understand they are in an AMP SafeFrame context ( and can't ask for an opening too ) How do we reproduce the issue ? < URL > What browsers are affected ? Either emulating an iphone or just loading up the non google cache link in desktop mode Google Chrome is up to date Version 69.0.3497.100 ( Official Build ) ( 64-bit ) Please find the original thread here : < URL >	1	0
0 0 1.4 2.0 1.5 2.0 1.15 1.0 1.0 1.0 1.3333333333333333 6 1.5 3 3 9 41	Clarify use of ' canonical ' in AMP umentation . . Common industry practice is that a the : canonical . header should point to the original source of the content , which in the case of syndicated content may be a completely different site . However the AMP umentation says the canonical header in an AMP  is a < URL > This change in meaning of the : canonical . header is confusing . It also presents unsolvable edge cases ( ex when a site is pure AMP the spec says canonical should be self referential but if the content is syndicated from another site industry practice would be to point to the other site ) . This issue impacts numerous AMP features ( analytics , ads , issues #7058 #6210 amongst others ) . If the umentation is accurate and the : canonical . header in an AMP  should refer to the regular HTML source this implies a chained model where several hops may be needed to reach the original source . It's unclear if search engines see it this way and publishers are very wary of moving away from standard practice for fear of attracting penalties in the search rank . Please clarify the official position . cc : @jridgewell @cramforce  	1	2
2 2 1.6 2.0 1.2 1.0 1.1 1.0 1.3333333333333333 1.0 0.9166666666666666 12 1.0 3 7 15 71	Allow specifying a focal point for cropping amp-story fill assets . We can add a syntax to allow specifying a focal point for cropping assets that are in : < amp-story-grid-layer template='fill'> . . In my opinion , we can leverage the < URL > syntax for this . For example : Default ( center crop ; exists today ) : < amp-story-grid-layer template='fill'> < amp-img src='cat . jpg'> < /amp-story-grid-layer > . Center crop ( explicit ) : < amp-story-grid-layer template='fill'> < amp-img src='cat . jpg ' position='center center'> < /amp-story-grid-layer > . Keep the top of the image , center crop from the sides : < amp-story-grid-layer template='fill'> < amp-img src='cat . jpg ' position='top center'> < /amp-story-grid-layer > . Crop to a specific location in the image : : < amp-story-grid-layer template='fill'> < amp-img src='cat . jpg ' position='right 20% bottom 43px'> < /amp-story-grid-layer > .	2	0
1 1 1.0 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 5 18 25 61	autoplaying video : using custom controls ( e.g. play () , pause () actions ) are not considered user interaction . . Please only file bugs/feature requests for AMP here . What's the issue ? Paused video with autoplay attribute starts playing after switching browser tabs , should stay paused according to docs : ???if the user has interacted with the video ( e.g. , mutes/unmutes , pauses/resumes , etc . ) , and the video is scrolled in or out of view , the state of the video remains as how the user left it . For example , if the user pauses the video , then scrolls the video out of view and returns to the video , the v ... ' This behavior only affects video that has been set to autoplay How do we reproduce the issue ? add an amp-video that has autoplay add custom control to pause it it starts playback click to pause it go to a different tab , and come back to the tab where it was paused it plays , expected : it should be paused What browsers are affected ? All browsers Which AMP version is affected ? We believe it was it broken . Using latest AMP version	2	0
0 0 1.0 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 1.103448275862069 29 1.0 4 8 16 89	Object . values is undefined . Object . values is not supported < URL > @keithwrightbos can you evaluate priority . seeing errors on canary but i dont know that code path well enough to evaluate ill update the linter/conformanceconfig to not allow it  	0	0
2 2 1.2 1.0 0.9 1.0 1.2 1.0 1.6666666666666667 2.0 0.7777777777777778 9 1.0 2 4 4 33	Add max-session-gap1s-limit5s CLS metric . Describe the new feature or change to an existing feature you'd like to see < URL > explains an update to CLS . AMP currently sums all layout shifts : < URL > A new tick should be added for < URL > @samouri [  ] 	0	1
2 2 1.6 2.0 1.5 1.5 1.35 1.0 1.6666666666666667 2.0 2.0 1 2.0 6 23 30 92	Default `animateScrollIntoView()` speed to a dynamically calculated speed . As mentioned by Ali in #10398 , the default duration for : animateScrollIntoView () . in : viewport-impl . should probably be based off a formula that relates the distance to be scrolled to the duration of the animation . An example would be : abs(elementTop - scrollHeight ) / 2 . . The speed also needs to be bounded so that the animation isn't too fast or too slow . Ideally use whatever Chrome is using for their native implementation ( < URL >	2	1
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 0.0 0 0.0 5 7 34 124	Pass dynamic DFP Key-Values in amp-ad tag . Hi , The idea would be to attach key-values dynamically generated by a Javascript code located in the header of the page . Let's say we define a JS function called generateDynamicValue () in the header of a page . Then I would like to be able to pass the result of this function in the targeting part of the amp-ad tag : Is that already possible ? If not , is there an existing feature request ? Thanks for your help ! Remi	2	1
1 1 1.0 1.0 0.8 1.0 0.8 1.0 1.3333333333333333 1.0 1.5 58 2.0 3 8 12 84	[ Master feature ] Element-level infinite scroll . Feature description : Support element-level infinite scroll , such that when the user reaches the end of a list of items ( search results , product cards , etc ) , a call can be made to an arbitrary endpoint to populate the list with more items . For the best user experience , users should never see a loading spinner , but instead should either be presented with already-loaded results , or a button to tap to load more . Update This feature is available for origin trial per < URL > as of release < URL > Related demos Basic demos < URL > < URL > Pretty Demo TODO : Add animation ( slide up / slide in / fade in ) TODO : Variable heights Example with a finite number of pages < URL > Example with bad URL < URL > Example with slow loading URL < URL > Use Slow 3G network tab option or 2g poor on any of the examples Manual load more Example with finite number of pages < URL > Example with bad URL < URL > Example with slow loading URL < URL > Related issues 19502 Related PRs < URL > < URL >  	0	1
0 0 1.2 1.0 1.2 1.0 1.0 1.0 1.0 1.0 1.0843373493975903 83 1.0 7 11 16 80	Slightly looser validation in dev-mode . Allow non-AMP script tags in the JS validator if the : development-mode-only . attribute is present on the : script . tag . This is for development environments that may want to run additional code ( e.g. to do hot-reloading on code changes ) while otherwise being compatible with AMP tools that do validation . CC @timneutkens @sebastianbenz	2	1
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 0.9868421052631579 76 1.0 4 11 16 50	`amp-video` analytics tests are flaky on `master` . Multiple PR and push builds from today contain this error . ( Had to restart Travis jobs to unblock development ) : DESCRIBE => amp-video DESCRIBE => Analytics Triggers DESCRIBE => should trigger ended analytics IT => when the video ends ???Timeout of 20000ms exceeded . For async tests and hooks , ensure ' done ()' is called ; if returning a Promise , ensure it resolves . IT => when the video ends ???Timeout of 20000ms exceeded . For async tests and hooks , ensure ' done ()' is called ; if returning a Promise , ensure it resolves . .	1	0
2 2 1.6 2.0 1.5 2.0 1.35 1.5 1.3333333333333333 1.0 1.1764705882352942 17 1.0 2 10 28 89	Fix caching for RTC . Modify RTC so that we don't send the second request if there are no cache headers on the first response .	1	0
0 0 1.0 1.0 1.0 1.0 0.9 1.0 1.0 1.0 1.0985915492957747 71 1.0 3 7 13 82	Canary regression : Fixed header moves with scrolling . This repros when opting into dev-channel : Search for : amp . in Google Click on ampproject.org homepage link Initial position is sometimes wrong Scroll up and down . Observe that fixed header moves down  	0	0
2 2 1.6 2.0 1.6 2.0 1.45 2.0 1.6666666666666667 2.0 1.1818181818181819 11 1.0 0 1 4 14	Refactor resources manager to a manageable size . I think we can start by maybe splitting the mutate/resize VS . layout concern ? The file is too large to understand . And it needs a diagram :)	2	1
0 0 0.8 1.0 0.8 1.0 1.05 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 10 23 91	Cannot read property ' getLoadMoreEndElement ' of null . What's the issue ? Cannot read property ' getLoadMoreEndElement ' of null Briefly describe the bug . : amp-list . js : 725 Uncaught ( in promise ) TypeCannot read property ' getLoadMoreEndElement ' of null . How do we reproduce the issue ? Please provide a public URL and ideally a reduced test case ( e.g. on jsbin.com ) that exhibits only your issue and nothing else . Provide step-by-step instructions for reproducing the issue : Open < URL > Aliexpress.com Open developer tools and see error in console Open < URL > Open developer tools and see error in console What browsers are affected ? macOSX Safari Version 12.0.3 ( 13606.4.5.3.1 ) macOSX Chrome 72.0.3626.122 ( Official Build ) ( 64-bit ) macOSX FireFox 65.0 ( 64-bit ) Which AMP version is affected ? Dev Channel - Version 1903122236150 Stable Channel - Version 1903141753530 Is this a new issue ? Or was it always broken ? Paste the version of AMP where you saw this issue . ( You can find the version printed in your browser's console . ) N/A cc : @aghassemi to triage , @rsimha  	0	0
2 2 1.0 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 1.0833333333333333 48 1.0 1 3 20 73	Cleanup `toggleLayoutDisplay` API usage . Related to #9352 . Can only be done when #9352 fix is in PROD . Related elements : [ ] amp-animation [ ] amp-app-banner [ ] amp-lightbox [ ] amp-image-lightbox [ ] amp-lightbox-viewer [ ] amp-sticky-ad [ ] amp-sidebar [ ] amp-user-notification  	0	0
2 2 1.0 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 0.0 0.71875 96 1.0 2 5 10 59	Story attachment + React Router history conflict . From the Slack channel : Hi , Is there anyone having a bug ( on Safari Desktop ) with the close button ( top left cross ) of a page attachment for an AMP-story contained in an Iframe ? In my case , the first time I click : nothing happens ; the second times : it goes to my previous page in my main window . No problem for Chrome or Firefox . < URL > You will find the iframe in the ' Buggy iframe ' : < li > . . When opening the codesandbox on Safari , opening the page attachment and then trying to close it , it will try to GoBack in the history of the router of the application .	1	0
1 1 1.4 1.0 1.2 1.0 1.35 1.0 1.6666666666666667 2.0 1.0 1 1.0 5 8 16 64	[ amp-lightbox ] focus outside should close the lightbox . Describe the new feature or change to an existing feature you'd like to see When I use a Screen reader , since the focus is not trapped in the lightbox I can tab and continue my reading in the page but the lightbox stays open . We known it's possible to close with esc but will the user know/do it ? I think a focus outside should be considered as a click outside ... so closing it . Additional irritant We had to add a close event that focus on the trigger that opened the lightbox so if we close the lightbox later in the read , then the focus go back to this button and I loose where I am at . When 2 buttons open the same lightbox , I didn't find a way to go back to the good trigger so I had to duplicate the lightbox and that shouldn't be required  	0	1
1 1 0.6 0.0 0.9 1.0 0.85 1.0 0.3333333333333333 0.0 0.6981132075471698 53 1.0 0 3 8 32	[ Panning media ] Accelerate transitions using translate3d . Using translate3d for higher performance . This will improve the experience noticeably on lower end devices . cc @ampproject /wg-stories	1	1
1 1 1.2 1.0 1.2 1.5 1.3 1.5 1.0 1.0 1.0 57 1.0 3 6 13 54	Intent to implement : partially drop restriction on `style` attributes . Some restrictions have to be preserved , but most can be dropped at this time , I believe . Some considerations : : ! important . should be prohibited as with stylesheets ( should be done already for SVG ) . : url () . values ( e.g. for : background-image . , etc ) should be rewritable by cache ( should be done already for SVG ) . The only allowed values of : position . are : static . , : relative . ( and : absolute . ? ) . Based on some future optimizations we want to do , we should probably also disallow : top : X . , : left : X . , : right : X . , : bottom : X . . Though we may be able to remove this restriction . SSR should be able to work with publisher-authored : style . attributes . The only real restrictions comparing to the current state of things are : position . and : top/bottom/etc . restrictions . The question is whether , given these restrictions , this is still a good idea to implement . /cc @Gregable @honeybadgerdontcare @jpettitt [ improved ] 	0	0
1 1 1.4 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 1 2 22	amp-img handling unknown sizes . I've been displaying images from a feed where the size is not currently known . From the s , it states that width and height are required . amp-img components , like all externally fetched AMP resources , must be given an explicit size ( as in width / height ) in advance , so that the aspect ratio can be known without fetching the image . To avoid validation errors the only solution I can think of is a fixed container that scales responsively and contains the image . Is there any official umentation on proposals for handling unknown sized images ? Or is there a better solution than this ? Example : < URL > Thanks , Byron  	1	2
0 0 1.0 1.0 0.9 1.0 0.8 1.0 0.6666666666666666 1.0 0.4 5 0.0 2 3 5 26	Double Click Ad Integration Test . Part of #4261 < URL > our crazy Double Click Ad integration test . It works when testing locally , but fails Travis . Ugh .	2	0
1 1 0.6 1.0 0.7 1.0 0.8 1.0 1.0 1.0 1.1428571428571428 14 1.0 12 22 30 90	Test behavior varies when run with/without -- watch . Currently observe different behavior when running tests with/without -- watch . Steps to reproduce an example : : gulp test -- files = extensions/amp-ad-network-doubleclick/ 0.1 /test/test-amp-ad-network-doubleclick-impl . js . // Observe approx 25 tests run : gulp test -- files = extensions/amp-ad-network-doubleclick/ 0.1 /test/test-amp-ad-network-doubleclick-impl . js -- watch . // Observe approx 10 tests run	1	0
1 1 1.4 1.0 1.7 2.0 1.35 1.0 1.3333333333333333 1.0 0.71875 160 1.0 6 7 7 37	Swiping back to a story should restart its active page . When a user swipes to go to the next story , the previous one gets paused . If they swipe back to this story , the active page should be restarted so it plays from the beginning , just like on a regular story page navigation . Today this causes bugs where navigation is triggered instantly as a user goes back to a previous story . cc @ampproject /wg-stories  	0	0
1 1 1.2 1.0 1.3 1.5 1.25 1.5 1.6666666666666667 2.0 1.1666666666666667 6 1.5 1 2 4 23	don't fade buttons on carousel on desk when it is supposed to be always visible .	2	0
1 1 1.0 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 1.588235294117647 17 2.0 2 2 5 77	Replace spinner generator with resulting HTML in `amp-loader` . Based on @kristoferbaxter ' s observation , there's no real need for the < URL > , we can replace the code that generates the HTML with the actual HTML ( should improve performance for a slight bundle size tradeoff if any ) .	2	0
1 1 1.6 2.0 1.7 2.0 1.5 2.0 1.6666666666666667 2.0 0.0 0 0.0 2 4 20 81	Allow passing htmlFormat amp4ads in the gulp package . Describe the new feature or change to an existing feature you'd like to see Allow passing the htmlFormat AMP4ADS to gulp-amphtml-validator . Describe alternatives you've considered I'm currently just using my own ' fork'(read copy-paste ) that includes this feature . Also instead of just passing htmlFormat it could be an object of settings just in case it ever becomes relevant . Additional context Required changes : < URL > : module . exports . validate = function(validator ) { . => : module . exports . validate = function(validator , htmlFormat ) { . < URL > : validatorInstance . validateString(inputString ); . => : validatorInstance . validateString(inputString , htmlFormat ); .	2	1
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.9183673469387755 49 1.0 1 1 16 64	Incorrect typedefs in `ads/google/imaVideo . js` . The following typedefs in : ads/google/imaVideo . js . are invalid because they are missing curly braces around the : Element . typename . When curly braces are added , the presubmit rule that requires the use of : dev () . assertElement () . instead of : /** @type { ! Element } */ . kicks in . When : dev () . assertElement () . is used , we see test failures due to : videoPlayer . not actually being an : Element . . Test : : gulp test -- unit -- files extensions/amp-ima-video/ 0.1 /test/test-amp-ima-video . js . : Element expected : [ object Object ] at Log . assert (/tmp/cc54e5f9ee28148cf3695259696da85e . browserify . js : 42563:15 ) at Log . assertElement (/tmp/cc54e5f9ee28148cf3695259696da85e . browserify . js : 42590:10 ) at Object . onContentPauseRequested (/tmp/cc54e5f9ee28148cf3695259696da85e . browserify . js : 1353:47 ) at Context . < anonymous > (/tmp/cc54e5f9ee28148cf3695259696da85e . browserify . js : 3886:17 ) . Erroneous source code : < URL > < URL > < URL > < URL > < URL > This bug is currently blocking #21212	1	0
0 0 0.8 1.0 0.6 0.5 0.8 1.0 0.6666666666666666 1.0 1.3636363636363635 22 1.5 2 4 9 46	PWA : Add < html > element to shadow AMPs . What's the issue ? When using the : MultidocManager . , attaching an AMP Shadow doc creates : < style > . and : < script > . elements at the same level as the : < body > . element of the shadow doc and adds neither : < head > . nor : < html > . . This manifested as an additional : 8px . padding added to : < amp-next-page > . embeds since the CSS rule that overrides the browser default ( by adding : margin : 0 ; . ) is expecting an : < html > . element : < URL > We need to either update these CSS rules to use a different selector than : html . for shadow docs , or we should make it so that shadow docs mirror the regular amp document structure , with an : html . wrapper , : head . , etc . What browsers are affected ? All browsers Which AMP version is affected ? All versions /cc @dvoytenko	1	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 1.4285714285714286 7 1.0 2 2 9 47	Untangle Sauce Labs integration test logs . On Travis , integration tests run in multiple Sauce Labs browsers at the same time . The test logs are unorganized as a result , and can be misleading . Example of a tangled Travis job log : < URL > The error is reported on Chrome , but the end result says 1 test failed in Safari 12 .	1	0
2 2 1.6 2.0 1.5 2.0 1.25 1.0 2.0 2.0 0.0 0 0.0 3 8 18 79	add ' as-you-go-and-show-all-on-submit ' for form ' custom-validation-reporting ' . I would like to have both reporting strategy (' as-you-go ' ans ' show-all-on-submit ' ) for the same form . so if the users interact with a input , the validation message will be visible right away , and if the user submit the form before touching required field , the ' required ' error show up . right now , when I use ' as-you-go ' , if there is some required field , nothing happen . there is no error showing the required field .	2	1
2 2 1.4 2.0 1.5 2.0 1.35 2.0 1.3333333333333333 2.0 0.0 0 0.0 0 5 21 107	FR : Range slider . What's the issue ? Hi , I'm developing a mobile site with AMP project . My project require a price range slider based data searching like the airbnb have , to see the airbnb Price Range slider , please < URL > I didn't find any Price range slider on AMP yet which will fulfill my need . Could you please check the link i have attached and let me know your concern including how can i implement a price range slider on my project with AMP as like airbnb have .	2	1
2 2 0.8 1.0 0.9 1.0 0.9 1.0 0.6666666666666666 0.0 0.0 0 0.0 3 6 25 129	Validator incorrectly identifying required extensions for amp-carousel . What's the issue ? AMP HTML containing : < amp-carousel > . without the accompanying component : < script > . element is wrongly identified by the validator as being the lightbox mode version , as opposed to the ordinary version , and requesting components beyond just : amp-carousel . be included , namely : amp-lightbox-gallery . : : $ amphtml-validator example . html example . html : 18:2 The mandatory attribute ' lightbox ' is missing in tag ' AMP-CAROUSEL [ lightbox ]' . ( see < URL > example . html : 18:2 The tag ' AMP-CAROUSEL [ lightbox ]' requires including the ' amp-carousel ' extension JavaScript . ( see < URL > example . html : 18:2 The tag ' AMP-CAROUSEL [ lightbox ]' requires including the ' amp-lightbox-gallery ' extension JavaScript . ( see < URL > . Note that including the : amp-carousel . extension : < script > . is enough to make validation pass , in spite of the above messages . How do we reproduce the issue ? Copy HTML from < URL > Run this HTML through : amphtml-validator . . What browsers are affected ? At least : Mozilla/ 5.0 ( Macintosh ; Intel Mac OS X 10_13_6 ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Chrome/ 69.0.3497.92 Safari/ 537.36 Which AMP version is affected ? : amphtml-validator . cli tool .	2	0
1 1 0.8 1.0 1.1 1.0 1.15 1.0 0.6666666666666666 1.0 1.2125984251968505 127 1.0 1 11 19 77	Replace ancestorElementsByTag with closestByTag in dom . js . Replace all usages of : ancestorElementsByTag . with : closestByTag . . They do the same thing except the latter uses a browser API if available ( better ) . Bonus points for looking for and replacing other doppelganger functions !	2	0
2 2 0.8 1.0 1.0 1.0 1.05 1.0 1.0 1.0 1.7777777777777777 9 2.0 6 12 18 29	Add @-moz-document to the CSS at-rule allowlist . A few WordPress themes I've been evaluating for AMP compatibility are making use of the < URL > ( more specifically , : @-moz-document . ) . Specifically , there are ~ 69 instances ~ < URL > I've found across ~ 4,000 themes . Every instance I've seen is used as a browser sniffing technique , for example : : @-moz-document url-prefix () { /* Firefox-specific rules here ! */ } . Nevertheless , the MDN docs notes that this at-rule has been disabled now in stylesheets coming from webpages : Note : There is a -moz-prefixed version of this property ???: @-moz-document . . This has been limited to use only in user and UA sheets in Firefox 59 in Nightly and Beta ???an experiment designed to mitigate potential CSS injection attacks ( < URL > ) . This being the case , perhaps this answers the question and support should not be added . Since AMP pages are never user or UA sheets , the rule would never be used by any browser yet .	2	1
2 2 1.6 2.0 1.4 1.0 1.4 1.0 1.6666666666666667 2.0 0.0 0 0.0 1 7 19 80	Add ' fetch-error ' event to amp-list / remote state . Describe the new feature or change to an existing feature you'd like to see We'd like be able to send an amp-viewer-assistance . updateActionState ( FAILED_ACTION_STATUS ) in response to certain critical failed amp-list / amp-state XHRs ; however , we need an event to trigger after such a failure to be able to run that action . Describe alternatives you've considered None that I'm aware of /cc @choumx	2	1
2 2 2.0 2.0 1.7 2.0 1.45 2.0 2.0 2.0 0.6619718309859155 142 1.0 3 3 5 12	[ amp story shopping ] Get and set JSON data . Description : amp-story-shopping-config . can either have a : script . child or a : src . attribute a ) Inline is always required b ) If a : src . is present it will override inline c ) If remote fails it should fallback to the inline config Data should be fetched and set in the store service under a new entry called : SHOPPING_STATE . . products should be keyed to shopping state by their : produc t-t ag-id . value so they can be read without iterating over data . This could follow a similar pattern as the < URL > action . : amp-story-shopping-tag . should subscribe to : SHOPPING_STATE . and update its text content with the : produc t-t itle . value . Validation is not part of this PR . Follow up PRs will validate JSON before setting it . < URL >  	0	1
1 1 1.4 1.0 1.3 1.0 1.5 1.5 1.3333333333333333 1.0 0.9871794871794872 78 1.0 5 9 19 64	Remove `AmpCommandLineRunner . java` . Today , the file overrides closure compiler's : CommandLineRunner . and passes in special options that are neither available as flags nor included in the default : compilation_level . settings of : SIMPLE_OPTIMIZATIONS . or : ADVANCED . . < URL > In order to remove this file , we'd have to either make do without the special options , or add babel transforms that make them unnecessary , or convince the closure team to provide flags that activate the options .	1	0
1 1 1.4 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 1.3706293706293706 143 1.0 2 6 20 104	amp-next-page : Allow for ' swipe ' mode instead of ' scroll ' . Would be nice to allow : amp-next-page . have different modes of loading the next article . For instance , : swipe . to next article on mobile but : scroll . on desktop ( sort of like how bmw.com does this ) /cc @ericlindley -g @peterjosling @emarchiori	2	1
1 1 0.6 1.0 0.9 1.0 1.05 1.0 0.6666666666666666 1.0 1.1025641025641026 39 1.0 10 13 29 118	Remove a4a experiment code from src/experiments . js . None of it has to do with the main binary's experiment implementations . < URL > < URL > < URL > < URL > < URL > < URL >	2	0
1 1 1.4 1.0 1.5 1.5 1.5 1.5 1.0 1.0 1.0 12 1.0 9 10 14 65	Create new reference ument for `amp-story-page-attachment` . ?????? Missing or out-of-date umentation Describe the content that is missing or should be up dated : amp-story-page-attachmente . is a separate amp component from : amp-story . . It should be migrated to its own page and include a code samples and a top table with description , required script , ect . < URL >  	1	2
0 0 0.6 1.0 0.8 1.0 0.7 1.0 0.3333333333333333 0.0 0.0 0 0.0 8 15 31 142	Picture not show in google chrome mobile . Please fix this < URL > if open in opera mobile second image show but in Google Chrome mobile second image not show	1	0
0 0 0.8 1.0 1.0 1.0 1.15 1.0 0.6666666666666666 1.0 0.5714285714285714 7 1.0 8 8 34 94	input . focus is not working on iOS on a default `hidden` element . Good Day there , I have created a < URL > , please play around with iOS device , by clicking on the button , it will do the following 2 actions show the element which wraps the : input . set : focus . on the : input . As you can see , on the first click attempt on the button , the focus is not working as expected while it will only work on the second attempt .  	0	0
2 2 1.0 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 1 12 18 70	Could we take width and height from the amp-img tag attributes instead of offsetHeight and offsetWidth in < amp-image-lightbox > . I wonder if it could be possible to somehow take the width and height of the source image ( namely : this . sourceWidth_ . and : this . sourceHeight_ . , @ amp-image-lightbox . js : 237 ) from the : < amp-img > . element attributes : height . and : width . instead of from the : offsetheight . and : offsetwidth . attributes . It looks like if the images are cropped inside a smaller div , the : < amp-image-lightbox > . ends up showing the image with the ' wrong ' aspect ratio ( the one of the cropped image and not the one of the original image ) . The issue can be seen in the following website of a client of us . < URL > If you look for the : . mrf-galleryGrid__img . elements ( the wrapper for the images in our galleries ) , some of them have a cropped width to a certain percentage of the viewport . When you click/tap on one of these images , the lightbox opens up showing the image respecting the cropped image aspect ratio , but of course showing the actual image and not the cropped one . Thus , the final result does not look that good . This is happening because you consider the : offsetheight . and : offsetwidth . attributes , which , in this case , are not the actual ones for the original image in the source . Could there be a way to , in some cases , use the : width . and : height . attributes instead ?	1	0
0 0 1.0 1.0 1.3 1.5 1.25 1.0 1.0 1.0 1.2325581395348837 43 1.0 1 5 18 58	Clone documentation for amp-sidebar v2 . The current setup will break the amp . dev component doc importer as the readme.md will be associated with the latest version 1.0 resulting in the translations not being shown . Please , copy the readme and mark the new version as experimental : : < td width='40%'><strong>Availability</strong></td> < td > < a href='<URL>'>Experimental</a></td> . //cc @leafsy @sparhami [ improved ] 	0	0
1 1 1.6 2.0 1.5 1.5 1.25 1.0 1.6666666666666667 2.0 1.0887573964497042 169 1.0 4 9 20 76	' Play video ' message in stories should be sized responsively . The message looks really small when the size of the : amp-story-page . is large ; we could just size it using : rem . and I think we will get responsive sizing for free .	2	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.0 21 1.0 2 6 9 65	Multi-selector support for AMP Analytics . The following only applies to visibility trigger . Note that click trigger already support multi selector Goal - Trigger multi identical events for multi different selectors w/o duplicate trigger config . - Support selector that select multiple elements . - Provide check on duplicate selectors . Design Proposal - Having : selector . support a string . ( single selector ) - Having : selector . support an array . ( multi selector ) - Analytics will query every selector in the array . For example : ' selector ' : [' A ' , ' B ' ] . - Analytics will also trigger on every element if single selector selects multiple elements . For example : ' selector ' : ['*'] . - Analytics will also trigger on every element if single selector selects multiple elements . For example - User can specify the data-attribute in each selected element to get information on what the event trigger target is . - : selectionMethod . should remain same for every selector in the array . Example : ' triggerAB ' { ' on ' : ' visible ' selector : [' A ' , ' B ' ] } . equals to : ' triggerAB ' { ' on ' : ' visible ' selector : [' A , B ' ] } . equals to : ' triggerA ' { ' on ' : ' visible ' selector : ' A ' } ' triggerB ' { ' on ' : ' visible ' selector : ' B ' } . Questions Misconfig detection Duplicate selected elements	2	1
1 1 1.4 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 8 31 80	Video Companion Ads and Brightcove video player . Currently there is no support for video companion ads using amp-brightcove and amp-ads , by the team's response : ' This is unfortunately not supported at the moment . The issue is that the Brightcove player on AMP pages serves within it's own iframe and there is no way to correlate the ad request to the display ad slots ( like in the non-AMP world ) on the AMP page who also serve in their own iframes . ' By DFP rules we should have an option to set companion ads .	2	1
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 6 12 54	Can't bind aria attributes . What's the issue ? Unless I'm doing things wrong , ARIA attributes cannot be bound to a state . This hinders implementing proper accessibility . How do we reproduce the issue ? : < amp-state > < script type='application/json'> { ' navOpen ' : false } < /script > < /amp-state > < button [ aria-expanded]='(navOpen ? ' true ' : ' false ' )' on='tap:AMP . setState({navOpen : ! navOpen})'>Menu</button> . The state gets updated , and so do other attributes I've bound in my page ( mostly just : [ class ] . ) . What browsers are affected ? Chrome 62.0.3202.29 for macOS . Which AMP version is affected ? AMP version 1506043780363	1	0
2 2 1.2 1.0 1.3 1.5 1.15 1.0 1.0 1.0 2.0 1 2.0 2 3 22 144	amp-ad causing pages to hang for multiple seconds . What's the issue ? I use : amp-ad . on my page and have been seeing some strange behavior . On Chrome desktop specifically I very often see my page be fully white before content loads in for seconds and while the page is white ad network requests are being sent out . In the performance tab of Chrome shows it recalculating styles and updating the layer tree over and over again - I have no clue why this might be happening or how to debug/avoid it . How do we reproduce the issue ? If you go to tasty.co on Chrome desktop and click around to different recipes ( it isn't super predictable ) but within a few clicks you will see the page completely hang for seconds I also saved the profile from the performance tab that saves into . json to see the exact strange behavior ( which I'm unable to attach here ) What browsers are affected ? Have only reproduced on desktop Chrome Which AMP version is affected ? : amp-version='1529449959701 ' .	1	0
1 1 1.2 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.525 40 2.0 6 6 19 80	< amp-bind > doesn't seem to work properly in anchor tag links . ' On the AMP Camp demo site , we don't think the [ href ] expression ever updates the link . < a href='product-details ? categoryId = < %productsGender% >-< %productsCategory% > & productId ={{ productId }}' target='_self ' class='listing-product ' [ href]=''product-details ? categoryId=' + products . gender + ' -' + products . category + ' & productId ={{ productId }}'' > Steps to reproduce : 1 ) Go to the Men's Shirts product listing page : < URL > 2 ) Click on ' Shorts ' to see Shorts instead . The ' products ' state variable updates . 3 ) Click on a pair of shorts . Notice that you see related products for shirts . This is because the URL still contains ' categoryId = men-shirts ' . Because the dynamic link on the previous page didn't update . ' cc @morsssss	2	0
0 0 1.0 1.0 1.2 1.0 1.15 1.0 1.0 1.0 0.68 200 1.0 1 5 12 60	Allow meta tags for Story tools . Story tools should be able to add meta tags to signal which tool the story has been generated from , and which version . We need to update validation rules to make this valid AMP . : < meta name='amp-story-generator-name ' content='string'> < meta name='amp-story-generator-version ' content='string'> . cc @ampproject /wg-stories  	0	1
1 1 1.6 2.0 1.3 1.0 1.25 1.0 1.6666666666666667 2.0 0.0 0 0.0 5 6 16 73	FR : analytics event trigger for amp-carousel item only when it's visible for the first time . Issue Right now , as a carousel loops through the items , an item will get repeatedly shown and repeatedly fired , which will count as multiple impressions in analytics . < URL > Feature Request Can we have an analytics event trigger for amp-carousel to fire only when an item is visible for the first time ?	2	1
1 1 0.8 1.0 1.0 1.0 1.15 1.0 0.6666666666666666 1.0 1.15 20 1.0 4 9 13 100	Empty analytics vars when : root selector is in use for inabox . TODO : [ x ] Redefine how : : root . selector layout rect is determined [ x ] Support : elementWidth . and : elementHeight . [ x ] Support : elementX . and : elementY . From #7830 As shown below , : : root . selector is missing vars for : - : elementX . - : elementY . - : elementWidth . - : elementHeight . : : root . selector : elementX : elementY : elementWidth : elementHeight : totalTime : 569 totalVisibleTime : maxContinuousVisibleTime : loadTimeVisibility : 100 backgrounded : backgroundedAtStart : firstSeenTime : 568 lastSeenTime : 568 fistVisibleTime : 568 lastVisibleTime : 568 minVisiblePercentage : 100 maxVisiblePercentage : 100 . Other selector : elementX : 150 elementY : 305 elementWidth : 150 elementHeight : 100 totalTime : 570 totalVisibleTime : maxContinuousVisibleTime : loadTimeVisibility : 95.99999785423279 backgrounded : backgroundedAtStart : firstSeenTime : 568 lastSeenTime : 568 fistVisibleTime : 568 lastVisibleTime : 568 minVisiblePercentage : 95.99999785423279 maxVisiblePercentage : 95.99999785423279 .	1	0
0 0 0.8 0.0 1.0 1.0 0.95 1.0 0.6666666666666666 0.0 0.0 0 0.0 2 14 18 80	Documentation for AMP RTC headers incomplete . What's the issue ? I'm working on the AMP RTC test and I've run into a problem with the headers . How do we reproduce the issue ? Test page : < URL > Test RTC endpoint : < URL > The test page is generating the following error : url . js : 345 Response must contain the AMP-Access-Control-Allow-Source-Origin header BUT in the RTC end point has the header AMP-Access-Control-Allow-Source-Origin so I'm unclear why the AMP page is generating an error on this . The umentation here mentions the headers : < URL > But it does not mention the values for these header . Also in the header section it lists ' CORS ' as a header but I suspect ' CORS ' is not an actual header to be added . Lastly , a header of Access-Control-Allow-Credentials : true is also required but not mentioned in the umentation . Please advise , what is the expected value for the header AMP-Access-Control-Allow-Source-Origin ? Are there any other headers ( and their values ) that I will need to add ? What browsers are affected ? I have only tested this in Chrome . Which AMP version is affected ? Powered by AMP ???HTML ???Version 1510956201635  	1	2
1 1 0.8 1.0 0.8 1.0 0.95 1.0 1.0 1.0 1.6666666666666667 6 2.0 0 4 5 20	Intent to implement : Server-side access protocol . The details TBD	2	1
2 2 1.4 2.0 1.4 1.5 1.35 1.5 1.0 1.0 1.1173184357541899 179 1.0 0 11 15 53	Story fails to build . Seems like stories sometimes completely fail to build , leaving the page rendered vertically . JavaScript console claims that the page timed out waiting for : amp-story-render . service to be ready . /cc @ampproject /wg-stories  	0	0
0 0 0.8 1.0 0.6 0.5 0.95 1.0 1.0 1.0 0.9354838709677419 31 1.0 4 4 15 90	< amp-lightbox-gallery > no ads in thumbnail grid . Remove ads from the thumbnail grid . Correctly calculate carousel slides by remembering that ads do not count in thumbnail navigation as well as exit .  	0	1
1 1 0.4 0.0 0.7 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 0 0 8 23	[ amp-subscriptions ] Fetch entitlements timeout error on Android Google News app . What's the issue ? Fetch entitlements timeout error when opening an amp page from the Google News Android app . The page must have the amp-subscriptions extension with a authorizationUrl that is using the SOURCE_URL substitution variable . How do we reproduce the issue ? Add the < URL > to an amp article ; Add an authorizationUrl that has the SOURCE_URL < URL > ; Open the amp page from the Google News Android app ( < URL > will be equal to 1 ) . While the AMP Runtime prepares the authorization request(fetch entitlements ) it will occur an : fetch entitlements failed for local : timeout . . The error seems to be occurring even before the request to the authorizationUrl is made . Example amp-subscriptions configuration : : < script type='application/json ' id='amp-subscriptions'> { ' services ' :[ { ' authorizationUrl ' : ' < URL>' , ' actions ' :{ ' login ' : ' < URL>' , ' subscribe ' :'/ / example.com/subscriptions/landings ' } } ] , ' fallbackEntitlement ' :{ ' source ' : ' fallback ' , ' granted ' : false , ' grantReason ' : ' METERING ' , ' data ' :{ ' fallback ' : true } } } < /script > . What browsers are affected ? Webviews on Google News Android app . Which AMP version is affected ? I tested on versions 012012232217000 and 012012301722001 , both had the same problem .	1	0
2 2 1.8 2.0 1.5 1.5 1.4 1.0 1.6666666666666667 2.0 1.75 4 2.0 1 3 20 81	amp-bind : Add support for Math . pow . This is a request to add < URL > to the < URL > . Currently ' ^' or ' **' are not working to perform the power of two numbers . If there is a workaround for this , happy to know about it . Thank you !	2	1
1 1 1.0 1.0 1.1 1.0 1.05 1.0 1.0 1.0 0.7558139534883721 86 1.0 3 3 5 37	[ Amp story ] [ Page attachments ] [ Outlink ] Clicks not opening URL . : amp-story-page-outlink . Clicks do not open the link . This is appearing in : 2105111751000 . . Appears to be related to #33982 . @ampproject /wg-stories  	0	0
0 0 1.2 1.0 1.3 1.0 1.2 1.0 1.0 1.0 1.4545454545454546 66 2.0 6 8 28 88	add intrinsic layout support to amp-list .	2	1
2 2 1.4 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.0 1 1.0 0 2 9 27	Allow CSS larger than 50k if 90% used . We'd like to see the CSS limit increased from the current 50K to 100K . Background - we're automatically converting sites , including all their look and feel to AMP . Many sites have 3-400k of CSS which we prune down to only the rules that are used on the page . This Typically yields between 30 and 80k of CSS . This means that on the larger files we need to very aggressively optimize the CSS size by rewriting extensively which is a ) computationally expensive , b ) tends to break things in unexpected ways and c ) means we're dropping /* ! comments containing rights info which puts us out of license compliance . Increasing the limit to 100K would make all those issues go away for many publishers who are converting existing templates . Here is an example page that's right up against the current limit < URL >	2	1
2 2 1.6 2.0 1.2 1.0 1.4 1.0 1.6666666666666667 2.0 0.8 5 0.0 0 0 4 16	Add timer trigger for amp-analytics . Offshoot from #871 . We'd like to add a timer trigger that fires a specified request on a regularly scheduled interval .  	0	1
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 0.9583333333333334 24 1.0 5 28 40 94	JWT deprecation : Figure out how to test on Sauce labs during PR checks . Deprecation announcement : < URL > This will prevent us from using a secure JWT encrypted sauce labs token to run unit and integration tests during PR checks . Figure out a workaround to use our sauce labs token on PR builds .  	0	0
0 0 1.2 1.0 1.3 1.5 1.3 1.5 1.0 1.0 1.0 11 1.0 1 2 15 67	Remove dep-check whitelist for position-observer-impl .  	0	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 2.0 0.711340206185567 97 1.0 2 2 7 31	`amp-story-desktop-one-panel` pagination arrows . Add pagination arrows . These can be the existing pagination arrows that are used on desktop but re-skinned . This will give all A11y and i18n benefits .  	0	1
1 1 0.6 1.0 1.0 1.0 0.95 1.0 0.6666666666666666 1.0 1.2777777777777777 36 1.0 7 17 24 101	Support external consent flow within amp-consent . Some publishers have existing consent flows on their non-AMP pages that they'd like to use for AMP as well . Possible options : 1 . Use a way to iframe and message communication between the iframe and the AMP page , so consent status is available to the AMP page 2 . Send user using links in amp-consent to the non-AMP page but have the ability to direct the user back to the AMP page ( even when AMP page is in the viewer ) once the user is done with the consent flow on the non-AMP page . It's also important to get consent status from the non-AMP flow channeled back to the AMP page . CC @lannka @rudygalfi Master Issue : #13716	1	1
1 1 1.2 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.3229813664596273 161 1.0 1 11 20 103	[ Layers ] show () , etc . does not schedule layout of owned elements . Essentially : show () . if anything inside : amp-carousel . or : scrollable amp-list . fails to schedule layout . See < URL > for carousel example See < URL > for scrollable lightbox example ( both carousel and lightbox take ownership ) /cc @jridgewell Something to ensure layers handle . I may try to find a temp solution for now . If you have any ideas for a shor t-t erm fix , please let me know . [  ] 	0	0
2 2 1.2 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 1.0 4 1.0 10 15 18 81	`event . value` is `null` for < textarea > `change` event . How do we reproduce the issue ? 1 . : html < textarea on='change:AMP . setState({foo : event . value})'></textarea> . 2 . Type in the text area and lose focus . Call : AMP . printState () . in the console . The : foo . state is set to : null . , even though the textarea value is non-empty . What browsers are affected ? Only tested on Chrome . Which AMP version is affected ? Only tested with 1504119607313 .	1	0
2 2 1.4 1.0 1.1 1.0 0.95 1.0 1.6666666666666667 2.0 0.0 1 0.0 1 5 31 130	 #ampf = undefined ' appended in url when opening amp-lightbox . . What's the issue ? Whenever we are opening any amp-lightbox , : #ampf = undefined . is appended in URL . ( When comes from google ) . How do we reproduce the issue ? You can check for the following sites . - < URL > ( filter , Get Seller Detail , Check right price , etc will open lightbox ) - < URL > ( Connect Now button ) What browsers are affected ? All browsers .  	1	2
1 1 1.0 1.0 0.7 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 0 3 4 17	amp-analytics does not load sometimes . Short description of your issue : I will provide more information as I can get it , but I've noticed times where the analytics code will not fire at all . There aren't any network issues like the scripts not loading or anything , so I think there must be some sort of race condition within the AMP code . Maybe something with how the ' visible ' trigger works ? How do we reproduce the issue ? Refresh on an amp-enabled page with amp-analytics installed with GA configuration Look in network requests Every once in a while the GA pixel will not get sent . What browsers are affected ? Chrome is what I've tested on Which AMP version is affected ? Latest  	0	0
1 1 1.2 1.0 1.0 1.0 1.3 1.5 1.6666666666666667 2.0 0.5416666666666666 24 0.0 2 3 4 30	Move story-360 play/pause logic out of amp-story-page . : amp-story-page . is currently calling : amp-story-360 . media playback methods : < URL > This should all be handled within : amp-story-360 . through binding to the store service . It could follow < URL > then the : play . and : pause . methods could be private .	1	1
1 1 0.4 0.0 0.9 1.0 0.9 1.0 0.6666666666666666 1.0 1.0454545454545454 22 1.0 3 5 12 61	Cannot read property ' 237x ' of undefined . Cannot read property ' 237x ' of undefined at ( < URL >	1	0
1 1 1.2 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.2 5 1.0 4 9 22 92	create storage api . add storage api to < URL >  	1	2
2 2 1.0 1.0 1.2 1.5 1.05 1.0 0.6666666666666666 0.0 1.1085714285714285 175 1.0 3 18 20 66	Domain info dialog does not have style isolation . Publisher styles seem to be able to impact the domain info dialog , despite it being in a separate shadow DOM . For example , these two pages are using the same version of the runtime : Correct : Incorrect :	2	0
0 0 1.2 1.0 1.1 1.0 1.0 1.0 1.0 1.0 1.0 1 1.0 6 8 14 79	amp-accordion not working on IE11 & Edge . What's the issue ? As of sometime today the amp accordion component is no longer working in IE11 and Edge . The following error appears in the console . : failed to build : amp-accordion #24 SyntaxError . Assume it's related to < URL > PR which allows ' bind on [ data-expand ]' but also appears to have amended the integration test to skip Edge . How do we reproduce the issue ? Visit < URL > or any page with amp accordion component on IE11 or Edge . What browsers are affected ? IE11 and Edge Which AMP version is affected ? Latest version .  	0	0
1 1 0.8 1.0 0.8 1.0 0.7 1.0 1.3333333333333333 1.0 1.0384615384615385 78 1.0 4 14 22 114	Inabox ad visibility tracking is broken on Safari in current canary release 1535579255907 . Caused by the launch of ' layers ' experiment .  	0	0
2 2 1.2 1.0 1.1 1.0 1.3 1.0 1.0 1.0 0.2222222222222222 9 0.0 6 7 18 68	amp-story-player keyboard navigation . Describe the new feature or change to an existing feature you'd like to see Right now pressing the left or right keys on a keyboard only advances the story if the story has been clicked and has focus . Also , when there are multiple stories added to the player , after finishing the first story , right and left keys advance not page by page but story by story . Describe alternatives you've considered Ideally pressing the left or right key does the same as tapping on the left or right side of the story . i.e. advance or go back one page at a time , regardless of wether it's the first story in the player or if the user already went through a full story . Additionally , if there was a method on the amp story player to give it focus , pages in which the story player is the main element could have keyboard navigation work straight ahead without having to click it first .  	0	1
0 0 1.0 1.0 1.2 1.5 1.25 1.0 0.6666666666666666 0.0 1.625 8 2.0 1 6 16 60	Validator should limit tags to specific extension versions . A TagSpec ( e.g. : < amp-foo > . ) would require a specific extension version to be allowed Currently < URL > and < URL > can require a specific < URL > which has a list of allowed and potentially deprecated versions . It would be beneficial for TagSpecs and AttrSpecs to also require a specific version of an extension so that some tags or attributes would only be valid if that specific version(s ) was included . Most components ( for now ) , will be accepting all versions , not a subset . So it's beneficial to do this at the TagSpec level and not at the ExtensionSpec level . Proposal TagSpecs and AttrSpecs will have their : repeated string requires_extension . to be replaced by a more concise ExtensionSpec message ( : ExtensionVersion . ) that focuses on name ( optional string ) and version ( repeated string ) . Currently : : TagSpec { ... repeated string requires_extension = 28 ; ... } . Becomes : : message ExtensionVersion { optional string name = 1 ; repeated string version = 2 ; } message TagSpec { ... optional ExtensionVersion = <#>; ... } . By default the Validator will assume the absence of the ExtensionVersion to include all versions and only enforce any restrictions on versions if one is listed . The Validator will ' sniff ' the src URL of extension specs to determine which version is used in the document . /cc @GeorgeLuo @nhant01 for Java implementation	2	1
2 2 1.4 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.8227848101265823 79 1.0 3 3 6 33	[ amp-story-player ] Gracefully recover from iframe loading errors . Currently , if an iframe fails to load a story due to an error ( e.g. from a 404 / 503 , etc ) , the player will be stuck in a broken state . The close buttons won't even show since they are rendered at the story level . We should investigate if there's a way to know if the story failed to load and graciously recover from it with a better error message or at least a way to exit the player . /cc @ampproject /wg-stories	2	0
2 2 0.6 0.0 0.7 0.5 0.9 1.0 1.0 1.0 1.0 1 1.0 7 14 20 101	Document fetch batching and fragment-specified object properties . Document the features implemented in #7562  	1	2
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 1.5238095238095237 21 2.0 1 8 20 96	Support UI for sorting & filtering items on a page ( client-side ) . Initial proposal to use tables : Broadly support filterable tables that internally can be filtered Expose a method to communicate with the table to trigger filtering ( which can be used by bare components or in conjunction with Bind ) ???( also should expose a method for sorting in similar fashion ) Is used to filter by regex Should accept simple boolean (??? ???for exclude , quotes for exact match , parentheses for grouping , AND , OR ???can look into best practices here to refine what's needed ) ( V1 can be simple regex ) Should respect sorting Table larger than width of screen should scroll left-right ( put inside amp-carousel[layout = ???container ???] ? Should have ability to sort or filter by default ( on first load ) Each column can be filtered ( needs more detail in UX , if this means there's an affordance on each item by default , a text input by default , options for filtering on multiple tables , etc ) attributes for filtering : * can pick either column number ( 1-indexed ) or text of first item in column : filter_column = ???1 ???OR filter_column = ???Breed ???filter_criteria = ???greyhound or pekinese ???attributes for sorting : * sort_column = ???1 ???OR sort_column = ???Animal ???sort_order = ???ascending ???Each column has affordance to sort ( click once to sort ascending , click again once sorted to toggle other sort ) /cc @aghassemi @camelburrito ( since this may connect with sortable tables work ???might make sense to combine into single amp-table component ) ref : < URL >	1	1
0 0 0.6 1.0 0.8 1.0 0.7 1.0 0.6666666666666666 1.0 1.054054054054054 148 1.0 3 5 11 94	Hide navigation hint when bookend is opened . Repro steps : 1 ) Navigate to the last page of any story 2 ) Swipe horizontally to show navigation hint 3 ) Tap to next page while the hint is displayed Observed Result : Navigation hint is shown behind the bookend : Expected Result : Navigation hint should be hidden when the bookend is displayed .	2	0
2 2 1.2 1.0 1.1 1.0 1.3 1.0 1.6666666666666667 2.0 1.1666666666666667 18 1.0 9 13 21 77	Allow < amp-auto-ads > as a descendant of < amp-story > . We should implement special story-specific logic in : < amp-auto-ads > . when it is a child of : < amp-story > . , to automatically insert interstitial ads as : < amp-story-page > . elements between the existing : < amp-story-page > . elements that are the contents of the story .	1	0
2 2 1.8 2.0 1.1 1.0 1.3 1.5 2.0 2.0 1.6 5 2.0 4 10 16 27	< amp-script > outputs error to console for layout ! = ' container ' . Whenever I use with a layout that's not : container . - e.g. , : fixed . or : responsive . , the following error is output to the console : : Expected height to be available : null . - : error . js : 195 . While this may seem trivial , I've already seen examples where AMP developers reached out to Googlers for help because they couldn't figure out how to debug their code , and they assumed this bug was their fault . See screenshot for full stacktrace :  	0	0
2 2 1.2 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 1.0895522388059702 67 1.0 0 1 6 70	A4A test ' returns the right URL ' is undebuggable . Lets rewrite it to not use a huge URL regex that gives no indication for what is wrong on failure . For now I will delete the test . See below for PR .	1	0
1 1 0.6 1.0 0.7 1.0 0.85 1.0 0.6666666666666666 1.0 0.7131782945736435 129 1.0 5 5 13 50	Skip video blessing if autoplaying media with sound is allowed . To work around the fact that web browsers block autoplaying media with sound , we use the click event on the unmute button to unmute + mute back all the media elements , which allows us to autoplay them with sound later on . We call this process ' blessing ' the media elements . But media operations take time on iOS , and apparently block the main thread for a significant enough amount of time . However , native webviews can allow autoplaying media with sound . We should try to detect if videos can be autoplayed with sound , and skip the entire expensive blessing process if so . We should be able to adapt and re-use this piece of code : < URL > cc @ampproject /wg-stories  	0	1
2 2 1.2 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 14 18 96	AMP Appnexus ' below the fold ' ads not showing up . What's the issue ? For AppNexus ads , if using AST setup , ' showTag ' function does not trigger for the ' below the fold ' ads . How do we reproduce the issue ? Please see the example at < URL > You should see the ' above the fold ' ad rendered . However , if you scroll down to the bottom of the page , the ' below the fold ' ad does not render . If I remove the big chunk of text and make both ads above the fold , both ads render . What browsers are affected ? All browsers Which AMP version is affected ? AMP Version 1522422854768	1	0
0 0 0.8 1.0 1.1 1.0 1.35 1.0 0.6666666666666666 1.0 1.5 10 2.0 0 0 3 24	Consider allowing extensions to provide their own Loader animation . Currently there doesn't seem to be a way for extensions to provide their own loader animation . So < URL > are ( mis)using : createPlaceholderCallback . to provide their own gif animated image as a branded loader . Maybe we can consider making the : -amp-loader . related CSS classes not private and allow extensions to override the animation . Or create a : createLoaderElementCallback . to allow extensions to provide their own .	2	1
0 0 1.0 1.0 1.0 1.0 0.8 1.0 0.6666666666666666 1.0 0.0 0 0.0 0 3 17 81	AMP Ads Data Loading Strategy on AdSense Error . What's the Issue ? I get a JavaScript error in the console when I use the new ' data-loading-strategy ' parameter in an amp-ad tag with the ' adsense ' type . I get the same error if I use either the newer integer value for this parameter or the older ' prefer-views-over-viewability ' value . Steps to Reproduce Place the following code in a valid AMP document with appropriate client and ad slot . : < amp-ad class='adsbygoogle ' height = 280 layout='fixed-height ' type='adsense ' data-loading-strategy='0 ' data-ad-client='ca-pub-xxxxxxxx ' data-ad-slot='xxxxxxxx'></amp-ad> . The following error appears in the JavaScript console ( Chrome ) . : Unknown attribute for adsense : loadingStrategy . at A ( f . js : 14 ) at p . adsense ( f . js : 105 ) at xa ( f . js : 11 ) at Id ( f . js : 219 ) at window . draw3p ( f . js : 221 ) at frame . html : 9 ( anonymous ) @ f . js : 10 . What browsers are affected ? Tested on desktop in Chrome and Safari with both reporting similar errors . Which AMP version is affected ? Version 1501620723679 This seems to be a new issue . I was using the parameter before without an error . [ improved ] 	0	0
1 1 0.8 1.0 0.8 1.0 1.0 1.0 0.6666666666666666 1.0 1.0602409638554218 83 1.0 4 6 24 73	[ amp-sidebar ] Swipe to dismiss sidebar . We currently support swipe to dismiss in : < amp-lightbox-gallery > . and the : video-docking . feature . Implement swipe to dismiss for : < amp-sidebar > . . If possible , refactor the common aspects of this feature out of amp-lightbox-gallery , video-docking , amp-sidebar into a library function ( e.g. in the gestures library or a standalone class ) .	1	1
0 0 0.6 0.0 0.9 1.0 0.85 1.0 0.0 0.0 1.2 5 2.0 1 3 30 119	Typenull is not an object ( evaluating ' e . disabled ' ) . What's the issue ? In a multi shadow dow carrousel when swiping fast in an iOS device the document doesn't initialize correctly cause the fix-layer to have a list of stylesheets with null values . FixLayer ( fix-layer . js ln : 108 : ... if ( stylesheet . disabled ) ... . How do we reproduce the issue ? You can go to : < URL > And swipe fast . What browsers are affected ? Safari All browsers ? Some specific browser ? What device type ? Any iPhone and emulating in safari desktop as well . Which AMP version is affected ? Last one .	2	0
2 2 1.0 1.0 1.1 1.0 1.0 1.0 1.0 1.0 1.1553398058252426 103 1.0 10 18 25 107	AMP . pushState () race with lightbox/sidebar toggle . Chaining amp-sidebar actions with pushState () is problematic since they both affect browser history asynchronously . Here's what's happening : Sidebar opens , history push stack @1 Sidebar closes , requests history pop stack @1 AMP . pushState is invoked , history push stack @2 Pop from ( 2 ) is executed , which also pops everything above it including stack @2 One fix for this race condition would be to wait for ( 4 ) before executing ( 3 ) . Can be worked around by using : on='sidebarOpen: ... ; sidebarClose : ... ' . instead . : b/112204452 .	2	0
1 1 0.8 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 1.0 0.0 0 0.0 5 14 18 55	amp-web-push-widget components take up space even when not rendered . What's the issue ? A ) I'm noticing that the : < amp-web-push > . component includes space for both a ' Subscribe ' and an ' Unsubscribe ' button , but only renders one or the other depending on your setting . This leads to a gap of white space above or below the rendered button . This is a problem because any extra white space at the bottom of an article reduces the likelihood that users will scroll beyond to the recirculation links and revenue generating content below the article . Ideally only one of those buttons , either ' Subscribe ' or ' Unsubscribe ' would take up space . If a user clicks subscribes the ' Subscribe ' button could just switch to an ' Unsubscribe ' button . B ) I also see that on iOS , where web push is not supported , both buttons show up as blank white space . Ideally no space would be taken up by these buttons if the functionality is not supported . How do we reproduce the issue ? Visit this demo URL : < URL > Click subscribe You will see that the subscribe button still takes up valuable space even though it is not visible What browsers are affected ? All browsers , though part B only occurs on iOS browsers or anywhere where web push notifications are unsupported . Which AMP version is affected ? At least since version 2010302236001	1	0
2 2 1.4 2.0 0.8 0.5 0.75 1.0 1.6666666666666667 2.0 0.0 0 0.0 3 18 24 98	amp-ad data-enable-refresh does not work in Safari . Enabling ad refresh on a sticky ad works fine with Chrome on Android , however it does not work appear to with Safari and Chome on iOS . In Chrome on Android the ad slot refreshes every 30 seconds with a new ad . In Safari the ad loads once and never refreshes . Is this feature just not available on Safari on iOS yet ? How do we reproduce the issue ? This appears on all the bottom sticky ads on < URL > Visiting using Safari should reproduce this or Chrome on iOS . Chome visitors on Android see a refreshed ad slot . What browsers are affected ? Safari , iOS and Mac desktop , Chrome iOS . Which AMP version is affected ? Powered by AMP ???HTML ???Version 1522422854768	1	0
2 2 1.4 1.0 1.6 2.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 3 4 7 20	Fix a typo in doubleclick . js .  	0	0
1 1 1.2 1.0 0.9 1.0 0.95 1.0 1.3333333333333333 1.0 0.7419354838709677 62 1.0 7 9 11 45	[ Page attachments ] [ Outlink ] Extract open attachment UI to its own file . Currently page attachment logic is in : amp-story-page . < URL > and < URL > This can be extracted into its own file . @ampproject /wg-stories	1	1
1 1 1.2 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.0294117647058822 34 1.0 2 5 36 140	preconnect without defaultView . preconnect without defaultView at Error ( < URL > at apply ( < URL > at apply ( < URL > at < URL > at < URL > : go/ampe/CKq96aOviLGGPw . and : go/ampe/CK7DhJOXr4_lvwE . @choumx @jridgewell	2	0
0 0 0.6 1.0 0.9 1.0 0.85 1.0 0.3333333333333333 0.0 0.6703296703296703 91 1.0 0 4 17 57	Typo in story progress-bar method name . . Good first issue : The method : assertVaildSegmentId_ . has a typo , in < URL >	2	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 1.564102564102564 39 2.0 3 4 10 42	Implement Media Session API for video-interface . Chrome 57 is releasing the < URL > which allows customization of the media notifications . We should implement this API for any player than implements the video-interface . Few Notes : - [ x ] We should make : artwork . and : title . configurable but we can also provide reasonable defaults : ( p1 ) - [ x ] : artwork . can default to : poster . - [ x ] : title . can default to one of : title . , : aria-label . , : aria-describedby . . YouTube and other platforms might have APIs to get the : title . as well . - [ ] Lightbox 2.0 work discovers different elements ( including media ) in the page , we can implement the ( p3 ) : album . feature ( e.g. : next . , : previous . based on the same functionality ) - [ ] We can do : seek . after we add : seek . to : video-interface . ( p3 ) /cc @dvoytenko ( Thanks for sending the link ) @rudygalfi @ericlindley -g	2	1
2 2 1.6 2.0 1.3 1.0 1.25 1.0 1.6666666666666667 2.0 1.4489795918367347 98 2.0 2 7 13 81	amp-animation : support tilt as a ticker . Essentially tie the progress of an : < amp-animation > . with the tilt value on a particular axis . Before doing this , we find a few real use-cases and see if the UX that results from this handles those cases . /cc @dvoytenko	2	1
1 1 1.2 1.0 1.1 1.0 0.85 1.0 0.6666666666666666 1.0 1.4 5 1.0 4 11 18 58	Wrong post tap UI reaction in amp-story header . What's the issue ? Speaker icon pos t-t ap UI reaction is wrong . Full system header gets highlighted in gray pos t-t ap . It should show a dark circle highlight behind the speaker icon . What browsers are affected ? Mobile iOS browser only cc : @alanorozco @newmuis @choumx @prateekbh	1	0
2 2 1.4 2.0 0.9 1.0 0.95 1.0 1.3333333333333333 2.0 1.0 118 1.0 5 8 29 72	Unskip test in test-amp-context . js .	2	0
0 0 0.4 0.0 0.8 1.0 0.8 1.0 0.0 0.0 0.0 1 0.0 4 5 19 56	amp-script overzealously terminates workers . What's the issue ? If an amp-script contains actions that require a user gesture to complete , and too long of a delay occurs between user gestures , the worker is terminated . How do we reproduce the issue ? A minimal example is available at < URL > . Type a character in the input box Wait for at least 5 seconds Press tab to defocus the input Console errors report the worker has been terminated : : [ amp-script ] amp-script[script='echo-script ' ] . js was terminated due to illegal mutation . [ amp-script ] Dropped 1x ' ATTRIBUTES ' mutation(s ); user gesture is required with [ layout = container ] . [ amp-script ] Dropped 2x ' CHILD_LIST ' mutation(s ); user gesture is required with [ layout = container ] . . What browsers are affected ? Tested on Chrome 80 : : Mozilla/ 5.0 ( X11 ; Linux x86_64 ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Chrome/ 80.0.3987.122 Safari/ 537.36 . Which AMP version is affected ? 2002200031230	1	0
2 2 1.4 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 0.9583333333333334 24 1.0 0 0 3 19	404 images fail to terminate loading animation . See E.g. < URL > that has a bunch of images that 404 and continue to show the 3 dots . it should be clearly communicated to the user that something went wrong . I think just showing the default broken image is fine .  	0	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 3 6 15 84	Add AMP Vars : Click URL in AMP Analytics . In Analytics , it is common to send information on clicked links an analysis server . For example , ' The external link was clicked ' action is important . At the same time , we often see which link has transitioned . However , in the current AMP Analytics , ' URL of clicked link ' is not defined in AMP variables . Previously , we used data-vars-* attribute when it became necessary . But it is redunbant . So , I suggest creating a : CLICK_URL . AMP variables . Perhaps , it would be better to have : CLICK_HOSTNAME . , : CLICK_TEXT . , and other attributes , too . Thanks	2	1
2 2 1.2 1.0 1.3 1.0 1.3 1.0 1.6666666666666667 2.0 0.5 4 0.0 6 16 32 123	Disable Fast Fetch for all ads when remote . html is used . Fixes an issue that was causing AdSense ads to sometimes fail . Fast Fetch is inherently incompatible with remote . html , so the only workable solution when remote . html is used is to disable Fast Fetch for all ad slots . Previously only DoubleClick did this .  	0	0
2 2 1.4 1.0 1.1 1.0 1.1 1.0 1.6666666666666667 2.0 0.9428571428571428 35 1.0 7 11 17 93	` < amp-lightbox-gallery > ` zoom doesn't work on firefox . Double tap , pinch , and tap zoom don't work on FF Android / FF iOS . Animation also contains visible flicker at end . Windows : lightbox doesn't open on FF Windows .	1	0
2 2 1.8 2.0 1.6 2.0 1.5 2.0 1.6666666666666667 2.0 0.0 0 0.0 3 4 5 22	< amp-stories-widget > - tag for AMP-pages to include stories . The idea is to implement a new tag for AMP-pages to show special Stories widget among AMP-pages . Current solution for AMP-Stories are based on canonical links to pages ( page to story ) but if publisher wants to promote stories instead of waiting while Google crawler download and cache AMP-Story there is no solution for showing Stories among AMP pages . For typical pages there are a lot of custom solutions but if websites get a lot of traffic on AMP pages it should be a solution to show stories widget the same way as Facebook , Instagram and many others do - a line of stories on the top of the main ( or any other ) page . This Idea was promoted by me at the latest AMP-Stories workgroup meeting and got a positive feedback . @newmuis recommended to create an issue and I've decided to do it in a new 2020 :) Also I've created a short deck to show how it can be done : < URL > So if the idea has a chance to be realised it would be great additional promotion to use stories for publishers . I can talk to AMP UX designers to discuss all possible features and options this potential tag could have .	1	1
0 0 1.0 1.0 1.1 1.0 1.2 1.0 1.0 1.0 0.0 0 0.0 4 4 19 63	background audio attributes on amp-story not functional . What's the issue ? Background-audio , previously attached as an attribute to an amp-story-page , is no longer functional / playable . How do we reproduce the issue ? Create a boilerplate amp-story and attach a background audio file as an attribute of a amp-story-page . No sound . Nothing . This is also the case on past stories now published that were once functional . Has something changed about the way amp-story serves background audio ? What browsers are affected ? Chrome , Safari , both desktop and mobile . Which AMP version is affected ? Version 1901181700510  	0	0
1 1 1.0 1.0 0.9 1.0 0.85 1.0 1.0 1.0 0.625 160 1.0 1 2 4 33	[ amp story shopping ] Optional produc t-t ag-text for shopping tag . Description Add an optional : produc t-t ag-text . entry to the config . If it exists , use it instead of : product-price . in < URL > .  	0	1
1 1 0.8 1.0 1.0 1.0 1.05 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 2 3 21	Improve amp-carousel performance . Hoping to figure out how to improve amp-carousel performance , as reports have come in detailing some jankiness : ???Delay between tap/swipe and slide change ???Stuttering images on swipe ???Slow loading images	2	0
0 0 1.0 1.0 1.3 1.5 1.4 1.5 0.3333333333333333 0.0 0.6326530612244898 49 1.0 2 13 26 97	Video audio playing while the story is muted . . Video audio can be playing while the story is muted : Unmute the story and mute it back Navigate to a page that has a video with audio Audio is playing , even though the story is muted When blessing the media elements , : amp-story . emits : VideoServiceSignals . USER_INTERACTED . , that unmutes the video : < URL >  	0	0
0 0 0.4 0.0 0.7 1.0 0.65 1.0 0.3333333333333333 0.0 1.0 1 1.0 3 8 13 48	amp-bind console error . After the latest canary release ( 1486066183733 ) , < URL > gives the following error : chunk . js : 351 Uncaught ( in promise ) TypeCannot read property ' enqueue ' of undefined at lb ( chunk . js : 351 ) at jb ( chunk . js : 331 ) at chunk . js : 72 at Tb ( bind-impl . js : 188 ) at Rb ( bind-impl . js : 137 ) at bind-impl . js : 101 @choumx @ericlindley -g  	0	0
1 1 0.6 0.0 0.4 0.0 0.7 0.0 0.3333333333333333 0.0 0.75 8 0.5 3 5 9 58	TypeCannot call method ' isAlwaysFixed ' of undefined . TypeCannot call method ' isAlwaysFixed ' of undefined at c . Qf . b . isAlwaysFixed ( < URL > at Wg . f . measure ( < URL > at Ih ( < URL > at h ( < URL > at Sg . setState ( < URL > at ch ( < URL > at Vg . Qe ( < URL > at Vg . Kb ( < URL > at Vg . Ee ( < URL > at < URL > all seem from same user agent Mozilla/ 5.0 ( Linux ; U ; Android 4.2.2 ; en-gb ; GT-I8200N Build/JDQ39 ) AppleWebKit/ 534.30 ( KHTML , like Gecko ) Version/ 4.0 Mobile Safari/ 534.30 pointing to this line of code < URL >	2	0
2 2 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 2.0 0.9111111111111111 45 1.0 1 5 7 34	[ amp-story-player ] Programmatically change page of a story inside the player . After #29097 is merged , we should provide a way to change the page of the story as well . This can come as a : pageDelta . optional argument in the : go () . method . Related to #28416	2	0
1 1 0.4 0.0 0.6 1.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 6 18 83	Rendering issues with `amp-img`s in `amp-sidebar` toolbars . What's the issue ? : amp-img . s within : amp-sidebar . toolbars get duplicate : i-amphtml-sizer . elements How do we reproduce the issue ? I've set up < URL > , you can make this happen on your own by doing the following : Create a : amp-sidebar . element with an included : nav . toolbar that targets an element in the page Add an : amp-img . underneath that toolbar View the rendered : amp-img . You'll notice that there are two : i-amphtml-sizer . s being added , causing the : amp-img . to be double the intended height What browsers are affected ? Confirmed in : Chrome Firefox Safari Edge 16 IE 11 Chrome for Android Which AMP version is affected ? Tested on : 1521658019509 .	2	0
1 1 0.6 1.0 1.2 1.0 1.05 1.0 0.6666666666666666 1.0 0.6333333333333333 30 0.5 10 18 35 143	Support a publisher provided external link in amp-story-consent . Support a publisher provided external link in amp-story-consent .  	0	1
2 2 1.4 1.0 1.3 1.0 1.3 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 0 2 9	Create meta tag for allowing local http sites during testing only . Allowing whitelisting local http sites is very convenient for testing . We should create a meta tag that itself is invalid AMP and thus cannot be deployed to production .	2	1
2 2 1.6 2.0 1.4 1.0 1.4 1.5 2.0 2.0 1.0 5 1.0 2 3 7 58	Move overview section to top of amp-story . ?????? Missing or out-of-date umentation Describe the content that is missing or should be up dated The overview should be the first thing developers read to understand context of an AMP component . This section should come after the table . Which part of the site would that content live at ? < URL >  	1	2
1 1 0.8 1.0 1.2 1.5 1.05 1.0 1.0 1.0 1.380952380952381 21 1.0 7 15 21 66	[ Feature ] Support a ' lower-effort ' option to signing AMPHTML Ads . Having to invest in a full-blown signing service for some ad networks doesn't seem feasible . We'd like to introduce a mechanism in AMP that avoids the need for crypto . The most concrete implementation of such a mechanism would involve introducing a templating mechanism where the core template of the ad is fetch from a trusted AMP cache ( and therefore is always valid AMP ) and the data is fetched in real-time per ad .	1	1
0 0 1.4 2.0 1.0 1.0 1.2 1.0 1.0 1.0 1.2 5 1.0 1 2 8 43	toggleLoading : fix race . Fixes < URL > Interestingly enough , the existing test was just 1 line out-of-order to be able to catch this . This addressed a potential race condition between : viewportCallback . and : layoutCallback . . It is possible for layout to complete in less than 100ms , which would end up meaning that we call toggleLoading in the wrong order ( : toggleLoading(false ); toggleLoading(true ); . )  	0	0
2 2 1.2 1.0 1.0 1.0 1.15 1.0 1.0 1.0 0.0 0 0.0 1 8 23 60	issue with rendering header & nav tag ios/andriod . when below html is rendered : < header > < nav > < /nav > < /header > . it renders differently on ios/andriod On Iphone 6 : < header > < /header > < nav > < /nav > . On Andriod : < header > < nav > < /nav > < /header > .	2	0
2 2 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.160919540229885 87 1.0 6 6 35 144	Instrumenting amp-bind . Add CSI metrics for time spent executing a worker task , with and without : postMessage . overhead Create an ' all-on-main-thread ' variant of : amp-bind . for synthetic testing	2	1
2 2 1.0 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 9 12 24 115	App Install Variations . What's the issue ? As a Product Marketer , I would like to promote users to install our app , so that they become a more loyal user and take advantage of our core value proposition . Feature request is can AMP support different type of non-intrusive callouts for a user to take action . How do we reproduce the issue ? Currently AMP limits you to only running install banners on the lower 25% of the view . Ideally I would like to run email subscribe banners and install banners pinned to the top of the viewport . We currently have these banners running on our website , ActionNetwork.com . We have run several tests running and have proven that the install banner pinned to the top of the viewport performs significantly better than the lower quarter ( < URL > What browsers are affected ? All browsers Which AMP version is affected ? All AMP Versions EXAMPLES and DATA	2	1
0 0 0.8 1.0 1.1 1.0 1.2 1.0 0.6666666666666666 1.0 1.4197530864197532 81 2.0 2 8 31 128	[ Master feature ] One-line PWA . Some PWA features are technically simple , but others can be challenging to implement and maintain . This means that a great AMP & PWA site is out of reach for many developers . This feature feature would make it trivially easy to implement a good AMP & PWA combination with just one line of code . Note that this work is highly speculative/aspirational at this point ???we're not sure yet of how likely we are to achieve this goal . Requirements : SW that fetches from cache on origin SPA experience ( smooth , fast page transitions without reloading common content between pages ) Stale-while-revalidate for AMP JS Automatic prefetching of critical path Additional exploration : - Add-to-homescreen ( if sufficiently robust experience ) Goal for 2018 Q3 is to further define requirements and technical approach Edit : Goal for 2018 Q4 is an MVP version of the service-worker  	0	1
1 1 1.0 1.0 1.3 1.0 1.2 1.0 0.6666666666666666 1.0 1.3708609271523178 151 1.0 0 7 33 117	amp-carousel : Support RTL .	1	0
0 0 1.4 2.0 1.4 1.5 1.2 1.0 1.3333333333333333 2.0 1.3333333333333333 3 2.0 4 7 17 108	amp-list to use/consume Link Header's ? . Hi , With the implementation of a ' Show More ' button on amp-list , I had to make a few changes to the output of my JSON to include ' hasMorePages ' including keeping count of page number I'm on/requesting etc . I was wondering if it would be possible/considered ( I'm not 100% sure security-wise ) , that instead of having to make changes to my JSON output , if the header of the response could contain that information instead ? I'm specifically referring to ( < URL > : Pagination-Count : 100 Pagination-Page : 5 Pagination-Limit : 20 . When AMP consumes this , it can then add it's own paging elements to the output that could be accessed in the template of amp-list . This should give developers the flexibility to implement paging ( not just ' Show More ' ) and if they already follow that standard , pretty much out of the box . What do you guys think ? Crap idea ? Cheers	2	1
1 1 1.0 1.0 1.0 1.0 0.9 1.0 1.0 1.0 0.0 0 0.0 4 7 32 126	Native AMP & Auto Adsense do not work on desktop version . I use AMP by Wordpress to natively display AMP pages . ' Native - Reuses active theme's templates to display AMP responses but does not use separate URLs for AMP . Your canonical URLs are AMP . AMP-specific blocks are available for inserting into content . Any AMP validation errors are automatically sanitized . ' I use auto AMP Adsense ads . I also have the normal auto Adsense ads script in my header just in case . ( I have placed and remove this code with no effect , while always keeping the Auto AMP for Adsense code in the appropriate place ) . I see ads on my mobile version . However , I do not see ads on my desktop version . However , if I turn on Adblock in my broswer ( tested on Firefox and Chrome ) on I see Adblock blocking ads on my desktop version , however , on or off never displaying ads except on my mobile device . The WP AMP plugin creator thinks it is not a plugin issue but an amproject or even adsense issue .	1	0
2 2 1.2 1.0 0.9 1.0 1.1 1.0 1.3333333333333333 2.0 0.9545454545454546 22 1.0 11 15 23 79	Keep versions of AMP build tools and dev dependencies up to date . In addition , set up an automated means of periodically rolling forward the versions in : package . json . and : yarn . lock . /cc @cramforce	1	0
1 1 1.4 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 1.4444444444444444 63 2.0 1 1 8 98	Docking UX for video players . Task breakdown for < URL > [ x ] If video is playing , scrolling down the page minimizes the video to the corner . [ x ] When scrolling back to top , video is maximized again . [ x ] When video is minimized , swiping to the right dismisses the video ( e.g. pause and moves it back to the top ) . [ x ] Minimized video should be ' movable ' by the user . Format for docking videos Available only on video players that implement the video-interface . : dock =( when-playing|never ) . Defaults to : when-playing . ( this makes this an opt-out ! ) Possibly to support : when-playing-or-autoplaying . later . We are not sure if we want to support this for auto playing videos . Value will be ignored in A4A format UX for docking videos Videos that are played by the user are minimized and docked to the top corner when about to go out of viewport as user scrolls . Player's builtin controls get hidden Swipe to the left dismisses the video ( i.e. pause and dock back to original place ) Tap expands the video to full width but ( still docked to the top ) and enables the player's builtin controls so user can take actions such as volume change , fullscreen , etc . Playing another video will dismiss the existing docked video .	2	1
0 0 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 0.0 0 0.0 0 1 11 71	Retire layoutJank tick event reporting . We introduced support for viewers to read a new tick event : lj . ( layout jank ) in #21060 . Layout jank will be retired in Chrome 76 , being replaced by the cumulative layout shift metric , see #23154 . We can retire the layoutJank tick event , I would suggest a month or so after Chrome 76 .	2	1
2 2 1.4 1.0 1.4 1.5 1.3 1.0 1.3333333333333333 1.0 0.0 0 0.0 3 3 17 65	amp-ad type custom didn't work with amp-sticky-ad . What's the issue ? : < amp-ad width = 320 height = 50 type='custom ' data-url='<URL>'> < template type='amp-mustache ' id='amp-template-id'> < amp-img src='{{src}}'width=320 height = 50 ></ amp-img > < /template > < /amp-ad > . this code show the image but when I'm covering with : amp-sticky-ad . the image didn't show : < amp-sticky-ad layout='nodisplay'> < amp-ad width = 320 height = 50 type='custom ' data-url='<URL>'> < template type='amp-mustache ' id='amp-template-id'> < amp-img src='{{src }}' width = 320 height = 50 ></ amp-img > < /template > < /amp-ad > < /amp-sticky-ad > . What browsers are affected ? I try using Chrome Version 55.0.2883.75 ( 64-bit ) Which AMP version is affected ? 1496670637476	2	0
1 1 1.0 1.0 1.2 1.0 1.1 1.0 1.0 1.0 1.35 20 1.0 7 14 21 65	[ Master Feature ] Enable support for ad serving to AMP canonical pages . Sites that are entirely build in AMP need additional features to support direct sold advertising . The following features are dependencies to accomplish AMP canonical . [ Video Companion Ads and Brightcove video player ] #10470 [ Expose if ad is being served to an AMP page ] #11741 Support Single Request Architecture ( SRA ) and support SRA with RTC	2	1
1 1 1.2 1.0 1.2 1.0 1.1 1.0 1.6666666666666667 2.0 1.3396226415094339 159 1.0 5 6 34 123	amp-story - Hint UI is broken . When using current 7/26 Canary ( 1532641868525 ) , the Next/Previous hint UI that shows up on swipe does not show up anymore . Setting to P0 since it is a regression in Canary , adjust priority as needed .  	0	0
0 0 1.2 1.0 1.0 1.0 0.9 1.0 1.3333333333333333 2.0 0.975609756097561 41 1.0 4 9 16 93	Fix flaky test `should layout amp-img , amp-pixel , amp-analytics` . Disabled in #21538 /cc @zombifier	1	0
1 1 0.6 1.0 0.6 1.0 0.45 0.0 0.6666666666666666 1.0 1.0847457627118644 59 1.0 13 18 31 124	Cannot click amp-story audio control in desktop UI .  	0	0
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.3333333333333333 1.0 1.1323529411764706 68 1.0 3 8 17 84	Inabox documentExit ping not sent out . Investigation still on going . But we found that inabox ad end of session ping at documentExit doesn't get sent out after the change in #22812 . Here's one example config : ' endOfSession ' : { ' on ' : ' visible ' , ' request ' : ' eos ' , ' visibilitySpec ' : { ' reportWhen ' : ' documentExit ' , ' selector ' : ' : root ' , ' visiblePercentageMin ' : 50 } } .	1	0
1 1 1.4 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 1.04 25 1.0 0 2 17 75	amp-lightbox-gallery : element disappears at beginning of transition . See triggered in auto lightbox here : < URL > Result of #20754 . /cc @cathyxz @aghassemi [ improved ] 	0	0
1 1 0.8 1.0 0.6 0.5 0.85 1.0 1.3333333333333333 1.0 0.782051282051282 78 1.0 3 4 12 37	[ Page attachments ] [ inline ] Background contrast protection for text . Add themed contrast protection for inline CTAs with text . To match Mocks : @ampproject /wg-stories	1	1
2 2 1.0 1.0 1.2 1.0 0.9 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 13 20 92	AMP cache delivering ads with SafeFrame , origin does not . AMP cache ads not rendering . We having issues with ad network delivering of ads on AMP pages . To give context , here is how our ads are configured . Our ads are delivered via DFP . We have seen issues with more than one ad network , one of which delivers their ads via their own DFP implementation and others that deliver from their own systems . The creatives in DFP are NOT set to use a SafeFrame . We have : ' useSameDomainRenderingUntilDeprecated ' : 1 . JSON attribute set on all of our AMP ad units as well . I have been debugging the pages and have found the following . 1 ) When ads are rendered on the origin URL , the ads render just fine and are not rendered in a SafeFrame . 2 ) When ads are rendered from the AMP CDN cache ( like the google search results carousel ) , the exact same ads are injected with a SafeFrame that isn't present on the origin . When delivered in a SafeFrame , the ads throw a number of JS errors and do not render . Troubleshooting this is difficult . Why are SafeFrames being delivered when the page is delivered from the AMP cache ? Why doesn't AMP respect the DFP settings to not deliver in a SafeFrame ?	2	0
2 2 1.6 2.0 1.2 1.0 1.1 1.0 1.6666666666666667 2.0 1.3 10 1.5 1 6 23 127	a . getRootNode is not a function . a . getRootNode is not a function at isTrustedViewer ( < URL > at satisfiesTrust ( < URL > at getAmpDoc ( < URL > [ improved ] 	0	0
0 0 1.0 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 0.0 0.0 0 0.0 1 6 18 57	amp-video-docking + preroll issue . amp-video-docking extension uses AD_START event to update controls , however it fails to do so on prerolls : Clicking play starts video play , preroll is started and AD_START is dispatched . User scrolls and player gets into the dock mode -- video-docking extension sets listeners at this time . Because AD_START was dispatched before , controls won't be updated . Basically , dock extension won't update controls on ad started before player entered the dock mode at least once .	1	0
2 2 1.0 1.0 0.9 1.0 0.7 0.5 1.3333333333333333 2.0 1.3758389261744965 149 1.0 6 12 29 141	`assertHTTPS` error message is confusing when Url is relative .  	1	2
0 0 0.0 0.0 0.8 0.5 1.05 1.0 0.0 0.0 1.0 8 1.0 5 6 20 71	Source maps are inaccurate . Seem to work fine when testing with karma , but do not work when running the local dev server . The command I use is : gulp .	1	0
2 2 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 1.1302083333333333 192 1.0 3 5 6 34	Allow amp-date-display in stories . The : amp-date-display . component renders date information in various date formats and in different locales . We should audit whether this can be allowed in stories . The only concern would be just to ensure that it cannot be misused to circumvent restrictions around linking , etc .	1	1
0 0 0.8 1.0 0.7 1.0 0.85 1.0 1.0 1.0 0.0 0 0.0 8 38 45 137	amp-auto-ads only displaying a portion of ads . What's the issue ? amp-auto-ads are displaying only a small portion of the ad for some reason on desktop How do we reproduce the issue ? Visit < URL > on a desktop browser View the ads ( scrolling up and down ) < URL > What browsers are affected ? I'm viewing this on Chrome OS Version 69.0.3497.73 ( Official Build ) beta ( 32-bit ) but I have noticed this being an issue in earlier builds which are now in stable . Which AMP version is affected ? Version 1535566825959	1	0
2 2 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 0.6226415094339622 53 1.0 4 12 15 86	AMP Story CSS animations very janky in iGSA . Open any AMP Story in iGSA ( ie : the Lebron James Google Stories story ) Notice how the progress bar is flickering on the pages that have a : auto-advance . mode Notice how the bookend opening animation is not as smooth as in a regular browser What browsers are affected ? iGSA	1	0
0 0 1.2 2.0 1.0 1.0 1.1 1.0 0.6666666666666666 0.0 0.375 8 0.0 3 11 20 111	WhatsApp sharing does not work . Some publishers use a WhatsApp sharing option , that does not seem to work in some cases ( Android ? When the app isn't installed ? ) . See : www.cnn.com/ampstories/health/yes-sitting-too-long-can-kill-you-even-if-you-exercise Sample code : : < amp-social-share width='48 ' height='66 ' class='i-amphtml-story-share-icon i-amphtml-element i-amphtml-layout-fixed i-amphtml-layout-size-defined amp-social-share-whatsapp i-amphtml-layout ' type='whatsapp ' data-param-text='CNN: Yes , sitting too long can kill you , even if you exercise - < URL>' style='width: 48px ; height : 66px;' role='button ' tabindex='0'>WhatsApp</amp-social-share> . Generates : : whatsapp :/ /send ? text = CNN%3A%20Yes%2C%20sitting%20too%20long%20can%20kill%20you%2C%20even%20if%20you%20exercise%20-%20https%3A%2F% 2Fwww.cnn.com%2Fampstories%2Fhealth%2Fyes-sitting-too-long-can-kill-you-even-if-you-exercise . Repros on : MacOS Chrome , Android Chrome ( Pixel 2 ) , feel free to add more .	1	0
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.6666666666666667 2.0 1.5862068965517242 29 2.0 1 3 13 36	jw-player , `pause` toggles the playing state instead of always pausing . . Apparently calling : pause . on JWPlayer will TOGGLE the playing state , not necessarily pause it ( unless explicitly requested ) according to < URL > We need to change : pauseCallback . in : amp-jwplayer . to pass the explicit : don't toggle , really pause . flag .  	0	0
0 0 1.4 2.0 1.4 1.5 1.25 1.5 1.0 1.0 1.2 30 1.0 6 12 21 71	Forbid creating non-AMP ' amp-*' elements . Examples include : < URL > < URL > These should be : i-amphtml-* . , the : amp- . tag prefix is reserved for AMP elements only . Anything else should use public classnames , if they are style-able by publishers .	1	0
2 2 0.8 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.0945945945945945 74 1.0 3 14 24 84	Add umentation for < amp-story-cta-layer > . This feature will be available for use soon ; we should write some umentation in amp-story.md on how to use it ( similar to the < URL > ) .    	0	2
0 0 0.6 0.0 0.7 0.5 0.9 1.0 0.3333333333333333 0.0 1.0 47 1.0 3 6 11 60	amp-subscriptions behavior is undefined if isAccesibleForFree is true . . amp-subscriptions behavior is undefined if isAccesibleForFree is true . If the : isAccessibleForFree . config flag is : true . swg . js bails at start - nothing to do . However : amp-subscriptions . doesn't check that flag so it will fail in an unspecified way with no entitlement . Expected behavior - if it's free then generate an internal fallback entitlement so that content is always rendered .	1	0
2 2 1.2 2.0 1.3 2.0 1.2 1.0 1.3333333333333333 2.0 2.0 1 2.0 0 3 4 17	AMP Start : Create AMP boilerplate CSS for default styling . Pending UX as of 4/8 /cc @sriramkrish85 [  ] 	0	1
2 2 1.0 1.0 0.8 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 1 2 3 23	Create amp-vevo player . The amp-iframe tag is not rendering Vevo content . Here is some output of the tag with vevo content : < URL >	2	1
0 0 1.4 2.0 1.3 1.0 1.4 1.0 1.0 1.0 1.2 10 2.0 5 6 17 81	Developer umentation for describes . js and related files . : describes . seems to be the current best practice for writing tests , but there's almost no API umentation , so I have a hard time determining what exactly the various APIs do and which ones I should use when .  	1	2
1 1 1.2 1.0 1.1 1.0 0.95 1.0 1.6666666666666667 2.0 1.0 2 1.0 4 14 26 87	amp-carousel issue with ' slide ' binding . What's the issue ? binding not triggering slide change when the binding value for [ slide ] is 0 . How do we reproduce the issue ? < URL > In the example above , note that when you click the ' prev ' button trying to go back from slide 1 to slide 0 , the amp-carousel slide does not change . What browsers are affected ? All browsers Which AMP version is affected ? 1911121900560 Worked in amp-carousel- 0.1 , broken in amp-carousel- 0.2 I think the change from < URL > to < URL > causes the issue .	1	0
2 2 1.0 1.0 1.1 1.0 1.15 1.0 0.6666666666666666 0.0 1.2352941176470589 17 1.0 10 18 31 136	SubtleCrypto failed , fallback to closure lib . @jridgewell can you look at this one ? We have a lot of occurrences in production SubtleCrypto failed , fallback to closure lib . : The requested operation is unsupported at ( subtlecrypto-failed-fallback-to-closure-lib-the-requested-operation-is-unsupported . js : 1 ) < URL >	1	0
1 1 1.0 1.0 1.2 1.0 1.1 1.0 1.0 1.0 0.0 0 0.0 0 6 18 57	amp-script : Sharing JS across multiple elements e.g. frameworks . As i understood right now if we have multiple amp-script depended components and they are all ' preact ' javascript components for example we would need to load ' preact ' library in bundle multiple times ? Is there any possibility to share same dependency for multiple amp-script components ?  	2	2
2 2 1.2 1.0 1.2 1.5 1.25 1.0 1.0 1.0 1.0 8 1.0 0 1 5 27	Fix test in test-amp-ad-xorigin-iframe-handler . summary While addressing < URL > an unrelated test failure became blocking . The failure was pre-existing within master , so I opted to : skip . it . This issue is for attempting to debug the issue and figure out why the test is  / fix it . Test : : should be able to use user-error API . within extensions/amp-ad/ 0.1 /test/test-amp-ad-xorigin-iframe-handler . js .	2	0
0 0 1.0 1.0 0.8 1.0 1.0 1.0 1.0 1.0 0.8888888888888888 18 1.0 0 2 5 29	[ Story a11y ] Reduced motion breaks layouts with animate-in . Description When a story is viewed with a : prefer-reduced-motion . device , the : amp-story-animation . animations are not triggered . In many cases , these animations are used to introduce elements into the view . Since the animations don't run , the animated elements don't show up on the story at all . Eg : : < amp-story-animation trigger='visibility'> [{ ' selector ' : ' . anim ' , ' keyframes ' : { ' transform ' : [' translate3d(-100% , 0px , 0 )' , ' translate3d(0px , 0px , 0 )'] }}] < amp-story-animation > ... < div class='anim ' style='transform: translate3d(-100% , 0px 0)'>Animated element < /div > . Reproduction Steps Activate reduced motion in your OS Go to < URL > Animations will not play , but the animated elements are not in the page . What should happen : Animations don't play , but animated elements should show in their final state . Browser(s ) Affected All AMP Version Affected latest  	0	0
1 1 0.6 0.0 1.0 1.0 0.85 1.0 0.3333333333333333 0.0 1.12 25 1.0 5 19 29 62	But : sometimes AMP element is missing implementation in the connected callback . : TypeCannot set property ' layout_' of undefined at c . Ef . b . connectedCallback ( v0 . js : 159 ) at r ( < URL > at c ( < URL > at HTMLDocument . he ( < URL > at z . y ( v0 . js : 21 ) at zf ( < URL > at yf ( < URL > at fj ( < URL > at ( < URL > at hd ( < URL > . Possibly here : < URL >	2	0
2 2 1.8 2.0 1.7 2.0 1.75 2.0 1.6666666666666667 2.0 1.0816326530612246 49 1.0 3 7 31 101	Use listenOnce in amp-story . We have many places in : amp-story . code that add an event listener but do not remove it . For this , we can refactor to use < URL > .	2	0
1 1 0.8 1.0 0.8 1.0 0.8 1.0 0.6666666666666666 1.0 1.5 6 1.5 1 2 6 69	Explore ad transition from ad placeholder to the ad . The ad appears in a flash once the ad has loaded in the iframe . Explore a better , smoother transition . Especially for AMP ads .	2	1
0 0 1.0 1.0 0.9 1.0 1.05 1.0 0.3333333333333333 0.0 0.6118143459915611 237 1.0 0 5 7 34	[ Story auto analytics ] Enable the AMP Linker by default . We should enable the AMP Linker by default . As per < URL > all we need is to add this snippet to < URL > . : { ' linkers ' : { ' enabled ' : true } } . cc @ampproject /wg-stories  	0	1
1 1 1.2 1.0 1.4 1.0 1.3 1.0 1.0 1.0 0.8928571428571429 28 1.0 3 5 32 121	Unflake regression test for amp-image-lightbox activation . The Bug A test was written in #13458 for the bug fixed by #13440 , but it's flaky ( sadness ) . So what we'd like to do is figure out what environments they are flaky for on SauceLabs and understand whether these are legit failures ( in which case we need to fix something ) or just flakes ( in which case we should skip those environments ) . What you need to know SauceLabs Javascript testing A little bit about : < amp-image-lightbox > . , : iframe . js . , : describes . js . , and : _ini t_t ests . js . . You can find instructions for setting up Saucelabs < URL > . Basically what you want to do is run this test via : gulp test -- saucelabs -- files = extensions/amp-image-lightbox/ 0.1 /test/integration/test-amp-image-lightbox . js . after setting up SauceLabs , check to see which tests fail and why . If tests are timing out , consider increasing the timeout length . If tests are just flaking ( sometimes they pass and sometimes they fail ) , skip the test via the : skipSafari () . , : skipEdge () . etc . functions that you find in : _ini t_t ests . js . . If the tests are  for a legit reason , feel free to comment here below so we can investigate . =) Feel free to take a look at #13440 , src/service/action-impl . js , as well as the documentation for < URL > to understand the history of this bug . The writeup for this issue is in progress , but feel free to ping @cathyxz on slack in the meantime if you'd like to take it on .	1	0
0 0 0.6 0.0 0.7 0.5 0.65 0.0 0.3333333333333333 0.0 1.0 43 1.0 4 20 50 123	failed to execute a task :: timeout . This is a high frequency error from the most recent canary 1528247370025 with 8k occurrences . Stacktrace : : timeout at Error ( < URL > at apply ( < URL > at height ( < URL > at ( < URL > . Sample Metadata Referrer < URL > User agent Mozilla/ 5.0 ( Linux ; Android 5.1.1 ; SM-G925T Build/LMY47X ) AppleWebKit/ 537.36 ( KHTML , like Gecko ) Chrome/ 66.0.3359.158 Mobile Safari/ 537.36	2	0
1 1 1.0 1.0 1.0 1.0 0.9 1.0 1.0 1.0 0.7103448275862069 145 1.0 2 4 16 68	White flash when switching Story from non visible visibilitystate to visible . When switching a Story from a non visible visibilitystate ( ie : : prerender . or : paused . or : hidden . ) to : visible . , the Story can have a white flash . Not sure if this happens only when there's a video on the first page or not . More info : b/156128288 cc @ampproject /wg-stories  	0	0
1 1 1.2 1.0 1.1 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 1 1 1 1	amp-img/amp-anim : provide warnings for overly large image dimensions . E.g. 10000px-wide image is too large for most of devices .	2	1
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.3333333333333333 1.0 0.4166666666666667 12 0.0 0 3 8 21	Support for : click something , send data , get response , update page . I'm hoping this isn't too generically described , though it might be . Basically we need a way to have some element , which , upon click by the user , will be able to make a request to a server , get back some data , and modify the page in some way : - Click a button that says ( for now , ignoring the account login pieces required here ) ' Add to cart ' , ' Add to wishlist ' , ' Read later ' , ' Like ' and the button is updated to reflect the outcome of the operation ( e.g. was added to cart successfully/unsuccessfully , etc . ) . Note that the UI element basically stays the same , but may be styled differently or be populated with some different text . - Click on something ( text , div ) and some more content comes in , provided by the server . For instance , this could be used to populate the content piece of an amp-accordion after the user has clicked on its header . Note that this is not simply saying unhide a div that was already on the page since we need to go to the server to get the additional content . Implementation-wise , this seems to require some mix of AMP Bind and the additional server communication introduced by the amp-list feature . cc @ericlindley -g @dvoytenko ( Apologies if there are other issues that track this behavior . Please link and dupe this if so . )  	0	1
1 1 1.4 2.0 1.2 1.5 1.3 1.0 1.0 1.0 0.6032388663967612 247 1.0 0 1 1 7	[ Story ] Send storyContentLoaded event during prerendering . Description Stories send a viewer message : storyContentLoaded . for our definition of ' initial content is loaded and playback is ready ' . It is only sent when the : visibilitystate . is : visible . and never when : prerender . , which we do need now . The event is blocked by : storyLayoutPromise . here : < URL > We do need to run this code after : this . initializePages_() . , but no need to block on : this . getAmpDoc () . whenFirstVisible () . , cf : < URL > cc @ampproject /wg-stories Alternatives Considered - Additional Context No response  	0	1
1 1 1.0 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 1.0 0.0 0 0.0 3 5 17 105	amp-facebook only plays video's audio . What's the issue ? I'm using amp-facebook for videos and it works great when I access my pages from Chrome on my desktop machine . The problem is that , when accessing the page with Chrome on several Android phones , the video's previews shows up like expected but , when I hit play , it turns into a black screen with a broken file icon and only plays the audio . You can see it on < URL > . I also found that < URL > . So , I'm pretty sure that this is not a problem with my code . How do we reproduce the issue ? I have no idea since I triple checked the docs and my code . What browsers are affected ? I have only tested it on Chrome for desktop and Android phones . On other browsers , when hitting the play button , the page submits and the video opens on a new window . Which AMP version is affected ? < URL > < URL >	1	0
0 0 0.8 1.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 2.0 1 2.0 1 8 27 125	Amp-carousel type='carousel ' - clicking navigation arrows fast enough , can shift slides . . What's the issue ? If you have an amp-carousel with the carousel type , and you are using it on a wide display to get more than a single image on the screen at a time , clicking the navigational arrows can shift the perspective so that on the sides you will see only half of an image rather than shifting from image to image as normal . How do we reproduce the issue ? head to < URL > and scroll all the way to the bottom and you will see the amp-carousel . double click the navigational arrow to the right , this might take a few tries . ive captured this screenshot of the issue . < URL > What browsers are affected ? i was able to reproduce this on desktop for the following browsers : - Chrome - Firefox - Internet Explorer Which AMP version is affected ? this was tested in AMP version 1531800879103	2	0
1 1 1.2 1.0 1.3 1.0 1.45 1.5 1.3333333333333333 1.0 1.105263157894737 38 1.0 2 13 24 118	Create example of amp-selector[keyboard-select-mode ] options . There are non-obvious differences between the three options : ' none ' . , : ' focus ' . and : ' select ' . values , but there are no examples in : amphtml/examples . or ABE where we compare them side-by-side . Creating these examples would help ument authors understand how best to use : amp-selector .  	1	2
1 1 1.0 1.0 1.0 1.0 1.15 1.0 0.6666666666666666 1.0 0.0 0 0.0 11 19 26 108	Cleanup amp-image-slider loading issue . Currently , there is no code that handles loading for : amp-image-slider . . By default , the slider should construct its structure and load the images normally , which shows the placeholder and the loading 3 dots of : amp-img . . This is actually one of the proposal : Proposal A : leave as is . ( LEFT is the placeholder for left image . The following are under ' Fast 3G ' so should be much faster on actual devices ) However , due to ownership related issues , the 3 dots would only show when : layer . experiment is enabled . Otherwise , the loading process of images is never displayed . Another proposal ( Proposal B ) to the loading state is to whitelist the slider itself for loading and display 3 dots of the slider , which would mask on top of the loading images until : LOAD_END . is signaled . This is attempted in #17420  	0	1
2 2 1.4 2.0 1.2 1.0 1.35 1.0 2.0 2.0 1.4545454545454546 11 1.0 2 12 32 89	AMP Dashboard / app-index : Dynamically resize the height of the file list . relates to #19676 This requires the change to : amp-list . to get to PROD for dynamically resizable lists on user action .	2	1
0 0 0.8 1.0 0.8 1.0 0.75 1.0 0.6666666666666666 1.0 1.2666666666666666 15 1.0 0 1 4 32	switch dismissal href from json to url encoding for amp-user-notification . will add further info .. still investigating cc @ericlindley -g	2	1
1 1 0.4 0.0 0.8 1.0 1.15 1.0 0.3333333333333333 0.0 1.125 8 1.0 8 8 24 80	AdSense/Doubleclick Fast Fetch : top parameter should only include domain . Modify top parameter generation to only include domain ( should not include protocol ) . So < URL > -> www.google.com cc/ @ampproject /a4a	1	0
2 2 0.8 1.0 0.9 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 2 5 9 49	Support blob URLs in < amp-video > . What's the issue ? I develop CMS with AMP support , it has a feature of amp story preview before publishing it to the server . User selects local video and it's converted to object url using : URL . createObjectURL () . to be able to preview the result before uploading video to the server . The resulting url is in the following format : : blob : < URL > . . Then the object url is used as a source of : amp-video . which works but throws errors in console : : Uncaught amp-video source must start with ' https://' or ' //' or be relative and served from either https or from localhost . Invalid value : blob : < URL > ???????????????. . The same error if object url is used for amp-video . poster . What browsers are affected ? All browsers Which AMP version is affected ? 2004030010070	2	1
1 1 0.4 0.0 0.6 0.5 0.55 0.0 0.3333333333333333 0.0 0.7441860465116279 43 1.0 1 9 16 24	??????[story-ads ] GDA ads have unwanted 1px border . Description Note the while border around the actual ad content We still to determine if this is a problem with story ads rendering not giving the right size , or css inside the creative . Reproduction Steps You can find this ad type at < URL > Relevant Logs No response Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response  	0	0
1 1 1.0 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 0.7062937062937062 143 1.0 4 5 15 65	Story Player should set parent origin if current window origin is null . Story Player fails to set up the communication with its Story when in a : < iframe srcdoc='<playerhtml>'> . context . The : location . href . that the player gets in this context is : about : srcdoc . , and sets the : #origin = ... . parameter to an invalid : about : srcdoc . value . If we detect that the : window . location . origin . is : null . , we should fallback to something else . Maybe : window . parent . location . origin . ? I don't know if that would work . Setting : #origin = * . works but might not be the best fix . Repro case ( replacing : SOME_STORY_URL . with an actual Story URL ): : < iframe srcdoc='<html> < head > < script async ="" src ="../../../ dist/amp-story-player . js " ></ script > < link href ="< URL > rel = " stylesheet " type = " text/css " ></ head > < body > < amp-story-player > < a href = " SOME_STORY_URL " > Story title < /a > < /amp-story-player></body></html>'> < /iframe > . cc @ampproject /wg-stories @Enriqe  	0	0
2 2 1.4 2.0 1.2 1.0 1.2 1.0 1.3333333333333333 2.0 0.0 0 0.0 4 13 17 96	amp-carousel padding bug on windows chrome . This issue < URL > has been closed but it is not fixed . You can still see it on < URL > The workaround to use overflow hidden on the container isn't a good solution as it breaks the swipe functionality . ( you can't even override it actually because the container is set with an overflow-x : auto ! important )	2	0
0 0 1.2 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.2682926829268293 41 1.0 5 5 20 108	[ Master Feature ] Establish an API to let ad trigger specific functionality on the AMP page . There are some use cases when the publisher configuration in the ad must allow the external AMP components to behave differently . Some specific examples are : 1 . Ability to only selectively refresh an ad by looking for the presence of the ad being a sponsorship vs not . ( Most publishers don't want to refresh if the ad is a sponsorship based ad but want to refresh otherwise ) 2 . Ability to pass additional data from the ad so that the : < amp-next-page > . component can use it request a certain page dynamically 3 . Ability to append URL params to the destination URL on ad click by simply updating the JS inside of the creative with a new parameter ( e.g. ? dfp-keyword = mwb-test )	2	1
2 2 1.2 1.0 1.2 1.0 1.35 1.0 1.3333333333333333 1.0 1.0 29 1.0 5 6 21 84	Measure and investigate possible performance improvement in amp-selector . Related to < URL > It looks like amp-selector performs more mutations than necessary to add and remove hidden inputs in the DOM . We should measure if the performance is poor and how much it can be improved .  	2	2
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.0 1.0 2.0 3 2.0 1 1 5 28	[ Punch List ] - Lightbox 2.0 . This is a tracker issue for related work planned for lightbox enhancements in AMP . - [ x ] Define a JavaScript interface for : lightboxable . . Any AMP or DOM element implementing this interface will become lightboxable and a candidate for discovery for auto-lightboxing . This contact defines exactly what properties and functionality elements need to provide to be lightboxable . ( e.g. thumbnail , description , etc .. ) - [ x ] Generic lightbox functionality for any element . ( similar to toFullScreen API ) - [ x ] Swipe navigation < URL > - [ x ] Custom lightbox for images with zoom and pan < URL > - [ ] Custom lightbox for video players with autoplay - [ x ] Experimental launch with two flags - [ x ] Focused view - [ x ] Detailed view #5151 - [ x ] Grid view - [ x ] Lightboxable discovery service and grouping ( automatically discover Lightboxable elements and groups them into one ore multiple lightbox albums ) - [ ] Documentation & DevRel work	1	1
2 2 1.6 2.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.9090909090909091 55 1.0 7 13 16 48	[ amp-story-player ] Documentation : Entry point samples ( non-components ) . Samples implementing own entry points ( not our entry-point components ) w/ player APIs ( in examples/ folder ) These should include : * Single embed in article * Lightbox ( Additional : closing it when out of stories ) @ampproject /wg-stories  	0	1
1 1 0.8 1.0 1.0 1.0 1.0 1.0 0.6666666666666666 1.0 1.0943396226415094 53 1.0 0 0 6 71	amp-analytics visibility triggers throws error . ' null is not an object ( evaluating ' a . Z . fire ' )' from < URL > Looking at : visibility-model . js . , very likely the : onTriggerObservable_ . fire () . gets called in one of the : eventPromise_ . resolution block after setting : onTriggerObservable_ = null . in the : dispose () . function . /cc @jonkeller @zhouyx @keithwrightbos It seems to be related to the previously reported bug #12304 , which was not completely fixed .  	0	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.6666666666666667 3 2.0 5 26 39 96	amp-story page scaling should use `zoom` on iOS .	2	0
1 1 0.4 0.0 0.4 0.0 0.9 1.0 0.3333333333333333 0.0 1.0526315789473684 19 1.0 0 2 10 30	Cleanup form proxy rewrite .	2	0
2 2 1.6 2.0 1.5 1.5 1.4 1.5 1.6666666666666667 2.0 1.1851851851851851 27 1.0 2 14 17 53	implement sourcemap generation in the errorreporting code . Right now we have to debug minified + obfuscated code , lets use our hosted sourcemaps to get back the unminified non obfuscated stack [  ] 	0	1
1 1 1.0 1.0 0.7 1.0 0.7 1.0 0.6666666666666666 1.0 1.1428571428571428 7 1.0 1 9 18 81	pushHistory , popHistory errors in prod . Our production error reporting reveals errors with pushHistory & popHistory	1	0
2 2 1.0 1.0 1.0 1.0 0.85 1.0 1.0 1.0 1.1428571428571428 21 1.0 13 17 24 81	Allow branching between different pages . Currently , all stories are navigated linearly ( start on the first page , continue to the end through the same path ) . We wish to expand this behavior by adding branching , wherein any : amp-story-page . can link to any other : amp-story-page . . We can do this as follows : [ x ] Implement an AMP action : goToStoryPage(id ) . that can be used to jump to another page [ x ] Keep a stack of visited pages and modify the ' previous ' behavior to pop the last page from the stack , rather than using the previous page in DOM order [ x ] Introduce an attribute that specifies the next page to go to when the user manually advances to the next page [ x ] Introduce an attribute that specifies the next page to go to when the system automatically advances ( via the : auto-advance-after . attribute )	2	0
0 0 0.4 0.0 0.4 0.0 0.75 0.0 0.3333333333333333 0.0 1.3148148148148149 162 1.0 9 17 24 106	scrollTo () does not work while page is scrolling . If : scrollTo () . is called while page is scrolling ( e.g. continuation of a momentum scroll ) , it does nothing . Not a big deal but somewhat annoying . related : #16860	2	0
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.6666666666666667 2.0 1.0 8 1.0 4 11 17 88	[ Story 360 ] Scale down image if too large for device GPU . If the image is too large for the GPU to safely create a texture out of , an error is thrown : Max texture size can be be determined by calling : gl . getParameter(gl . MAX_TEXTURE_SIZE ) . This feature aims to give the best experience and support spanning low-end or old devices to the newest and most powerful . cc @ampproject /wg-stories [ disabled ] 	0	1
1 1 0.8 1.0 1.1 1.0 0.9 1.0 0.6666666666666666 1.0 0.6234567901234568 162 1.0 0 1 4 23	?????? [ amp story shopping ] Prevent shopping tag dot and image from shrinking . Prevents tag dot and image from shrinking when there is text . In the tag . Related to #37112 Text formatting will be added in #37039  	0	1
1 1 1.4 2.0 1.1 1.0 1.3 1.0 1.0 1.0 1.0714285714285714 14 1.0 4 10 25 102	Reduce the number of CSI flush () . At this moment , we flush CSI pings 4 times for every page view : make-body-visible on-page-load prerender-complete ( when viewport layout complete ) on-first-visible ( When displayed in Viewer ) It takes resources for unnecessary network requests . Ideally , we should just batch them into one single request . Logically , : prerender-complete . is guaranteed to be after : on-page-load . and : make-body-visible . , we can only : flush . once after that . And I'm not sure if : on-first-visible . is useful in anyway . To me , this is just timing the user behavior , not really our page load latency . I suggest we just remove . @cramforce @erwinmombay @dvoytenko thoughts ?	2	1
2 2 1.4 1.0 1.2 1.0 0.85 1.0 1.3333333333333333 1.0 0.0 0 0.0 4 9 29 94	Write  regarding amp-story bookend v 1.0 .  	2	2
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 0.9166666666666666 48 1.0 2 9 11 69	Make sure bundle size checks are run for all push builds . I've seen the odd instance where a Travis push build fails the first stage , and causes problems for all subsequent PRs based on that SHA . In this example , a PR appears unrelated to validator , so we skipped validator checks during the PR build . It then failed the validator checks during the push build . See < URL > This caused a ' couldn't find the size of the baseline ' failure in the bundle size PR check for all PRs based on the first PR . We can do two things here : 1 . It costs nothing extra to run validator checks for runtime and build system changes in addition to validator changes . We should do so . 2 . For push builds , make the bundle size upload step run in the first stage , soon after Dist . This way , it is guaranteed to be run , even if some other check happens to fail . This might require the use of conditional builds in : . travis . yml . .	1	0
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 1 4 13 82	amp-next-page no effect . What's the issue ? : amp-next-page . appears to have no effect . How do we reproduce the issue ? I observed this from the provided example : < URL > The initial 6 sections of Lorem ipsum display normally . I scroll to the bottom . Nothing more is displayed . I scroll back to the top . Nothing appears to have changed . I'm unsure if this is an isolated occurrence . I was able to reproduce this in multiple browsers , but have also seen a video showing it working and several issues relating to specific features of it . I also tried implementing it in my own website and got the same result . At the time I shrugged it off as the component being unfinished . What browsers are affected ? I repeated these steps in Firefox ( 79 ) , Chrome ( 84 ) and Edge ( 84 ) . Which AMP version is affected ? I am fairly new to AMP and have only observed this behavior within the last 3 ~ days . Says version : 2007302351001 . .	1	0
1 1 0.8 1.0 1.0 1.0 0.85 1.0 1.0 1.0 0.8783783783783784 74 1.0 1 3 9 38	[ amp-story ] Videos not working in stories . On AMP version 2101230412002 MacOS Safari 14.0.2 Go to < URL > Video on page 7 will get stuck ~ 60% of the time when navigating to it . < URL > Checking the video element , it seems like : play () . was never called on the element , as it is still has : video . paused = = = true . . Also happens in < URL > In any other platform ( e.g. Chrome in MacOS ) go to the next URL < URL > After the 8th video , no videos will play and the ' Video failed to play ' message will show up . /cc @ampproject /wg-stories  	0	0
2 2 1.4 1.0 1.3 1.0 1.15 1.0 1.6666666666666667 2.0 1.1666666666666667 12 1.0 1 4 35 139	amp-consent checkConsentHref should handle network failure . Network failure for checkConsentHref causes getConsentPolicy to never resolve and thus consumers to never complete ( e.g. amp-a4a ) . In the case of failure , it should either return UNKNOWN or bubble the error up so the caller can handle appropriately . Example case where CORS header is not being returned , note that amp-ad elements are stuck in the loader state indefinitely : < URL >	2	0
2 2 1.6 2.0 1.5 1.5 1.35 1.0 1.6666666666666667 2.0 1.075 80 1.0 4 8 18 89	STAMP : Always set theme color to background color . For STAMP documents that do not have a theme color , STAMP should set it to the same color as the background color . < URL > We should consider making theme color meta tag mandatory for standalone STAMP	2	1
0 0 1.0 1.0 1.1 1.0 1.25 1.0 0.6666666666666666 1.0 0.0 0 0.0 8 18 30 135	amp-call-tracking extension . js script . Tracking number is listed twice on a page and also covered with the amp-call-tracking container . Google search console sees this as a duplicate saying it appears more than once . What needs to be done to prevent it showing up as an error ?  	2	2
2 2 1.6 2.0 1.0 1.0 1.2 1.0 2.0 2.0 1.75 4 2.0 5 8 29 84	amp-form ( action-xhr ) has stopped working in Internet Explorer 11 and below . . What's the issue ? amp-form is no longer able to submit using action-xhr , i get this error when i try to submit my form : : object doesn't support this property or method ' forEach ' . in < URL > this has worked previously , but doesn't anymore . How do we reproduce the issue ? open internet explorer 11 or below go to < URL > and scroll down to the action-xhr example type in any name or email and click subscribe . nothing happens , and you see the error in the console . for real world examples you can use eigther : < URL > < URL > What browsers are affected ? Internet Explorer 11 and below Which AMP version is affected ? this is a new issue , we have only just now had reports about it from our clients , and judging from experience that means the issue is probably around 2 weeks old . this looks very similar to an issue raised back in september < URL > and following suggestions from that issue , i have checked wether this was just the tooltip not showing correctly , and it is not .  	0	0
0 0 0.8 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.064102564102564 78 1.0 3 9 19 87	Add story-specific analytics variables . [ ] Story completion percentage [ ] Total story length  	0	1
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.6 5 2.0 2 6 14 75	Feature request : Add video support to < amp-img > . Describe the new feature or change to an existing feature you'd like to see It would be super duper awesome if AMP supported Safari's syntax of sticking videos into an : < img > . tag , like so : : < amp-img src='gifsmustdie . webm ' layout='intrinsic ' width='2 ' height='1'></amp-img> . Describe alternatives you've considered The alternative is using : < amp-video > . , removing controls , making it autoplay and loop . But I think the above is a much easier way to adopt as developer when replacing gifs , and gifs ???let's be honest ???must die .  	2	2
1 1 1.4 2.0 1.4 1.5 1.45 1.5 1.0 1.0 0.8518518518518519 27 1.0 2 5 8 24	IntersectionObserver needs to be properly cleaned up . Currently we just null it . Instead we should call : destroy . or similar . In this we need to e.g. cancel the timeout if we have one scheduled . Otherwise we might post messages to windows which no longer exist . Similarly , we fail to deregister on : detachedCallback . . Because : amp-sticky-ad . removes the ad , we never learn about this . We should consider calling : unlayoutCallback . from : detachedCallback . by default . @dvoytenko @jridgewell @erwinmombay I think this might cause the postMessage errors .  	0	0
1 1 1.6 2.0 1.5 2.0 1.25 1.0 1.6666666666666667 2.0 1.1136363636363635 44 1.0 4 5 18 104	Introduce AbortController/AbortSignal . Should clean up async code that re-runs before work is done , eg : < URL > < URL >	2	1
1 1 0.6 1.0 0.5 0.5 0.75 1.0 0.6666666666666666 1.0 0.9487179487179487 39 1.0 6 7 22 65	Codecov is posting comments on PRs even though comments are disabled . We use codecov.io for code coverage reports . In our config file , we've disabled comments : < URL > Yet , we're seeing comments being posted on PRs . For example , < URL >	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 5 13 55	amp-user-notification DISMISS ON SCROLL . There are some way to dismiss user notification ( cookie e . g . ) on scroll event ??	2	1
0 0 1.2 1.0 1.1 1.0 0.95 1.0 1.0 1.0 1.18348623853211 109 1.0 5 19 33 116	Improve s for ' getting started end-to-end ' . [ x ] Consider moving the great details on ' Testing ' to the Testing.md guide . [ x ] Add details on pre-testing your code with the ' prepush git hook ' . [ ] Add details on resolving merge conflicts ( tips and gotchas ) . [ x ] Review to ensure it's up-to-date , accurate and complete .  	1	2
1 1 1.2 1.0 1.1 1.0 1.15 1.0 1.6666666666666667 2.0 1.1818181818181819 22 1.0 8 20 32 96	History errors . Getting some error reports about history state . The exact number is a bit difficult to tell because the logs are being joined with an unrelated error for some reason . : failed to execute a task : e at pa ( < URL > at na . f . Cd ( < URL > at na . f . error ( < URL > at < URL > . Original locations : : failed to execute a task : e at Error ( < URL > at na . f . apply ( < URL > at na . f . apply ( < URL > at < URL > .	1	0
2 2 1.4 2.0 1.4 1.5 1.05 1.0 1.3333333333333333 2.0 1.223021582733813 139 1.0 3 9 11 80	Promote amp-list[binding ] & improve performance . Dev-ex : - [ x ] Change examples to use : binding = no|refresh . by default ( < URL > - [ ] Add user warning to add : binding . attribute - [ ] Strip bind attributes from children of amp-list [ : binding = no . ] Performance : - [ x ] Don't bother calling : scanAndApply . if no children have bindings ( #22938 ) - [ x ] Don't block : scanForBindings . on amp-bind's DOM scan if possible ( #22938 ) Future : - Make sure next version ( amp-render ) uses defaults to : binding = refresh . behavior - Reconsider : binding . attribute value naming ( possibly confusing e.g. #22043 )	1	0
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.0 1.0 1.1081081081081081 37 1.0 4 10 27 113	Improve umentation for installing validator dependencies . Currently if a contributor runs : gulp validator . after following the instructions in : contributing/ getting-started-e2e.md . , they are greeted with the following error : < URL > That's a good instruction if the contributor develops on a Debian-based Linux distro , but on other platforms it is confusing . This error message should direct users to the correct umentation to resolve the error . And we should provide step-by-step instructions for installing the validator's dependencies . /cc @aghassemi since we discussed s updates for before the Contributor Summit  	1	2
1 1 0.8 1.0 0.8 1.0 0.85 1.0 1.3333333333333333 1.0 2.0 2 2.0 6 13 20 98	amp-story bookend images not scaled correctly . Currently images in the related articles section are not being scaled properly for images of size 100x100 and above . [  ] 	0	0
2 2 1.6 2.0 1.4 1.5 1.15 1.0 1.6666666666666667 2.0 1.3333333333333333 3 2.0 5 13 33 121	Unwanted border around amp-story-page in desktop view . Sometimes when viewing an amp-story in desktop view , there is a border around the content .	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.0 1 1.0 9 19 25 118	AMP viewer blocking top sticky banner on iOS . What's the issue ? The AMP Viewer sometimes blocks sticky banner at the top of the page , leaving the area of the page that was meant to have the banner on it with just whitespace . < URL > How do we reproduce the issue ? Search for something that will produce a Pinterest AMP result , like ' Pinterest home decor ' Click to open Pin page and notice app install banner on top Note , if you see the app install banner on the bottom of the screen , please clear your cache and try again ( this feature is still in experiment ) . What browsers are affected ? iOS Safari , iOS Chrome Which AMP version is affected ? Unsure .	1	0
1 1 1.6 2.0 1.7 2.0 1.4 1.0 1.6666666666666667 2.0 0.987012987012987 77 1.0 4 5 19 85	Get e2e tests to close the browser window after the test ends . Right now running E2E tests leaves the browser window open after the test ends . This doesn't block anything but makes developing E2E tests a bit of a pain , esp if you have to pay attention to your main browser window . /cc @cvializ	2	1
1 1 1.0 1.0 1.2 1.0 1.3 1.0 0.6666666666666666 1.0 1.0 27 1.0 4 7 12 76	Add developer umentation for using extension analytics . To finish extension analytics work ( #9484 ) , we need to add developer umentation on usage . Topics covered should be : Details on the available APIs Note all restrictions ( e.g. selectors must be scoped to the extension ) Specify that extension developers must provide some pointers to their own umentation with description of how data transmitted from the extension is used  	1	2
2 2 1.2 1.0 1.2 1.0 0.95 1.0 1.3333333333333333 1.0 0.6 20 0.0 5 19 28 103	Wrong font family for the bookend heading . . Bookend heading should use : font-family : ' Roboto ' , sans-serif ; . :	1	0
2 2 1.0 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 2.0 1 2.0 2 11 16 55	amp-bind : Number and date formatting . With amp-bind there's a clear need for formatting of strings . amp-bind supports string concatenation natively and some number formatting ( e.g. , round ()) but nothing advanced . One obvious use case is formatting numbers . 250 * 1000.25 should be displayable as 250,062 . 50 . There are some tricks , like round(num * 100 ) / 100 to round to decimal places , and toPrecision () , but it can get complicated quickly . Also , I can't think of a way to do , ' s offhand . It's not clear to me where this would be best contained . Mustache seems logical , but : Mustache isn't supported in amp-bind ( which seems like a valid FR on its own ) That'd be a non-trivial modification to an otherwise isolated library Alternatively , amp-bind could support a sprintf () expression . There is < URL > that appears fairly light . Alternatively , it might make sense to ( also ? ) expose the javascript < URL > , which gets you the basic number and data formatting , and probably covers 95% of the formatting use cases .	2	1
1 1 1.4 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 1 19 79	[ IE/Edge ] Malformed URLs in amp-list/amp-mustache cause error . What's the issue ? amp in conjunction with amp-list / amp-mustache throws errors only in edge/ie when dealing with malformed urls . v0 . js ( 19,475 ) - Undefined ( Script5022 ) How do we reproduce the issue ? : { ' items ' : [ { ' title ' : ' random ' , ' desc ' : ' random ' , ' url ' : ' /blog/blogitem/Some%20Title%Malform%20Here ' , ' excerpt ' : ' someimage . jpg ' , ' modified ' : ' 2018-04-02 12:38:30 ' , ' date ' : ' 29 March , 2018 ' }]} . : < amp-list height='900 ' width='auto ' src='someurltojson'> < template type='amp-mustache'> < div class='card'> < div class='content'><p><a href='{{url}}'>{{desc}}</a></p></div> < div class='image'><a href='{{url}}'><amp-img height='100 ' width='100 ' layout='responsive ' src='{{excerpt}}'></amp-img></a></div> < div class='action'><a href='{{url}}'>Read more < /a ></ div > < /div > < /template > < div overflow role = button aria-label='Show more ' class='list-overflow'>Show more < /div > < /amp-list > . What browsers are affected ? Edge/IE Firefox/Chrome/Opera/Safari work fine . Which AMP version is affected ? Detected in 1522350285886	2	0
1 1 1.2 1.0 1.2 1.0 1.3 1.0 1.0 1.0 1.4 10 1.5 7 31 41 134	amp-mustache- 0.2 : Warn on sanitized attributes . To Whom it may concern : I found amp-mustache- 0.2 will trimed input attribute name once the value is ' action ' . You may check the following code . : < form id='myForm ' class='infinites ' method='post ' target='_top ' action-xhr='web-service . php ' on='submit-success:AMP . setState ({ likes : event . response . likes , ssStatus : { whatelse : event . response . isLast , rSlide : event . response . rSlide } })'> < a class='infinites__a ' on='tap:myForm . submit'>check more < /a > < div submit-success template='template-listing'></div> < /form > < template id='template-listing ' type='amp-mustache'> < form action-xhr='web-service2 . php ' method='post ' target='_top'> < input type='hidden ' name='action ' value='like ' / > < input type='hidden ' name='merchandiseId ' value='{{id }}' / > < input type='hidden ' name='_crumb ' value='AUTHDATA(crumb )' data-amp-replace='AUTHDATA ' / > < /form > < /template > . Expect input tag render result : : < input type='hidden ' name='action ' value='like ' / > . But it will be : < input type='hidden ' value='like ' / > . I wonder is ' action ' reserved word in amp-mustache- 0.2 ? Once I switch to amp-mustache- 0.1 , everything will be fine as usual . Paul  	2	2
1 1 1.4 1.0 0.9 1.0 0.65 0.5 1.3333333333333333 1.0 0.9402985074626866 67 1.0 0 3 5 32	[ amp-story ] Sharing broken in iOS Chrome . Open any story in iOS Chrome . Tap on the sharing icon . ( Expected ) Native sharing dialog should pop up . ( Actual ) Nothing happens . @ampproject /wg-stories  	0	0
1 1 0.4 0.0 0.7 1.0 0.75 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 3 12 31	JavaScript error in Google AMP Viewer . What's the issue ? We have been experiencing an intermittent issue in the Google AMP Viewer . Navigating away from the AMP page to a non-AMP page and then clicking the browser's back button to return to the AMP page sometimes results in a JavaScript error which prevents the AMP page from being displayed . How do we reproduce the issue ? Perform a Google search with AMP results Click on an AMP page Click on a link within the AMP page which takes you to a non-AMP page Click the browsers back button to return to the AMP page - sometimes the AMP page fails to load because of a JavaScript error . Here are some screenshots from Chrome Dev Tools which show the error : What browsers are affected ? Have replicated this in Chrome for Android and Safari for iOS but issue only happens intermittently . Which AMP version is affected ? Current version is 2001071857360 but we have noticed this behaviour in previous versions as well .	2	0
0 0 1.4 2.0 1.3 1.0 1.3 1.0 1.0 1.0 1.3333333333333333 9 1.0 4 20 31 124	[ FEATURE REQUEST ] < amp-yelp-reviews > component . This would allow businesses to embed yelp reviews into their site , helping them amass social capital . You can screenshot them but they don?????? make for a great user experience . They become outdated , load slower than text , and make it hard for users to act on reviews . Embedded Yelp reviews on their websites would solve this problem . APIs to be used : < URL > < URL > @aghassemi @ericlindley -g	2	1
1 1 1.4 1.0 1.4 1.5 1.35 1.0 1.0 1.0 1.6153846153846154 13 2.0 0 5 22 65	Evaluate the potential use of Javascript Set in validator codebase . The AMP Validator uses JS objects as sets in a number of places , with : hasOwnProperty . to evaluate set membership . Now that < URL > seems to have wide browser support and we've abandoned the idea of making the Validator performant enough to run in the AMP runtime , it is probably worth switching to use Set in the validator to simplify some of the code .	2	0
2 2 1.4 2.0 1.3 1.5 1.15 1.0 1.6666666666666667 2.0 0.7034883720930233 172 1.0 6 12 25 57	[ Story interactives ] Use interactive component ID rather than page ID . The interactive components IDs sent to backends today are : ${canonicalUrl}+${pageId } . . We are not planning on supporting multiple interactive elements per page , but it would make more sense and be more future proof to use the interactive element ID over the ID of its page : : ${canonicalUrl}+${componentId } . . To do so , we need to ensure that elements have an ID through validation + assigning a deterministic ID if there's none , as well as ensuring that there is no duplicate ID , like we do for page IDs . cc @ampproject /wg-stories  	0	1
2 2 1.8 2.0 1.4 1.5 1.35 1.0 2.0 2.0 1.0 2 1.0 6 13 24 97	< amp-next-page > needs enough text to trigger a scroll before the next page loads . E.g. doesn't trigger and display the next pages if it is the only thing ( or if there isn't a scroll trigger ) . This should either be documented in the markdown as WAI or fixed .	2	0
1 1 1.4 1.0 1.5 1.5 1.2 1.0 1.0 1.0 1.2313432835820894 134 1.0 3 11 22 92	Integration tests for AMP4EMAIL viewer APIs . Let's add end-to-end tests for : viewerRenderTemplate . and other email-specific viewer capabilities . /to @alabiaga /cc @GoTcWang @zhangsu  	0	1
0 0 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 0.9693877551020408 98 1.0 6 8 15 77	f . js is close to 50KB now . The number of ad networks integrated in AMP is close to 200 now ( wow !! ) . The good news comes with a problem : all the code contributed by those ad networks are compiled into one single JS binary , which is close to 50KB now ( after compression ) . So we should start to think of doing something now . One solution is to build and host separate binaries for each ad network for lazy-load . Meantime , we should encourage any new vendors contributing to AMP to not add their logic into AMP . Instead , they should just provide a URL to load their scripts . Of course , we need to figure out how to do dynamic script URL as some of the ad networks is doing .  	2	2
2 2 1.8 2.0 1.3 1.5 1.25 1.0 2.0 2.0 0.0 0 0.0 2 6 11 56	Support App + Web properties on Google Analytics ( gtag ) . < URL > is a new feature that Google Analytics that unifiies measurements on app and web properties . Support this in gtag . js cc/ @avimehta @zikas @zhouyx  	0	1
2 2 1.0 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 2.0 1.0535714285714286 112 1.0 9 14 54 120	[ Master feature ] Support video-interface videos in amp-story . Right now , the only video player supported is : < amp-video > . ; we should also support other video interface players like : < amp-youtube > . or : < amp-dailymotion > . , etc . Those that have controls can be opened in a lightbox , once #16521 is completed .	1	1
0 0 1.2 1.0 1.3 1.0 1.15 1.0 1.0 1.0 1.0 1 1.0 2 8 13 49	update SERVING . MD . Ensure SERVING . MD is up to date . ' you're right , ill update it and probably update prepend-global . do you mind filing an issue for that for me ? ' @erwinmombay	2	0
2 2 1.4 1.0 1.1 1.0 1.2 1.0 1.6666666666666667 2.0 1.1724137931034482 29 1.0 1 11 17 57	Document amp-story analytics . We have a < URL > that describes new variables and events for analytics in : amp-story . . We should fold that into the < URL > or the < URL > . /cc @bpaduch  	1	2
1 1 0.8 1.0 0.7 0.5 0.9 1.0 1.0 1.0 1.2077922077922079 154 1.0 4 6 26 93	undefined is not a function . For prod 1911121900560 , this is a top 5 error . < URL > : undefined is not a function at splice ( < URL > at discoverWork_ ( < URL > at ( < URL > at setState ( < URL > at doPass ( < URL > at handler_ ( < URL > at pass_ ( < URL > at ( < URL > . UAs appear to be ' Android WebView ' .  	0	0
1 1 1.4 1.0 1.1 1.0 0.85 1.0 1.3333333333333333 1.0 1.0769230769230769 26 1.0 6 9 18 61	Analytics : visibility tracking doesn't work with multi time constraints . Visibility tracking in PROD doesn't work if both : continousTimeMin . and : totalTimeMin . are defined . For example . : ' pageview ' : { ' on ' : ' visible ' , ' request ' : ' base ' , ' visibilitySpec ' : { ' continuousTimeMin ' : 200 , ' totalTimeMin ' : 500 } } . [  ] 	0	0
0 0 1.4 2.0 1.2 1.0 1.0 1.0 1.0 1.0 1.4285714285714286 77 2.0 1 3 16 66	amp-video-ima : imaVideo . js can not import from video-interface due to type check  . : //# sourceMappingURL = integration-check-types . js . map -- create_source_map = build/cc/_3p_integration . js . map -- source_map_location_mapping =| < URL > -- warning_level =D EFAULT -- jscomp_off = unknownDefines -- define = TYPECHECK_ONLY = true -- hide_warnings_for = third_party/caja/ -- hide_warnings_for = third_party/closure-library/sha384-generated . js -- hide_warnings_for = third_party/d3/ -- hide_warnings_for = third_party/vega/ -- hide_warnings_for = third_party/webcomponentsjs/ -- hide_warnings_for = node_modules/ -- hide_warnings_for = build/patched-module/ -- hide_warnings_for =3p /environment . js -- jscomp_error = checkTypes -- jscomp_error = accessControls -- jscomp_error = const -- jscomp_error = constantProperty -- jscomp_error = globalThis -- conformance_configs = build-system/conformance-config . textproto -- js_output_file='build/cc/_3p_integration . js ' src/video-interface . js : 106 : ERROR - Bad type annotation . Unknown type module$src$service$action_impl . ActionInvocation * @param { function (!./ service/action-impl . ActionInvocation )} unusedHandler ^ 1 error(s ) , 0 warning(s ) . when compiling 3p	2	0
1 1 1.4 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 0.625 16 0.5 3 6 15 63	[ Story 360 ] Gyroscope default heading . When gyroscope is enabled , default to the : heading-end . value . : pitch . should always be natural . The ground should always be beneath the user in the experience . cc @ampproject /wg-stories  	0	1
2 2 1.8 2.0 1.6 2.0 1.35 1.5 2.0 2.0 0.0 0 0.0 0 5 10 46	amp-ad-custom broken in latest release . Hi amp-ad-custom appears to have suddenly stopped working over the last few hours . An example test is here : < URL > which gives javascript errors for an element not found in the template ( it is there ) I've removed the analytics section for testing purposes and then I get no errors , but no content either < URL > The template looks fine , but for some reason refuses to render . I've reverted to RTV 012103020156003 and this makes the above work again . So it appears something has broken for us in the latest versions . Can you please address this as soon as possible ? cc : @jasti @lannka [ improved ] 	0	0
2 2 1.2 1.0 1.2 1.0 0.95 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 5 20 105	Fullscreen for amp-youtube element inside an amp-lightbox does not work for chrome . If we embed an amp-youtube element inside an amp-lightbox , the fullscreen button for amp-youtube does not work as expected in chrome . Demo page < URL > Steps : click ' open lightbox ' play youtube video click fullscreen button in the amp-youtube element Expected behavior : Video takes whole screen and keeping playing . ( see this on firefox ) Behavior in chrome : Video pauses at timestamp 0s and does not take full screen . Environment Chrome version : 66.0.3359.139 Firefox version : 59.0.2 ( 64-bit ) OS : ubuntu 16.04 AMP version : 1525461683159	2	0
1 1 0.6 1.0 0.7 1.0 0.8 1.0 0.6666666666666666 1.0 0.0 0 0.0 9 10 21 90	amp-lightbox-gallery - the first image of the gallery doesn't appear in image viewer in some cases . When the gallery consists of more than 3 images there is an issue of displaying the first image lightboxed both when opening from the site and when carouseling to it in the image viewer . It happens only when other than this 1st or its neigbor image ( 2nd or the last one ) is opened ( clicked ) as the first in the gallery . It happens even in the AMP playground example case when adding more images there ( in all common browsers ) . Example : < URL > ???< URL >	1	0
1 1 1.2 1.0 1.0 1.0 1.1 1.0 1.3333333333333333 1.0 1.2857142857142858 14 1.0 6 17 26 129	Move AdSense/Doubleclick specific CSS out of amp-ad . See < URL > which contains adsense/doubleclick specific CSS . These should exist in CSS belonging specifically to those extensions .	2	1
1 1 1.6 2.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 0.5 8 0.5 4 12 27 98	FR - Support `Alphabetical Indexed List` on amp-list . Describe the new feature or change to an existing feature you'd like to see User can leverage on the : indexed list . and pinpoint to the particular content more quicker Describe alternatives you've considered None : Additional context	1	1
2 2 1.2 1.0 1.2 1.0 1.1 1.0 1.6666666666666667 2.0 1.1578947368421053 38 1.0 1 5 13 71	Investigate pushHistory failures . The error looks like this : : failed to execute a task :: Request ' popHistory ' failed : not primary . Another stack : : failed to execute a task :: Request pushHistory failed : e at Error ( < URL > at ( < URL > . Internally tracked via b/37330338	2	0
1 1 1.0 1.0 1.2 1.0 1.05 1.0 1.0 1.0 1.0 1 1.0 0 2 19 45	Would like to be able to display the user's local time zone . Please only file bugs/feature requests for AMP here . If you have questions about how to use AMP or other general questions about AMP please ask them on Stack Overflow under the AMP HTML tag instead of filing an issue here : < URL > If you have questions/issues related to Google Search please ask them in Google's AMP forum instead of filing an issue here : < URL > If you have a bug or feature request for AMP please fill in the following template . Delete everything except the headers ( including this text ) . What's the issue ? amp-date-display allows me to display a date and time in the user's local time zone . However , it does not allow me to show what that time zone is . Ideally , we would be able to show the time as a choice of ' 18:00 EST ' of ' 18:00 New York time ' ; this would have to vary by locale since some countries will want to use translated names . The PHP date () function accomplishes this well with its ' e ' or ' T ' options - with the flaw that these are not localisable . I suggest that the list of variables for the Mustache template could be extended to include as many as possible of the following : {{ timeZoneName }} e.g. ' America/New York ' {{ timeZoneShortName }} e.g. ' New York ' {{ timeZoneShortNameX }} e.g. ' New York time ' {{ timeZoneAbbreviation }} e.g. ' EST ' {{ timeZoneDelta }} e.g. ' - 5:00 ' The ShortNameX is ugly , but it's needed because without it , you end up with an output of ' UTC time ' for the few time zones that are not linked to a place .	2	1
1 1 0.6 1.0 0.8 1.0 0.9 1.0 0.6666666666666666 1.0 1.0 51 1.0 0 1 5 29	Fix flaky visual diff tests . The following visual diff tests are flaky and have been disabled #33759 : * : amp-story : bot rendering . * : amp-story-player AMP version .  	0	0
1 1 1.2 1.0 0.9 1.0 0.95 1.0 1.0 1.0 1.0 3 1.0 4 8 12 37	[ Page attachments ] [ Outlink ] Transition State Animation . Add transition state animation and features to match the following mocks :	1	1
1 1 0.8 1.0 0.9 1.0 1.1 1.0 0.6666666666666666 1.0 1.02 100 1.0 2 3 10 39	Make feComponentTransfer and its children elements valid in AMP/SVG . See < URL > for details . Sample SVG : < filter id='identity ' x='0 ' y='0 ' width='100%' height='100%'> < feComponentTransfer > < feFuncR type='identity'></feFuncR> < feFuncG type='identity'></feFuncG> < feFuncB type='identity'></feFuncB> < feFuncA type='identity'></feFuncA> < /feComponentTransfer > < /filter > < filter id='table ' x='0 ' y='0 ' width='100%' height='100%'> < feComponentTransfer > < feFuncR type='table ' tableValues='0 0 1 1'></feFuncR> < feFuncG type='table ' tableValues='1 1 0 0'></feFuncG> < feFuncB type='table ' tableValues='0 1 1 0'></feFuncB> < /feComponentTransfer > < /filter > .  	0	1
0 0 1.2 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.8333333333333334 6 1.0 2 6 20 103	getExternalCid_ returns null when opted out of API instead of using localStorage . < URL > This should not return null but should instead get the CID from localStorage  	0	0
1 1 1.4 1.0 1.4 1.5 1.3 1.0 1.6666666666666667 2.0 1.5 4 1.5 0 7 22 59	amp-sticky-ad displays incorrectly inside shadowDom that have transformation styling added . Issue : When a shadowDom is inside a div that has a css transform added the sticky ad displays at the bottom of the shadowDom , not at the bottom of the rootDom . use case : We are using swiper < URL > to add mobile swiping for our app , inside each slide the Amp Shadow loads an amp document with a sticky ad , Shadow Doc are initiated/deactivated on transition end so that the Amp content loads only when the slide is active . The swiper used transform for mobile hardware rendering of the slide animation , however this caused the sticky ad to render in and incorrect position . potential solution : One solution is to size the shadowDom to the height of our viewport and give the wrapper a scroll , this causes the sticky-ad to display in the correct location however the scroll event that causes the sticky ad to load is never fired as the Dom El is being scrolled not the viewport . If we had an attribute that caused sticky ad to init onload rather than onscroll this solution could work .  	0	0
1 1 1.0 1.0 0.8 1.0 0.95 1.0 1.3333333333333333 1.0 0.9739130434782609 115 1.0 2 5 26 69	Unskip tests in test-inabox-viewport . js . < URL >	2	0
2 2 1.2 1.0 1.0 1.0 0.75 1.0 1.6666666666666667 2.0 1.2857142857142858 7 1.0 6 6 24 64	< amp-gfycat > , when used on a story page , doesn't allow you to move forward . What's the issue ? If an AMP story contains : < amp-gfycat > . on a page , the user mustn't tap or click anywhere inside that element : On desktop , a click will open gfycat in a new tap . On mobile , a tap opens the gfycat share instead of advancing to the next page . How do we reproduce the issue ? ``` < ! doctype html > My Story Hello World This is the cover page of this story . Second Page This is the second page of this story . ``` Paste this code into a file . Open a file in Chrome . < URL > Try to advance from the first page to last . What browsers are affected ? Primarily mobile . Desktop users have access to arrows on the side . Which AMP version is affected ? Tested in AMP 1911042323000 .	1	0
1 1 1.2 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 0 0.0 7 9 9 38	Move whitelist from viewer-impl . js to amp-viewer-integration extension .	2	0
0 0 0.8 1.0 1.0 1.0 0.85 1.0 0.6666666666666666 1.0 0.0 1 0.0 1 2 4 18	Strange 3P iframe postMessages . Short description of your issue : I'm seeing some weird postMessages that fail origin checks . Seems to be that we're posing a message to an ad's iframe ( Let's call this iframe B ) using the iframe A's : origin . ( A and B are really the same ad iframe , but A is the from the original request to the page , and B is after back-buttoning ) . This is blocking intersection observers , which I think is a high priority issue . : v0 . js : 66 Failed to execute ' postMessage ' on ' DOMWindow ' : The target origin provided ('< URL > does not match the recipient window's origin ('< URL > Gb . postMessage @ v0 . js : 66 b . sendEmbedInfo_ @ v0 . js : 345 ( anonymous function ) @ v0 . js : 343 ( anonymous function ) @ v0 . js : 64 D . fire @ v0 . js : 64 M . onVisibilityChange_ @ v0 . js : 182 M . setVisibilityState_ @ v0 . js : 184 M . recheckVisibilityState_ @ v0 . js : 183 ( anonymous function ) @ v0 . js : 64 D . fire @ v0 . js : 64 od . onVisibilityChanged_ @ v0 . js : 171 . How do we reproduce the issue ? Open up the < URL > Open up the dev console Filter the console using : ^[^X ] . , using regex search and ignoring network messages Click the ' Google ' link on top Hit the back button to go back to the ads example Open a new tab , then close it ( alternatively , tab to your next open tab , then back to ads ) Voil???What browsers are affected ? Latest chrome , at least . Firefox , and Safari . Which AMP version is affected ? Current . Maybe since we started giving each ad its own d-XXXXXX.ampproject.net domains .  	0	0
1 1 0.6 0.0 0.5 0.0 0.6 0.5 1.0 1.0 0.6190476190476191 21 0.0 1 16 29 102	Can't accept/reject amp-story-consent . . Can't accept/reject amp-story-consent . The action triggered is : AMP-CONSENT . accept . when it should be : < consentname > . accept . .  	0	0
1 1 1.0 1.0 0.7 1.0 0.8 1.0 1.0 1.0 1.8181818181818181 11 2.0 3 4 18 55	Resources in < details > element do not load upon opening . What's the issue ? Initially < URL > on the < URL > support forum ( for this WordPress plugin ) . An issue with AMP was uncovered with the Accordion block , which < URL > as opposed to : amp-accordion . . When an image , iframe , or other external resource is located inside of : details . element that is not initially : open . , the elements will fail to load when the : details . element is : open . -ed . How do we reproduce the issue ? Given this markup : : < details > < summary > Show < /summary > < p > Image : < amp-img src='<URL>' width='1544 ' height='500 ' layout='responsive'></amp-img> < /p > < p > Iframe : < amp-iframe src='<URL>' layout='fixed-height ' height='300'> < span placeholder > Loading example.com ... < /span > < /amp-iframe > < /p > < /details > . Clicking ???show ???reveals the elements without them being loaded : Contrast with the same code above where the : open . attribute is initially present on the : details . element : What browsers are affected ? Tested in Chrome , presumably all browsers affected . Which AMP version is affected ? Always broken , AFAIK . Support for : details . was added a couple years ago ( #18440 ) but this was not paired with an update to the resource manager to handle content revealed in the : details . .	1	0
2 2 0.8 1.0 0.7 1.0 0.8 1.0 1.0 1.0 1.1923076923076923 26 1.0 4 5 18 79	Action trust follow-up . Following up from design review : < URL > [ x ] Defer to browser-level restrictions for video actions . [ x ] Consider simplifying trust level granularity from 3 to 2 levels . Would also resolve #9953 . Some references : - < URL > - < URL > /cc @ericlindley -g @cramforce	1	0
0 0 0.4 0.0 0.5 0.5 0.55 0.5 0.3333333333333333 0.0 1.0 1 1.0 0 2 8 61	instagram : height rendered out of viewport is truncated in Safari . What's the issue ? The height of the rendered : amp-instagram . is different depending on whether it was rendered in the viewport or below . This is observable on Safari with fixed heights on parent elements and with defined height and width on : amp-instagram . element , even using : layout='fixed ' . . How do we reproduce the issue ? < URL > Go to the link , above . Let it load at full screen . Reduce the height of the browser window so that the instagram posts aren't fully visible . Refresh . Here's a video : < URL > What browsers are affected ? Desktop Safari Version 10.1.1 ( 12603.2.4 ) , possibly others . Which AMP version is affected ? < URL >	1	0
2 2 0.8 1.0 0.7 1.0 0.75 1.0 1.0 1.0 0.8888888888888888 9 0.0 3 9 15 63	AMP Sidebar : ' open ' but not visible . < URL > Scroll down to the toggle sidebar buttom Mash it a bunch I'm able to trigger in iOS safari and desktop chrome ( both normal and android emulation mode ) .	1	0
1 1 0.8 1.0 0.9 1.0 0.8 1.0 1.0 1.0 0.3333333333333333 3 0.0 0 0 11 56	Tracking Bug : amp-analytics in friendly iframes . This bug tracks all the work for enabling amp-analytics in friendly iframe components ( currently A4A ) . Things to be done : - [ ] Provide additional variables for amp-ads - [ x ] Restrict and override URL replacements implementation for embed - [ x ] Allow iframe host as an element whose visibility can be measured . - [ x ] Restrict selectors to only select elements within embeds . ( #5749 ) - [ x ] Disallow scroll and custom triggers in embeds ( #5658 ) - [ x ] Update example for amp-ad .	1	1
1 1 1.4 1.0 1.5 2.0 1.45 1.5 1.3333333333333333 1.0 0.0 0 0.0 0 3 9 40	AMP pagination and filter in amp-form ( server-side filter/sort ) . I want to create a search form in amp page the form and displat returned data is working fine , but i wanted to know how to add load more button filter popup I tried following implementations but didn't workout added form inside the submit-success element but it generates errors added amp-list but cannot use post method and with get method also i am not able to append data with some pagination . tried to submit form externally using tap event but no use any help would be appreciated	2	1
1 1 0.8 1.0 0.9 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 2 5 14 56	Document Preconnect Polyfill . What's the issue ? < URL > How do we reproduce the issue ? In Mobile Safari AMP pages that include : < iframe > . s appear to be making network requests to the follow path ' /amp_preconnect_polyfill_404_or_other_error_expected . _Do_not_worry_about_it ' . This can be observed by monitoring network traffic on the device . It will also show with great frequency in the network logs of servers delivering the : < iframe > . d experience . This preconnect polyfill is not umented ( except for a few Stack Overflow questions ) and may come as a surprise to those hosting an : < iframe > . d experience on an AMP page . The ' _Do_not_worry_about_it ' portion of the path does not allay any suspicions and does not provide any additional information about the feature . This feature should be umented in AMP with enough detail for developers to understand and anticipate this behavior . I would also suggest that the preconnect URL reference the umentation so the umentation is more discoverable when someone does observer the URL pattern . What browsers are affected ? Observed in Mobile Safari . Which AMP version is affected ? 1506041909031  	2	2
2 2 1.2 2.0 0.9 1.0 0.75 1.0 1.3333333333333333 2.0 1.2960893854748603 179 1.0 6 6 33 92	attemptChangeSize not denied for above-the-fold iframe . < URL > This page has an iframe above the fold but somehow : attemptChangeSize . is not denied and it causes content shifting . /to @jridgewell @choumx [ improved ] 	0	0
1 1 0.8 1.0 0.9 1.0 1.2 1.0 1.0 1.0 0.6808510638297872 47 1.0 0 0 6 24	Unmuted autoplay is broken on iOS 14.2 and 14.3 . To reproduce : - Open a test story with audio and autoplay such as < URL > - Unmute story and let autoplay trigger navigation The bug does not always reveal right away , sometimes 3rd to 6th navigation . Manually navigating reproduces the bug as well . Observations : Navigating back , then forward seems to unmute the page . /cc @ampproject /wg-stories  	0	0
1 1 1.2 1.0 0.9 1.0 1.05 1.0 0.6666666666666666 1.0 1.0377358490566038 53 1.0 4 16 23 95	Request cid failed : document is not visible . Over 1.5 million reports in the last day . : Request cid failed : document is not visible at X . push . f . X.X ( < URL > at < URL > r . go/ampe/CN3E2-uxucaiqgE  	0	0
1 1 1.4 2.0 1.4 2.0 1.25 1.5 1.0 1.0 0.0 0 0.0 1 6 10 29	amp element/result does not loading on submit , but loads on shaking the browser window . I am working on a project where i am using the POLL widgets . It is currently working with combination of api and data is loading inside amp-list tag . When I submit the result via selecting any option the result does not show up , but when i zoom-in/zoom out the browser window , the result loads . Does anyone experience the same problem with amp or have any solution and suggestions ?	2	0
0 0 0.4 0.0 0.9 1.0 1.25 1.0 0.6666666666666666 1.0 1.0 6 1.0 2 3 9 44	< amp-list > : support rendering outside of viewport . summary I recently learned of a use case where someone would like to display an : < amp-list > . within a sidebar . The sidebar starts out closed . Ideally the amp-list could fetch and render while not in the closed sidebar for both SEO and performance reasons . cc @wassgha @nainar @ampproject /wg-runtime	2	1
2 2 1.6 2.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 0.0 0 0.0 1 4 9 74	' ! important ' in comments breaks AMP validation . What's the issue ? It seems like a bug to not allow ' ! important ' even in comments for AMP ads . How do we reproduce the issue ? For example : < URL >	2	1
1 1 1.2 1.0 1.4 1.0 1.35 1.0 1.3333333333333333 1.0 1.0 10 1.0 1 6 9 43	Outdated references to ampbyexample.com . summary Throughout the codebase there are 37 references to ampbyexample.com . Most of these are html files , with some being markdown or documentation . Since ampbyexample is no longer a functional website , it would be good to remove references to it .	2	0
1 1 1.4 2.0 1.4 2.0 1.25 1.5 1.0 1.0 1.5833333333333333 12 2.0 3 7 9 38	Consolidate `fill` CSS code we have to be the same . . We have three different versions of fill css : : . -amp-layout-fill . is different than : . -amp-fill-content . which is different than : . -amp-layout-size-defined . -amp-fill-content . Some of them use position absolute , and some of them use width , height 100% . The ones using width , height , also don't set : box-sizing . to : border-box . that can cause overflows . We need to consolidate all these into a single : fill . logic and test different cases . We may want to put whatever fix we come up with under an experiment and let is soak for a while . Issues : < URL > < URL > < URL > PRs : < URL > < URL > < URL > < URL >	2	0
2 2 0.8 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.4 5 0.0 3 4 10 17	Stories images w/ transparency rendering a white background while loading . What's the issue ? Images with transparency ( pngs , svgs , webps and gifs ) render a white background while being loaded . This is especially noticeable on slow connections , and disables the ability to see any content behind the image until is has loaded . Example : < URL > In this case , there is a full-page png with transparency ( to create noise on the background ) , and the beer bottles are also transparent pngs How do we reproduce the issue ? Add a transparent image to a story page , and load the story simulating a slow connection . What browsers are affected ? Tested in Chrome and Firefox , both are not working so assuming Safari has the same issue Which AMP version is affected ? This has been an issue for the past few months , but it used to work before . Could be due to the new image loading animation that was launched a few months ago . [ improved ] 	0	0
2 2 1.2 2.0 0.9 1.0 1.1 1.0 1.3333333333333333 2.0 1.0253164556962024 79 1.0 4 31 41 136	Linker's default destinationDomains config does not work . Caused by this line , where we should extract hostname from the URL : < URL >  	0	0
1 1 0.8 1.0 0.8 1.0 0.8 1.0 0.3333333333333333 0.0 1.5 4 1.5 4 13 22 82	amp-youtube loads thumbnail image despite layout='nodisplay ' . What's the issue ? When a video is hidden via : layout='nodisplay ' . the thumbnail image is loaded during page load . IMO it should not be loaded until the video becomes visible . Also , if you put a video inside a lightbox that has : layout='nodisplay ' . you can observe the same behavior . Ideally I would like amp-youtube to not load thumbnails until its parent lightbox is shown . How do we reproduce the issue ? : < amp-youtube layout='nodisplay ' data-videoid='lBTCB7yLs8Y'></amp-youtube> . Above code will cause < URL > to load . What browsers are affected ? Tested in Chrome , Firefox Which AMP version is affected ? 1906131851520	1	0
1 1 1.4 1.0 1.3 1.0 1.25 1.0 1.3333333333333333 1.0 1.0 14 1.0 5 9 17 73	Add support for looping animations in amp-story . Right now , we support entrance transitions via the : animate-in . property on descendants of : amp-story-grid-layer . . We should consider specification changes that also allow publishers to create animations that loop for the duration of the time that the user is on the : amp-story-page . . For example , we could have something like : html < div class='spinner ' animate='rotate ' animate-duration='2s'> . , where duration controls how long a single iteration of the animation is . Alternatively , we could figure out how to effectively open up usage of : < amp-animation > . within stories , but I suspect this will be challenging , since it is not aware of the constraints that : < amp-story > . adds . /cc @alanorozco	2	0
1 1 1.0 1.0 0.6 0.5 0.7 1.0 0.6666666666666666 1.0 1.0454545454545454 22 1.0 6 7 15 76	Sticky ad breaking on canonical AMP page . Not sure if this is affecting any non-canonical pages , have only found this so far on one publisher site . Sticky ad is stickying to top of page instead of bottom when scrolling , and overwriting publisher page menu How do we reproduce the issue ? Emulate mobile Navigate to < URL > ( a canonical amp site ) Note sticky ad at bottom of viewport Scroll down page 1+ viewports . Refresh page Note that sticky ad now fills at top of page , instead of bottom . Bottom sticky stays empty . [ improved ] 	0	0
0 0 0.2 0.0 0.6 0.5 0.7 1.0 0.0 0.0 0.0 0 0.0 1 3 9 74	Components that preconnect cause an error when they are inside `amp-app-banner` . What's the issue ? Throws this error ( doesn't cause any other problems ) : log . js : 295 Uncaught The node must be attached to request ampdoc . at Log . assert ( log . js : 295 ) at AmpDocService . getAmpDoc ( ampdoc-impl . js : 114 ) at getAmpdoc ( service . js : 357 ) at Object . getServiceForDoc ( service . js : 266 ) at Object . viewerForDoc ( services . js : 267 ) at Preconnect . getViewer_ ( preconnect . js : 324 ) at Preconnect . url ( preconnect . js : 342 ) at AmpImg . preconnectCallback ( amp-img . js : 74 ) at custom-element . js : 805 at wrapped ( timer-impl . js : 81 ) . How do we reproduce the issue ? Go to < URL > Simulate a mobile device with the Chrome developer tools Re-load the page The error will appear @aghassemi tracked this error to the medium image inside the : amp-app-banner . and the error apparently has to do with : amp-app-banner . deleting itself before the image preconnects which causes the preconnect to not find the image in the DOM .	2	0
2 2 1.6 2.0 1.1 1.0 1.25 1.0 1.6666666666666667 2.0 1.4027777777777777 72 2.0 7 13 17 53	Use local validator for test-example-validation . js . from : test-example-validation . js . : : // TODO ( @cramforce ): Use local version . This is non-hermetic // and really bad . When the validator is open source we can // use it directly . . validator is now open-source so we can use the local version . Ran into this with : < URL > Not sure /cc @erwinmombay @rsimha -amp @honeybadgerdontcare	2	1
1 1 0.8 1.0 1.1 1.0 0.85 1.0 1.0 1.0 0.0 0 0.0 0 1 5 24	PAGE_LOAD_TIME URL replacement not working . URL replacements are not working for all documented variables . In the < URL > documentation , it lists PAGE_LOAD_TIME as being available . The URL replacement < URL > , however , the variable is not being replaced when the request is fired . Some variables are correctly being replaced , such as CANONICAL_URL , RANDOM , SCREEN_HEIGHT , etc . Example of variables received by the event receiver : : pageLoadTime : PAGE_LOAD_TIME random : 0.2894816743209958 screenHeight : 480 screenWidth : 320 .  	0	0
0 0 1.0 1.0 0.9 1.0 0.9 1.0 0.6666666666666666 0.0 1.1369863013698631 73 1.0 1 4 11 62	Analytics requests break in AGSA . pageView request is not sent out in google search app  	0	0
2 2 0.8 1.0 0.7 1.0 0.9 1.0 0.6666666666666666 0.0 0.0 0 0.0 9 14 30 93	AMP Cache Viewer removes document element classes on iOS . What's the issue ? I noticed that < URL > the hamburger menu toggle in the fixed navigation bar does not show up when accessing the site in its < URL > on iOS . @westonruter and I investigated and discovered that this is caused by custom classes on the : html . element being removed . In the AMP cache viewer in iOS , the fixed navigation bar is separated from the ' scrollable ' page content , and in that process a new : html . wrapper element is created , to be used for the non-fixed content . The original classes are ported to the new element , but then overridden on the original element , which is still being used for the fixed content . < URL > Instead of resetting : className . here , I suggest to use : classList . add () . so that the original classes continue to be present . How do we reproduce the issue ? Create an HTML document with custom CSS classes added to the : html . element . Open the document in an AMP cache on iOS , and see the classes not being present . What browsers are affected ? Browser appears to be irrelevant , this happens in any browser on iOS . Which AMP version is affected ? AMP version 1810312337520	1	0
2 2 1.2 1.0 1.5 2.0 1.15 1.0 1.3333333333333333 2.0 0.8333333333333334 6 1.0 3 7 10 65	`gulp process-github-issues -- dryrun` is broken . This is a leftover item from < URL > We should return : promise . and not : issues . in line 202 of : build-system/tasks/process-github-issues . js . . The : util . log(util . inspect ()) . in line 195 doesn't actually print out the particulars of the change . A possible solution is to print the particulars of the request inside : createGithubRequest . if : isDryrun = = = true . . : ~ /src/amphtml$ gulp process-github-issues -- dryrun [ 19:17:13 ] Using gulpfile ~ /src/amphtml/gulpfile . js [ 19:17:13 ] Starting ' process-github-issues ' ... [ 19:17:14 ] automation applied [ 19:17:14 ] Finished ' process-github-issues ' after 1.22 s [ 19:17:14 ] Update 11382 [ 19:17:14 ] Performing a dry run . These are the updates that would have been applied : ( node : 103148 ) UnhandledPromiseRejectionWarning : Unhandled promise rejection ( rejection id : 1 ): Typeutil . inspect is not a function .	1	0
0 0 1.2 1.0 1.1 1.0 0.9 1.0 1.0 1.0 0.8823529411764706 17 1.0 4 14 21 73	Error on page : amp-ad-network-doubl ???ick-impl- 0.1 . js : 519 . What's the issue ? Error looks it suggests an issue on Amp-Ad Briefly describe the bug . Error looks it suggests an issue on Amp-Ad How do we reproduce the issue ? Opt into Canary/RC Open JavaScript Console Open < URL > What browsers are affected ? macOSX Chrome Version 76.0.3809.87 Which AMP version is affected ? Canary/RC Version : 1908061758110 Note : @zhouyx , @lannka is this a blocker to promote to 1% ?	1	0
1 1 1.4 1.0 1.1 1.0 1.35 1.0 1.0 1.0 0.0 0 0.0 1 1 6 31	Automatically restart a Web Story . Describe the new feature or change to an existing feature you'd like to see A user of the Web Stories for WordPress plugin requested a way to make a Web Story loop . User can use the button to go back to start , but there?????? no functionality to automatically do that . Submitting this as a feature request to have amp story player consider adding support for looping a story . Describe alternatives you've considered N/A Additional context Related topic in the Web Stories WordPress support forum : < URL > < URL >	2	1
2 2 1.4 1.0 1.4 1.0 1.35 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 2 17 95	Validator : Allow additional print-specific style similar to keyframes-specific style . In the continual effort to keep CSS less than 50KB , one segment of the custom CSS has emerged as a candidate for removal : the print styles . When running CSS code coverage to try to identify which rules could be removed , I noticed ( expectedly ) none of the print styles would ever apply to the page as I tried various breakpoints . In particular , < URL > from the Twenty Nineteen theme for WordPress was checked . After the AMP plugin's tree shaking , there is still ~ 3KB of print-specific CSS left in the : style[amp-custom ] . . However , this CSS does not make sense to be included in the : head . of the page as it is not in the critical path for rendering . Proposal : In the same way as there is a : style[amp-keyframes ] . element ( #9625 ) that appears at the end of the : body . , there could similarly be a : style[amp-print][media = print ] . element that appears toward the end of the : body . . This could have a 50KB limit similar to : style[amp-custom ] . , though in reality it would normally be less . By having a print-specific : style . element , more breathing room would be given for critical rendering styles , and in all cases we can reduce the amount of CSS served in the : head . . This idea comes from a discussion with @Gregable at CDS last week .	2	1
0 0 0.8 0.0 0.9 1.0 0.75 0.5 0.6666666666666666 0.0 0.7323943661971831 71 1.0 6 11 27 71	Cannot read property ' complete ' of null . looks like there are instances where : this . img_ . does not exist during unlayoutCallback < URL > /cc @jridgewell @mattwomple : Cannot read property ' complete ' of null at complete ( < URL > at unlayoutCallback ( < URL > at unlayoutCallback ( < URL > at unlayout ( < URL > at unload ( < URL > at forEach ( < URL > at ( < URL > at setState ( < URL > at doPass ( < URL > .  	0	0
2 2 1.8 2.0 1.8 2.0 1.6 2.0 2.0 2.0 1.0476190476190477 21 1.0 2 14 25 69	Add action to open amp-lightbox-gallery in overview mode . Describe the new feature or change to an existing feature you'd like to see I would like the option to open : amp-lightbox-gallery . to a specific image or in overview mode by clicking a non-image element . Currently , images are only viewable in : amp-lightbox-gallery . by clicking on an image with the : lightbox . attribute . CC : @sebastianbenz	2	1
1 1 0.6 1.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 1.0 36 1.0 4 7 14 89	[ Master feature ] amp-consent support in amp-story . Bring the feature described in #13716 into amp-story .  	0	1
0 0 1.0 1.0 0.8 1.0 0.95 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 1 2 8	amp-twitter module script has non-disappearing placeholder . Description We got a recent report on the AMP WordPress < URL > , that Twitter embeds have a non-hiding placeholder . Upon investigation , we found out that the issue seems to be related to the ESM module scripts only . ( < URL > ) Reproduction Steps You can view bugs on the < URL > Relevant Logs : Uncaught ( in promise ) ReferenceX is not defined at r ( twitter . mjs : 1 ) at i ( twitter . mjs : 1 ) at twitter . mjs : 1 r @ twitter . mjs : 1 i @ twitter . mjs : 1 ( anonymous ) @ twitter . mjs : 1 Promise . then ( async ) ( anonymous ) @ twitter . mjs : 1 ( anonymous ) @ twitter . mjs : 1 load ( async ) ( anonymous ) @ twitter . mjs : 1 ( anonymous ) @ twitter . mjs : 1 e . < computed > @ twitter . mjs : 1 ht @ twitter . mjs : 1 ( anonymous ) @ twitter . mjs : 1 window . draw3p @ twitter . mjs : 1 ( anonymous ) @ frame . html : 15 . ``` Browser(s ) Affected No response OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected 2110082201001  	0	0
2 2 1.2 1.0 1.4 1.5 1.5 2.0 1.3333333333333333 1.0 0.0 0 0.0 2 14 23 99	Cleanup experiment flag for window . context implementation . Tracking issue #8087 Experiment name : 3p-use-ampcontext .	1	0
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 1.1136363636363635 44 1.0 3 3 21 72	Session breaks in Google Analytics when user navigates from CDN proxy to pub origin . If user visit from : example-com.cdn.ampproject.org . to : example.com . , the referrer on the 2nd page has domain of : example-com.cdn.ampproject.org . . Google Analytics will reset session because it's considered as a different domain . Setting the referrer to null in this case will fix the issue because it forces Google Analytics to take it as same domain referrer . /cc @avimehta @cramforce [  ] 	0	0
1 1 1.2 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.5 2 1.5 1 6 19 89	create broadcast api . add broadcast api to < URL >  	1	2
1 1 1.0 1.0 1.0 1.0 0.9 1.0 1.3333333333333333 1.0 0.0 0 0.0 2 3 5 18	Resize Event not affecting width on amp-ad container . Related to < URL > Since this is closed , open a new issue . Height is tested again and work's fine now , but width doesn't proceed till the end . I'm calling : window . context . requestResize(320 , 50 ); . and the iframe itself is resized to 320/50 and height and width attributes of the amp-ad container also but the style looks like this : : width : 300px ; height : 50px ; . Width has not been actualized . Please fix . You can check out on : < URL > [ improved ] 	0	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 0.6666666666666666 1.0 1.3741496598639455 147 1.0 4 16 49 121	Enable a `noswipe` mode for AMP document . Certain platforms that embed AMP documents may like to take full control of horizontal swipes ( e.g. a swipe is always navigating between AMP documents ) . This means components such as : carousel . and : lightbox-gallery . would need to enabled their non-touch alternatives ( e.g. show the controls ) when in this mode . This is fairly similar to mouse-mode except semantically different , there are things we do in mouse-mode that we don't want to do in this mode . This mode must be configurable through Url params . see b/37090215 for details . /cc @cathyxz @ericlindley -g	2	1
2 2 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 2.0 1.412280701754386 114 1.0 2 19 26 72	amp-img : detect aspect ratio mismatch in JS and apply object-fit : contain ( unless author has specified a different object-fit ) . Distorted images have been an issue in AMP , they are normally due to wrongly specified width/height attributes that do not match the natural aspect ratio of the image . We did some work back in 2016 that handled a big chunk of these issues in : amp-carousel . if they got the aspect ratio wrong . See < URL > and < URL > However these efforts only handle the issues in carousel and only in certain cases ( e.g. if : amp-img . is a the slide itself and not nested in another slide ) . One potential fix for this that expands the fix beyond carousel and handles more error cases includes : 1- Detect natural ratio ( doable cheaply in JS after images loads ) 2- Compare with specified ratio 3- If mismatch AND author has not defined a : object-fit . other than default , auto-apply : object-fit : contain . . Brainstorming is needed to make sure this is backward compatible before implementation . /cc @ericlindley -g @dvoytenko @camelburrito	2	1
0 0 0.8 1.0 0.7 0.5 0.5 0.0 0.3333333333333333 0.0 0.9210526315789473 38 1.0 5 7 16 71	Uncaught Referencemodule$build_system$global_configs$caches_json is not defined . : amp-story-player . is throwing the following error : : Uncaught Referencemodule$build_system$global_configs$caches_json is not defined . Causing the player to stop loading . This is because in #27658 we import the : caches . json . found in : build-system/ . , but it looks like it's not bundled in production . /cc @ampproject /wg-stories  	0	0
1 1 0.8 1.0 0.8 1.0 1.15 1.0 0.6666666666666666 1.0 1.25 4 1.5 1 3 8 75	Unabe to test with -- files = test-amp-ad-3p . js . I'm running into some issues within the test file : test/integration/test-amp-ad-3p . js . and attempted to run it separately : : gulp test -- files = test/integration/test-amp-ad-3p . js . But got DOM timeout errors which I didn't get when running : gulp test . : Which were caused by javascript errors in chrome : Seems that some library is getting included elsewhere . Also ... wouldn't it make sense to surface chrome console errors ?	2	0
0 0 1.0 1.0 1.0 1.0 1.0 1.0 0.3333333333333333 0.0 1.1153846153846154 26 1.0 3 8 27 76	Fix two flaky tests in `test-custom-element . js` . This test became flaky on Chrome 71 , disabled in PR #19750 Tests are : * ' should apply media condition ' * ' should apply sizes condition '  	0	0
0 0 1.0 1.0 0.8 0.5 1.0 1.0 1.3333333333333333 2.0 1.1 40 1.0 1 8 24 88	Cursor positioning incorrect after partial input and blur . Type a few ( e.g. 2 ) numbers on CC field , blur , then refocus : cursor is in the wrong place . Typing a number leaves a gap .	1	0
2 2 1.0 1.0 0.9 1.0 0.85 1.0 1.3333333333333333 1.0 1.1176470588235294 51 1.0 3 4 19 73	FR : Propagate font-face definitions in ShadowDOM to work around Chrome bug . Issue opened from #12098 . This issue aims to work around the following Chrome bug : < URL > The HTML spec declares that font-face definitions are allows in ShadowRoot CSS , but Chrome does not support this . AMP can fix this support by propagating ShadowRoot font-face definitions to the parent document . Areas for concern : 1 . Will this add an extra Flash of Unstyled Text ? 2 . What if a font with the same name and a different file is already in the parent document ? 3 . How will this affect the bundle size of non-Chrome browsers ? /to @prateekbh for prioritization /cc @gilbertococchi	1	1
0 0 0.8 1.0 0.9 1.0 1.2 1.0 0.6666666666666666 0.0 1.456140350877193 57 2.0 6 18 30 126	parallax : multiple parallax items break .	1	0
0 0 1.0 1.0 1.1 1.0 1.0 1.0 0.3333333333333333 0.0 0.6056910569105691 246 1.0 1 1 1 9	[ Story video ] Add codec information received from video cache . Description Add codec information received from video cache . The : type . parameter should include the codecs , e.g. : type='video/mp4;codecs=vp9 ' . , from the JSON response we receive : : ' sources ' : [ { ' url ' : ' url ' , ' codec ' : ' h264 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 400 } , { ' url ' : ' url ' , ' codec ' : ' vp 09.00.21.08 ' , ' type ' : ' video/mp4 ' , ' bitrate_kbps ' : 276 } ] , . < URL > cc @ampproject /wg-stories Alternatives Considered - Additional Context No response  	0	1
0 0 0.6 0.0 0.7 1.0 0.7 1.0 0.3333333333333333 0.0 1.4264705882352942 68 2.0 3 8 10 75	Component does not get layout using `AMP . show()` action in A4A case . Visit : < URL > Tap ' Watch Video ' , notice that video does not play . Inspect the DOM , notice that : amp-video . never got layed out . This pages uses : show . action to make the video container visible . It works 100% of the time locally or when served locally through A4A envelope ( e.g. localhost : 8000/a4a/example . amp ) but not on AmpByExample where A4A creative is served from DoubleClick . ( You can find the same creative code < URL > for testing locally ) /to @dvoytenko /cc @alanorozco	1	0
1 1 1.4 1.0 1.2 1.0 1.3 1.0 1.0 1.0 0.9206349206349206 63 1.0 1 5 14 69	Fix all tests in `test/unit/test-ie-media-bug . js` that rely on a global `sinon` sandbox . In #23842 and #25587 , we're eliminating the use of the global : sinon . sandbox in our tests . The new way to access the sandbox is via : window . sandbox . for legacy : describe . tests , and via : env . sandbox . for : describes . tests . ( There's a new presubmit check to enforce this . ) When the cleanup was done for : test/unit/test-ie-media-bug . js . tests , a couple of tests are no longer passing , likely because they depended on the presence of a global : sinon . sandbox in some indirect way . These tests will be skipped by #25587 . This issue is to make sure the tests are fixed and unskipped . /cc @ampproject /wg-ui-and-a11y	1	0
2 2 1.0 1.0 0.9 1.0 0.9 1.0 1.3333333333333333 2.0 0.0 0 0.0 9 22 30 125	amp-accordion with animate flickers . What's the issue ? If you create an amp-accordion with multiple sections and give the accordion the animate property every section except the last one flickers when clicked . This problem is visible on the ampbyexample website too ( < URL > in the section Animated Accordions How do we reproduce the issue ? Just look at the ampbyexample website What browsers are affected ? I have tested this on mac os chrome and safari ios Which AMP version is affected ? version 1531800879103	1	0
0 0 0.8 1.0 0.8 1.0 0.7 1.0 0.3333333333333333 0.0 2.0 1 2.0 2 3 6 30	Web Stories preview in FireFox browser has virtual devices spilling off screen . Description When using the preview function in Web Stories from a FireFox browser the virtual devices displayed are spilling off the screen . If you minimise the browser window to a certain level they will disappear entirely and aren't responsive . This only seems to happen when using a FireFox browser and other browsers do not do this . Screenshot with browser window maximised : Screenshot with browser window smaller : Reproduction Steps Open up a Web Story in the editor mode . Select the Preview option . Minimise/maximise the browser window size . Relevant Logs No response Browser(s ) Affected Firefox OS(s ) Affected No response Device(s ) Affected No response AMP Version Affected No response	1	0
1 1 1.6 2.0 1.7 2.0 1.35 1.5 1.6666666666666667 2.0 0.375 16 0.0 5 10 18 99	Append story toast messages in the story instead of in the body . . We want to start supporting having multiple stories in the same document . Right now , toast messages are < URL > . They would be positioned against the body , when we want them to stay inside the story . Appending them in the : amp-story . element should fix this future positioning issue .	2	1
0 0 0.8 1.0 0.7 0.5 0.75 1.0 1.0 1.0 0.85 20 1.0 4 14 18 84	Exit expanded view on `ESC` or `Back` key press . ESC and/or back keys on the keyboard / soft keyboard should exit the lightbox/expanded view of an embedded component .	1	0
1 1 1.4 1.0 1.4 1.5 1.3 1.0 1.6666666666666667 2.0 0.96875 64 1.0 2 2 13 80	[ amp-story-player ] Fetch more stories from endpoint . We should allow publishers to specify an endpoint where more stories could be loaded once the user reaches the end of stories currently available in the client side . The publisher configuration will look like the following : : < amp-story-player > < script type='application/json'> { ' behavior ' : { ' on ' : ' end ' , // for future-proofing ' action ' : ' fetch ' , // or circular-wrapping ' distance ' : ' 2 ' , // could come later as a new feature ( controls how far in advance the stories should be loaded ) ... } , ... } < /script > < /amp-story-player > . The endpoint should return a JSON with the following structure to represent a story : : { { href : string , title : ? string , poster : ? string , } , ... } . @ampproject /wg-stories  	0	1
1 1 1.2 1.0 1.1 1.0 0.85 1.0 1.0 1.0 0.6588235294117647 85 1.0 4 5 13 75	Story hold to pause sometimes doesn't resume the animations . . Story hold to pause sometimes doesn't resume the animations .	1	0
1 1 1.2 1.0 1.1 1.0 1.05 1.0 1.0 1.0 0.0 0 0.0 3 12 16 82	MAX_FREE_MUTATION_HEIGHT in amp-script is too low . What's the issue ? The < URL > is too low to be actually useful How do we reproduce the issue ? create an amp-script with a fixed height of > 300px Which AMP version is affected ? master	2	0
1 1 0.8 1.0 0.8 1.0 0.9 1.0 0.3333333333333333 0.0 1.5 8 2.0 1 7 12 37	Generic binding protocol ( amp-bind ) . Tracking issue for developing a generic binding protocol to enable a set inter-element behaviors in AMP Potential behaviors : - Carousel thumbnails update main carousel index ( and visa-versa ) - < URL > - < URL > - < URL > - Form field dependencies - < URL > - Element tap expands non-contiguous : < amp-accordion > . - Composible : < amp-lightbox > . groups - Tooltips - Trigger CSS class and value changes on scroll ( sticky headers , animations on scroll ) - Trigger attribute change on window width - Custom video controls cc/ @rudygalfi @cramforce @dvoytenko @aghassemi  	0	1
0 0 0.8 1.0 0.9 1.0 1.25 1.0 1.0 1.0 0.8085106382978723 47 1.0 5 7 24 112	?????????add cssBinaries options for extra css outputs for an extension . option will look like : : declareExtension('amp-user-notification ' , ' 0.1 ' , { hasCss : true , cssBinaries : [' my-second-css ' ] }); .  	0	1
0 0 0.6 0.0 0.9 1.0 1.25 1.5 0.6666666666666666 0.0 1.03125 32 1.0 0 1 5 38	amp-brightcove should not be able to dock when autoplaying . ?????????2021/03/10 : : dock . has been disabled on : < amp-brightcove > . elements . The vendor should update the player documents loaded by AMP so that they don't autoplay without user interaction , at which point : dock . can be re-enabled . An autoplaying video can only be docked after a user interacts with it by clicking . That's not the case on the : < amp-brightcove > . video on < URL > . Investigating .	1	0
1 1 1.2 1.0 1.0 1.0 1.05 1.0 1.0 1.0 1.0434782608695652 23 1.0 3 7 14 64	Failed to execute ' assign ' on ' Location ' . Failed to execute ' assign ' on ' Location ' : Blocked a frame with origin ' < URL>' from accessing a cross-origin frame . at assign ( < URL > at ( < URL >	2	0
1 1 0.6 1.0 0.8 1.0 0.9 1.0 1.0 1.0 0.0 1 0.0 1 9 27 88	When close lightbox on chrome for ios got redirected to search results instead keep in the same page . What's the issue ? When click to close lightbox on chrome for ios i got redirected to search results How do we reproduce the issue ? Open chrome on ios search for amp by example lightbox open the lightbox demo page open lightbox demo close it What browsers are affected ? Chrome for ios Which AMP version is affected ? i guess all versions	1	0
1 1 0.6 0.0 0.6 0.0 0.95 1.0 1.0 1.0 1.1538461538461537 13 1.0 3 6 9 74	Wrong measurement in resize event in ios 10.3 . Brought up in < URL > Related webkit bug : < URL > Figure out a way to measure the sizes correctly after resize/orientationchange event in 10.3	1	0
2 2 1.2 1.0 0.8 1.0 1.05 1.0 1.6666666666666667 2.0 1.1375661375661377 189 1.0 2 10 11 35	[ amp-story ] Video playback not working in some players . Something really odd is going on : ( 1 ) find a video in a story ( 2 ) while the video is playing , swipe to next ( 3 ) swipe back ( 4 ) hold to pause Result : The video won't pause ( although the system layer goes away , so I know the runtime is handling the event ) ( 5 ) swipe to next ( 6 ) swipe back Result : Video won't play . No amount of swiping will fix ; only tapping to next and back . Assuming this is a format bug , but not 100% certain . Not sure if this is related to touch events , document visibility state , video lifecycle , or something else . Tested in Google's player in their < URL > on Android .  	0	0
2 2 0.8 1.0 1.1 1.0 1.05 1.0 0.6666666666666666 0.0 1.5 24 2.0 3 4 13 51	FR : Expose results from HTML5 Geolocation API to AMP . Expose results from HTML5 Geolocation API to AMP : e.g. for bindings to amp-list[src ] , once the user has consented , give developers the ability to send lat/long information along with the server call so as to provide personalized results in response , based on geo /cc @aghassemi @choumx	1	1
1 1 0.8 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 5 23 131	Structured data not detected by Google Search Console . What's the issue ? After switching to AMP , our website took a 40% nose dive in clicks . Our structured data also doesn't get picked up in Google Search Console . How do we reproduce the issue ? We are switching back to HTML to mitigate the damage the AMP migration has done , so there will be no live site on which to repro the issue . What browsers are affected ? Browser independent . Which AMP version is affected ? Has been broken ever since we started using AMP on our live site ( version 1809142227020 ) .  	1	2
2 2 1.6 2.0 1.3 1.5 1.25 1.5 1.6666666666666667 2.0 1.1 50 1.0 4 8 29 102	Make media-based auto-advance progress bar animation more smooth . Per MDN , the < URL > event is ' thrown between about 4Hz and 66Hz ' , so we may need to do additional transition states on the progress bar segments to make it appear smooth even when we don't know it will be .	1	0
2 2 1.6 2.0 1.4 1.0 1.25 1.0 1.6666666666666667 2.0 0.0 0 0.0 2 2 4 50	Allow cross-origin attr for amp-iframe . Describe the new feature or change to an existing feature you'd like to see On the firefox browser , we are getting this error : : CookieBlockedForeign = Request to access cookies or storage on ???X ???was blocked because we are blocking all third-party storage access requests and content blocking is enabled . . According to the < URL > , we can fix this by adding a : crossorigin = anonymous . attribute to the relevant element . However , : amp-iframe . does not allow this attribute . It was added for : amp-video . < URL > , could we get it added for : amp-iframe . as well ? Or is there another way around this that I am not aware of ? Thanks Describe alternatives you've considered Not aware of any alternatives we can use here .	2	1
0 0 0.8 1.0 0.8 1.0 0.75 1.0 1.0 1.0 0.0 0 0.0 2 5 20 74	amp-form not submitting in Edge 14 . What's the issue ? amp-form via xhr not submitting at least in Edge 14 . How do we reproduce the issue ? Problem noticed on a private website , nevertheless it also exists on other amp-form powered websites , most prominently in the examples provided by the Project itself : < URL > What browsers are affected ? At least Edge 14 , IE11 . Latest Chrome , Firefox , Opera and Safari seems not affected Which AMP version is affected ? Version 1902151859190 Not quite sure , never realized it before , I'm guessing it's a new issue .  	0	0
0 0 1.2 1.0 1.3 1.0 1.35 1.0 1.0 1.0 1.1538461538461537 65 1.0 1 3 9 60	Provide a way to collect user consent to write cookie . Similar to CLIENT_ID . We need a way to block cookie writing ( what about cookie reading ) by user consent . cc @jeffjose	1	1
1 1 1.4 1.0 1.3 1.0 1.05 1.0 1.3333333333333333 1.0 1.0 4 1.0 1 3 8 69	Augment AdSense/Doubleclick Ad Ursl to indicate remote HTML and future RTC usage . Fast Fetch currently does not support remote HTML causing fallback to delayed fetch until #8551 is released and publishers move to the new implementation . In order to track this effort , ad new parameter to AdSense/Doubleclick urls indicating if remote HTML , RTC , or neither were used . cc/ @ampproject /a4a  	1	2
1 1 1.0 1.0 1.4 1.5 1.5 2.0 1.0 1.0 0.0 0 0.0 9 9 21 83	Provide a mechanism for a custom video play/pause button . Describe the new feature or change to an existing feature you'd like to see Here's the specific use case : There's that popular WordPress theme that has a looping video header . It has a button in the top right corner for people to pause the video , or resume looping again . It's a toggle button , so if the video is currently looping , it is labeled ' Pause ' , and when you click it , the label changes to ' Play ' for the resume action . I would like to be able to replicate this behavior with : < amp-video > . . The most simple option would be to have an additional action : toggle . next to : play . and : pause . . Another simple solution would be to be able to use : amp-bind . to bind the ' playing ' state of the video to a variable I can control . This would then be guaranteed to sync with the label of the button . Describe alternatives you've considered I looked at the < URL > and I think it would solve the problem as well once it is implemented and deployed . However , it would be hugely complicated for this particular use case , where a simple toggle is needed . If I understand correctly , this would entail adding two conditional macros , just to get this toggle working . Additional context Here's a link to the origin issue : < URL >	1	1
0 0 0.8 1.0 0.8 1.0 0.8 1.0 0.6666666666666666 0.0 0.0 0 0.0 1 5 20 78	3P iframe ads failed to show on Safari . What's the issue ? AMP Iframe not loading in salari browsers . : Blocked a frame with origin ' < URL>' from accessing a frame with origin ' < URL>' . Protocols , domains , and ports must match . . How do we reproduce the issue ? < URL > On checking this url in any salari browser ( desktop or mobile ) it will throw the blocked iframe error in console without inserting the iframe . What browsers are affected ? Safari - Desktop and Mobile	1	0
0 0 1.2 1.0 1.4 1.5 1.45 2.0 1.0 1.0 1.25 44 1.0 3 6 12 95	Support amp-carousel to pause after it loops X times . The specific FR is for AMPHTML ads where ads policy might mark an ad as spam if it continues to rotate without ever stopping but I can see this extend to use in regular web pages as well . Most probable usecase might for the carousel loop just once and then reset to the first image in the carousel . CC @aghassemi	1	1
2 2 0.6 0.0 0.7 0.5 0.75 1.0 0.6666666666666666 0.0 0.9230769230769231 65 1.0 5 11 16 77	Multiple runtime tests fail on Safari ( Sauce Labs ) because `atob` and `btoa` can't be found . Logs : < URL > I'm skipping a handful of crypto unit tests on Safari . They'll still run on Linux Chrome and Firefox . Unblocks #25587	2	0
1 1 0.8 1.0 1.0 1.0 1.15 1.0 1.0 1.0 0.9166666666666666 36 1.0 1 2 9 37	Navigation is stuck after tapping quickly in an amp-story . Go to any story ( e.g. < URL > Tap quickly to navigate forward . Tap quickly to navigate backwards . After some combination of steps 2 and 3 I've found that navigation is stuck . The progress bar is not updated and I can't leave the current page . Tested on iOS 13.3 with Chrome and Safari . Maybe related to #25020 /cc @ampproject /wg-stories	1	0
2 2 1.4 1.0 1.2 1.0 1.05 1.0 1.3333333333333333 1.0 1.452054794520548 73 2.0 1 4 20 120	[ Master feature ] Ideation to better support for dynamic content . Developers have a range of options in AMP for supporting dynamic data ( data that changes based on user-related parameters ) when served from a cache : amp-list , amp-geo , amp-bind , etc . However , AMP does not currently offer good support for a number of remaining use cases . This issue tracks the task of identifying additional use cases and brainstorming with core AMP contributors how to better support a broader range of dynamic data in AMP Use-cases : cases where large portions of page content are customized per user customization for sub-country geographic areas [ other use cases to be added here ]	1	1
1 1 1.2 1.0 1.4 1.5 1.15 1.0 1.0 1.0 1.2727272727272727 22 1.0 8 16 28 100	[ amp-consent ] Support inline postPromptUI . Problem : currently , the postprompt UI needs to be within the amp-consent element . This has two problems : 1 ) It's hard to position the UI as amp-consent already uses : position : fixed . which means using : position : fixed . for the postPromptUi is not possible ( e.g. < URL > is currently broken on Safari for this reason ) . : < amp-consent id='myUserConsent ' layout='nodisplay'> < script type='application/json'> { ' consents ' : { ' consent1 ' : { ' checkConsentHref ' : ' /samples_templates/consent/getConsent ' , ' promptUI ' : ' consentDialog ' } } , ' postPromptUI ' : ' post-consent-ui ' } < /script > < div id='consentDialog'> ... < /div > < div id='post-consent-ui'> ... < /div > < /amp-consent > . 2 ) It's not possible to position the postprompt UI inside the normal page flow ( e.g. inside a menu ) . Suggestion : make it possible to position the postprompt UI outside the page flow if it's combined with the hidden attribute . : < amp-consent id='myUserConsent ' layout='nodisplay'> < script type='application/json'> { ' consents ' : { ' consent1 ' : { ' checkConsentHref ' : ' /samples_templates/consent/getConsent ' , ' promptUI ' : ' consentDialog ' } } , ' postPromptUI ' : ' post-consent-ui ' } < /script > < div id='consentDialog'> ... < /div > < /amp-consent > <!-- this can be positioned anywhere --> < div id='post-consent-ui ' hidden > ... < /div > . //cc @zhouyx @rudygalfi  	1	2
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.3333333333333333 1.0 1.5 12 2.0 3 9 22 54	Elaborate error message for amp-script with attribute data-ampdevmode . In #27076 , we made it legal to use : data-ampdevmode . on an : < amp-script > . component even if the attribute was not included on the root html node . An example : : < html ???lang='en'> ... < amp-script layout='fixed ' height='300 ' width='200 ' data-ampdevmode > ... < /html > . This approach works ! However , it throws a validation error in the Chrome extension , even though it doesn't throw one in the Console : : The attribute ' data-ampdevmode ' in tag ' amp-script ' is set to the invalid value '' . .	2	0
0 0 0.8 1.0 0.9 1.0 0.95 1.0 1.0 1.0 0.0 0 0.0 0 2 9 71	AMP's srcset/sizes is different from browser's native implementation . What's the issue ? AMP's sizes attribute doesn't work in the same way as a browser's native implementation . AMP-IMG tag doesn't seem to be respecting the width of the element set by SIZES attribute and ends up loading the image based on the entire viewport width . This was pointed out by our client . The test was done on a desktop browser . This does not happen normally as users will generally only land on AMP pages from a mobile device and these devices generally have a width below 600px . I'am mentioning the issue here just in case it's possible to address this difference . How do we reproduce the issue ? Please disable caching through ' Developer Tools ' > ' Network ' tab > ' Disable Cache ' then try out the following links on desktop to observe the difference . Note : sizes='300px ' in both the following cases . Native Implementation : < URL > AMP Implementation : < URL > For reference : Here is a screenshot of the output on a 1920x1080 -> < URL > What browsers are affected ? Tested on Google Chrome ( Desktop ) Which AMP version is affected ? 1506977814714  	0	0
1 1 1.6 2.0 1.4 1.5 1.25 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 11 21 83	Google Ads - pause after 30 seconds ( amp-animation ) . Describe the new feature or change to an existing feature you'd like to see Google Ads require animation to stop after 30 seconds . Imagine you have a 7-second animation that loops . There need to be a property in amp-animation to specify the timeout when animation need to be paused . Describe alternatives you've considered Provide a clear and concise description of any alternative solutions or features you've considered . Additional context  	2	2
1 1 0.6 0.0 1.0 1.0 1.05 1.0 1.0 1.0 1.0 25 1.0 5 11 21 113	Cannot call open action on amp-lightbox until lightbox has already been opened . This is because : amp-lightbox . doesn't register the actions until the : initialize_ . function is called , which is only called after the lightbox has been opened . This hasn't been an issue so far because our docs say to call the : open . action by calling using the default action syntax e.g. : on='tap: my-lightbox ' . . Should be resolvable by moving the registerAction calls into : buildCallback . like : amp-accordion . does .  	0	0
2 2 0.8 1.0 0.9 1.0 1.05 1.0 1.0 1.0 1.5454545454545454 11 2.0 1 3 10 34	Consider adding `box-sizing : border-box ! important` to `-amp-fill-content` . Related to < URL > but risker so it should be tested properly . If we endup doing this , we can remove : amp-iframe > iframe { box-sizing : border-box ! important ;} . introduced in < URL > Technically adding : box-sizing : border-box ! important . to : -amp-fill-content . should only affect cases where the element with : -amp-fill-content . has : 1- default padding/border from UA's builtin css ( like iframe ) 2- AMP css has set padding/border on it 3- page author has custom CSS for : amp-x > -amp-fill-content . or : amp-x > InnerElement . which sets padding/border . If there are cases like above , they should already be behaving strangely as the element with : -amp-fill-content . should be overflowing its parent causing small scrolling slack ( like the one found in #5137 ) @cramforce @sriramkrish85 @jridgewell	2	0
1 1 0.6 0.0 0.9 1.0 1.05 1.0 0.3333333333333333 0.0 0.6627906976744186 86 1.0 6 12 17 83	AMP linker not working with Stories bookend links . . AMP linker not working with Stories bookend links . To repro : Navigate to < URL > Navigate to the last page of the story and click on the CTA . GOOD : notice the : _gl . GET parameter that has been added to the URL by the AMP linker Click on the link from the bookend BAD : notice how this parameter has not been added  	0	0
1 1 1.2 1.0 1.1 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 1 0.0 2 9 13 85	amp-date-picker : ' locale ' attr maybe unavailable right now . I have set the locale attr to ' zh-hk ' , but it still show English . It's not working now ?  	0	0
0 0 0.8 0.0 0.6 0.0 0.8 1.0 0.6666666666666666 0.0 1.0 24 1.0 3 8 12 57	Access to font has been blocked when looking at CNN . What's the issue ? : Access to font at ' < URL > from origin ' < URL > has been blocked by CORS policy : No ' Access-Control-Allow-Origin ' header is present on the requested resource . . Briefly describe the bug . When searching for CNN articles , lots of font errors are displayed How do we reproduce the issue ? Opt-in Canary/RC Open Java console Search for CNN What browsers are affected ? macOSX Chrome : Version 77.0.3865.90 Which AMP version is affected ? Canary/RC Version : 1909181902540 @sparhami if this isn't a UI font issue please re-assign .	1	0
1 1 1.0 1.0 1.3 1.0 1.0 1.0 1.3333333333333333 1.0 1.5 4 1.5 0 2 13 75	amp-bind : Initial amp-state with falsy value is not recognized . Given the following state : : < amp-state id='count'> < script type='application/json'>0</script> < /amp-state > . Doing : AMP . printState () . yields an empty object : This also causes a warning to be raised with the following code : : < input [ value]='count ' type='number ' value='0 ' readonly > . Since the : count . state is : null . , a warning is issued : Default value ( 0 ) does not match first result ( null ) for . We recommend writing expressions with matching default values , but this can be safely ignored if intentional . If the value is changed from : 0 . to : 1 . then it is recognized : And there is no corresponding warning . So there appears to be a problem with parsing the JSON . Perhaps a parsed value of : 0 . is incorrectly being interpreted as a parse failure ? Tested in AMP v1906282130140 on Chrome 75 .	2	0
2 2 0.8 1.0 1.1 1.0 1.05 1.0 1.0 1.0 1.3125 16 1.5 1 5 18 61	[ amp-bind ] amp-list evaluation does not wait for amp-state's src request to be resolved . Bindings are evaluated when an amp-list template is rendered . However , these bindings don't wait until an amp-state's remote src has been resolved ( which they should to ensure an deterministic behavior ) . Example : An amp-state element using a JSON endpoint : : < amp-state id='favorite ' credentials='include ' src='/favorite-with-count ? RANDOM'> < /amp-state > . The amp-list binds an element to the amp-state : : < amp-list ... src='/favorite-with-count ? RANDOM'> < template type='amp-mustache'> < div class='favorite-count ' [ text]='favoriteWithCount . count ? favoriteWithCount . count : ''' > {{ count }} < /div > < /template > < /amp-list > . This results in a race-condition , where the text is either : null . or : 123 . depending on whether the amp-state has already been resolved or not . I noticed this while working on this sample : < URL > //cc @choumx @ericlindley -g	1	0
2 2 1.0 1.0 1.4 1.5 1.15 1.0 1.0 1.0 1.0 4 1.0 4 9 15 66	Consider a spec modification or way to double count story page visibility . From @rudygalfi in newmuis/amphtml-story #155 : The current spec only fires when a story page becomes visible the first time . We should either make it so it fires every time ( e.g. you navigate back ) or have a way to customize the behavior via a storyPageVisibilitySpec JSON or something .	2	0
1 1 1.2 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.5 2 1.5 0 0 0 9	Validator : add fragment validation API . This API will eventually replace the current version of : sanitizer . js . . Its intent is to enable validation for the outputs produced by templates . The new API will look like this : : /** * @param { string } html * @return { ! Promise < string > } */ amp . validator . validateFragment = function(html ) {} . Some specifics : 1 . The preamble/structure validation checks will be turned off such as overall HTML structure , HEAD , etc . 2 . The : < script custom-element > . and : < script custom-template > . checks will be off . 3 . We can assume that the fragment will always have a single root element . 4 . The validator has a promisable protocol for easy execution via web workers . 5 . Ideally we'd produce a separate binary for this API to enable DCE given that the reduced download size is important here . 6 . Unlike the main validator , this validator should simply sanitize content - strip undesired elements/attributes rather than simply throw exceptions .	2	0
0 0 1.4 2.0 1.3 1.0 1.2 1.0 1.0 1.0 0.0 0 0.0 6 13 22 87	FR : Ability to cancel `AMP . scrollTo()` . I make a smooth scrolling page for reading . : < div class='prokr ' role='button ' on='tap:fbcom . scrollTo(duration = 50000 )' ></ div > . How to stop scrollTo ???	2	1
1 1 1.2 1.0 1.3 1.5 1.1 1.0 0.6666666666666666 1.0 0.8275862068965517 29 1.0 1 9 20 87	Cross site scripting vulnerabilities present in app . js and amp4test . js . LGTM.com is reporting 5 cross site scripting vulnerabilities in our source code due to non-sanitized user input . < URL > < URL > < URL > < URL > < URL > See < URL > for the full list See < URL > for how to fix these issues	1	0
1 1 1.2 1.0 1.1 1.0 0.9 1.0 1.0 1.0 1.0 1 1.0 6 21 47 128	amp-sidebar with toolbar will open then immediately close . What's the issue ? : amp-sidebar . with toolbar will open then immediately close ( on both ' toggle ' and ' open ' actions ) as of 1528247370025 . How do we reproduce the issue ? It can be reproduced on ampbyexample.com: < URL > Clicking on either of the two bottom ' Toggle Sidebar ' buttons will cause the sidebar to open then immediately close . What browsers are affected ? Tested in Chrome 67 , Firefox 52 and Microsoft Edge . Which AMP version is affected ? This is a new issue , first observed today . Latest prod AMP version 1528247370025 .  	0	0
0 0 0.4 0.0 0.7 1.0 1.0 1.0 0.6666666666666666 1.0 1.0 4 1.0 11 12 37 76	amp-fi t-t ext is not truncating overflowing text with ellipsis in all cases . What's the issue ? amp-fi t-t ext is not truncating overflowing text with ellipsis in all cases How do we reproduce the issue ? < URL > < URL > Navigate to either link The text under each image , if there is any , should be limited to 3 lines , if over it should truncate and end with an ellipsis . There are several cases on each page where the text is not truncated with an ellipsis . An example on the London page is the text ' We Asked 25 Londoners the Coolest Things to Do in Their ' . There is no ellipsis . The examples on the JP page show no ellipsis and you can see the top of the next line . If this is a feature request you can use this section to point to a prototype/mockup that will help us understand the request . What browsers are affected ? All browsers Which AMP version is affected ? 1516337355291 , we just started using the extension .	2	0
2 2 1.0 1.0 0.8 1.0 0.85 1.0 1.3333333333333333 1.0 0.6327433628318584 226 1.0 1 1 9 38	Migrate localization files to JSON format . To be compatible with third party translation services , our localized strings files should be using the JSON format . cc @ampproject /wg-stories  	0	1
1 1 0.6 0.0 1.0 1.0 1.05 1.0 0.3333333333333333 0.0 0.9411764705882353 17 1.0 3 3 13 36	Add `amp_video_host_url = ... ` on the video cache request . When requesting the video cache , we need to add the queryParam : amp_video_host_url = ... . with the canonical URL of the story so backends can track videos back to the story . Eg : : const requestUrl = addParamsToUrl(cacheUrl . replace('/c/' , ' /mbv/') , { ' amp_video_host_url ' : Services . documentInfoForDoc(win . document ) . canonicalUrl , }); . cc @ampproject /wg-stories  	0	1
1 1 0.8 1.0 0.9 1.0 0.9 1.0 1.0 1.0 0.9824561403508771 114 1.0 3 6 14 69	amp4ads-v0 . js size regression . The bundle size of amp4ads-v0 . js went back to 285K . Caused by #23153 in specific this line : < URL > /cc @dvoytenko  	0	0
1 1 1.2 1.0 0.9 1.0 0.75 1.0 0.6666666666666666 1.0 0.6885245901639344 183 1.0 6 22 30 71	[ Story video ] Downgrade bitrate on slow initial load . Right now videos are downgraded on the first significant rebuffer event . It should also get downgraded if the initial load is too slow . A right threshold could be decided from the video performance metrics we have available . @ampproject /wg-stories  	0	1
1 1 1.4 1.0 1.2 1.0 1.15 1.0 1.6666666666666667 2.0 1.5 14 2.0 2 11 20 127	[ FEATURE REQUEST ] Support changing amp-img src on hover . A large number of ecommerce sites change the image on hover to show a more close up image of the product in question . Example seen below : ( note in this case we are also toggling other fields such as the color options available in this product becomes available . ) Potentially supported if we support hover action on an : < amp-img > . cc @aghassemi	2	1
0 0 0.6 0.0 0.7 1.0 0.95 1.0 0.3333333333333333 0.0 0.0 0 0.0 8 21 37 140	Fixed position banner is sometimes rendered out of the viewport . What's the issue ? Our banner that is fixed to the bottom of the screen ( : position : fixed , bottom : 0px . ) is sometimes rendered fully or halfway out of the viewport . Both issues can be ' fixed ' by scrolling to the bottom of the page and swiping down , as if you were doing a pull-to-refresh motion on the bottom of the screen . Here are a few videos that demonstrate the issue to help in case you are unable to reproduce : < URL > < URL > < URL > How do we reproduce the issue ? This issue is most easily reproducible on an actual phone , rather than by emulating a device in Chrome dev tools . Make sure you are logged out of Pinterest by going to www.pinterest.com/logout Visit < URL > to see halfway out example Visit < URL > to see fully out example Expected result : Black banner at the bottom is fully visible Actual result : Black banner is halfway or fully hidden and obstructed by the view port What browsers are affected ? Chrome v 67.0.3396.87 and Firefox v 12.1 ( 10941 ) are affected . Safari does not appear to be . Have not tried other versions of Chrome/Firefox . Reproducible on iPhone X and iPhone 6s . Have not tried other devices . Which AMP version is affected ? Unable to tell at this time , since I can only repro on a phone .	1	0
2 2 1.6 2.0 1.6 2.0 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 1 6 9 36	Nested amp-iframe in amp-sidebar . We have a use case where we use amp-sidebar to display non-amp content in a amp-iframe . According to the validator this is not allowed . : < amp-sidebar id='search ' layout='nodisplay ' side='right'> < amp-iframe src='<URL>' height='120 ' width='30 ' layout='responsive ' frameborder='0 ' sandbox='allow-scripts allow-top-navigation'> < amp-img src='/img/loading . png ' layout='fixed-height ' height='700 ' width='auto ' placeholder ></ amp-img > < /amp-iframe > < /amp-sidebar > . Is this something that will be supported in future ? Or is there a way around this ?	2	1
1 1 0.8 1.0 0.7 1.0 0.6 1.0 0.6666666666666666 1.0 0.6808510638297872 188 1.0 10 27 34 76	[ Story 360 ] Public documentation . Write public documentation for : amp-story-360 . . cc @ampproject /wg-stories	1	1
1 1 1.2 1.0 1.0 1.0 0.95 1.0 1.6666666666666667 2.0 0.0 0 0.0 6 8 24 120	Codelabs : Creating your first AMP Component | Add new requirement . When creating PRs travis-ci runs : gulp check-types . , and this is time consuming if something wents wrong , but without Java SDK 8 on my local machine I was unable to run : gulp check-all . or : gulp check-types . before sending PRs . I tried to install Java SE Development Kit 11 , but didn't work , so on Slack @erwinmombay asked me to try Java SDK 8 and it worked . What about to add < URL > as a requirement in < URL > .  	2	2
1 1 1.4 1.0 1.5 2.0 1.1 1.0 1.3333333333333333 1.0 1.037037037037037 81 1.0 4 13 25 87	Clarify logging wording wrt auto-rebased test shards . Today I learned that our test shards are individually auto-rebasing provided that there are no merge conflicts . This is insanely awesome , which is why we should make that clear to readers of our said logs so they can just rerun the shard instead of manually rebasing and causing more than necessary tests to run ( like what I did to all the renovate PRs today ) . The log currently reads like this : : build . js : Running build . js ... build . js : origin/master is currently at commit 9eccf04 build . js : Testing the following changes at commit 98a88e7 ... // REALLY LONG GIT DIFF build . js : Commit log since branch 2019-03-22-ClosureCompiler was forked from master at 7b6c5a7 : ... // REALLY LONG COMMIT LOG * 7b6c5a7 Aaron Labiaga - Additional message in validation pass to follow up with CORS testing ( #21313 ) ( 20 hours ago ) . It's just a bit hard to connect the dots here since people don't naturally memorize commit hashes and the diffs / commit logs can be long . Just somewhere in the beginning , you can add a line to say these changes are applied in commit X on commit Y off of latest master . Or you can log below the failure message that ' if this test has since been fixed , rerunning this shard will automatically rebase ' . Basically if we have a fantastic new build feature , devs should know . ;)	2	1
0 0 0.8 1.0 0.8 1.0 1.0 1.0 1.0 1.0 0.0 0 0.0 12 15 25 67	amp-bind : Expression complexity limit reached . What's the issue ? We need to perform over 50 expressions in unique AMP page , how can we do it ? How do we reproduce the issue ? Below a demo AMP product page with the errors . < URL > What browsers are affected ? All browsers Which AMP version is affected ? V0 [ disabled ] 	0	1
1 1 1.6 2.0 1.5 1.5 1.3 1.0 1.6666666666666667 2.0 1.0909090909090908 55 1.0 6 12 17 85	allow-same-origin iframe potential issue with signed exchange . Based on the < URL > that @cramforce wrote , redirection within : allow-same-origin . iframe can easily create make the iframe a friendly iframe . This won't happen for cached AMP pages because the iframe origin can never be the same as the cache origin . However what about the case with signed exchange ? cc @cramforce @Gregable @aghassemi @lannka @torch2424  	2	2
2 2 1.4 1.0 1.4 1.0 1.3 1.0 1.3333333333333333 1.0 1.0375 80 1.0 5 10 21 88	Refine amp-story behavior in webviews that do not support playsinline . iOS webviews can choose not to support inline video playback . We should attempt to detect this behavior and offer a different affordance in lieu of autoplay video .	1	0
2 2 1.6 2.0 1.4 1.5 1.2 1.0 2.0 2.0 1.4285714285714286 7 1.0 6 7 27 86	Video playback ranges for analytics should be inferred . Semantics : Video plays . Service keeps track of playback start time on event . Video pauses . Service keeps track of a new playback range on event . This would < URL > ( see : Partial Support . ) without the component implementing it explicitly .	2	1
1 1 0.8 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 1.0 1.1666666666666667 12 1.0 1 11 16 54	Indentation for < /template > is wrong in amp-list amp . dev umentation . What's the issue ? Indentation for : < /template > . is wrong in amp-list amp . dev umentation How do we reproduce the issue ? < URL > Go to the above page Search for : < /template > . Most of the occurrences have indentation wrong What browsers are affected ? All browsers  	2	2
1 1 1.0 1.0 0.9 1.0 0.75 1.0 0.6666666666666666 1.0 0.5555555555555556 18 0.0 4 9 17 67	[ Animation presets ] Example story . Example story to document updates & show off new presets < URL > cc @ampproject /wg-stories  	0	1
0 0 0.6 1.0 0.6 1.0 0.9 1.0 0.6666666666666666 1.0 2.0 1 2.0 6 18 21 98	amp-story development mode features affect audio control position . The presence of the three ( invisible ) icons of the : amp-story . development mode features ( PR #11627 ) result in the audio control not floating all the way to the right . It also seems like the development mode features don't work since the icons are invisible , but maybe that's just because of issues with the CSS . AMP version 1522422854768	1	0
1 1 0.6 1.0 1.2 1.0 1.55 2.0 0.6666666666666666 1.0 1.125 72 1.0 1 1 13 52	Allow analytics vendor to print out deprecation info . Related to < URL > We get a few requests from analytics vendor to upgrade their solution and deprecate old ones . To help vendors with the migration process , we could print out the deprecation info to developers whenever there's such usage . Proposal : add an : deprecated . field to the analytics jSON config . For example , : deprecated_vendor . will have config like : { ' deprecated ' : ' deprecated , please migrate to new_vendor ' } . Then whenever : < amp-analytics type='deprecated_vendor'> . is used , AMP will print out the specified console error .	2	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.3333333333333333 1.0 1.0 4 1.0 3 8 16 84	I2I : amp-ad type = dynad . Summary Provides support for amp-ad type = dynad < URL > is an ad network used by < URL > [ disabled ] 	0	1
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 0.9230769230769231 39 1.0 3 4 10 57	makeBodyVisible depends on too many services . We need to be able to call it early . E.g. if all service installations failed . It should be refactored to only have optional dependencies on services .	2	0
2 2 1.4 2.0 1.1 1.0 1.05 1.0 1.3333333333333333 2.0 0.0 0 0.0 3 6 22 74	amp-story : The browser's swipe-down to refresh doesn't work on AMP Story page with swipe-up page attachment . . To reproduce : - Load the following URL on mobile Chrome ( other browsers might also repro ) . < URL > - Tap-right to navigate to a page with swipe-up/read-more page attachment . - Trying to swipe-down to trigger the refresh functionality doesn't work . - However , the same gesture works on pages without swipe-up page attachment . - This happens on both origin and viewer contexts . This behavior makes sense when the swipe-up page attachment is open , but while it's closed refresh should still work . Doesn't feel urgent .	2	0
2 2 1.6 2.0 1.4 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 4 7 14 92	The attribute of ' amp-facebook-comments ' : data-colorscheme = dark , which has been invalid since August 13 , 2020 . The attribute of ' amp-facebook-comments ' : data-colorscheme = dark , which has been invalid since August 13 , 2020	2	0
1 1 1.0 1.0 0.9 0.5 0.85 1.0 1.0 1.0 1.2608695652173914 23 1.0 0 4 26 106	amp-app-banner not working in viewer on iOS and Android . The custom app banner does not work correctly inside the Google AMP Viewer in iOS and Android . Example URL : < URL > Viewer URL : < URL > iOS native app banner ???custom app banner in Chrome ???custom app banner in Safari in < URL > ???always opens the website , independent of whether the app is installed or not ) Android custom app banner in Chrome in < URL > ???app banner does not show at all ) //cc @ericlindley -g  	0	0
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.0 1.0 0.9863013698630136 73 1.0 0 8 17 63	Add esm ( module / no-module ) support to `gulp serve` . The current : gulp serve . server does not support esm ( module / no-module ) . Make it so that it's possible to test esm builds during development .	1	0
2 2 1.0 1.0 0.9 1.0 1.1 1.0 1.3333333333333333 2.0 1.0 1 1.0 3 11 29 88	[ Validator ] - Fails when using experimental features . What's the issue ? We require the use of experimental features in our template , however the the validator will fail if an experimental feature is included with this error message : : path/to/file . amp . html : FAIL path/to/file . amp . html :33 : 0 The tag ' script ' is disallowed except in specific forms . . How do we reproduce the issue ? Clone the ampstart repo Open : templates/alp/alp . amp . json . Add ' amp-fx-parallax ' to the : ' extensions ' . array Run : npm run build . Notice the build will fail during the validation task . Is there a flag we can enable to allow experimental features to pass validation ?  	2	2
2 2 1.0 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 0.6875 176 1.0 10 16 29 61	[ Story interactives ] UI animation to show interactive elements are tappable . Write a UI animation to show that interactive elements are tappable when navigating to a story page . @ampproject /wg-stories	1	1
2 2 1.2 1.0 1.0 1.0 1.15 1.0 1.6666666666666667 2.0 1.5217391304347827 23 2.0 3 3 13 59	Make action optional for method = GET when action-xhr is provided . This is a follow up for both validator and runtime .	1	1
2 2 1.4 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 0.3333333333333333 3 0.0 3 5 16 78	Links in Stories page content don't always work in Safari . What's the issue The : a . links in the story page don't reliably work on Safari . Some links work , others don't . How to reproduce I can't figure out why some links work and others don't , so I can't provide steps to reproduce . But a live example can be found here : < URL > . On the story cover , the Tappable logo is clickable and works . On the ' Made with Tappable ' page , the Tappable text has an : a . tag , but isn't clickable in Safari . It does work in Chrome though . Which browsers are affected ? Safari on iOS and MacOS . Which AMP version is affected ? As the support for : a . links in the page content is recent , I'm guessing all versions since release .	1	0
2 2 1.6 2.0 1.5 1.5 1.45 1.5 1.6666666666666667 2.0 0.9879518072289156 83 1.0 8 11 24 85	Add a mode to `gulp clean` to delete all `node_modules` dirs under `amphtml` . This can help in cases where we have breaking dependency changes . E.g. issues due to babel upgrades , or the recent : chromedriver . issue . Nice to have : logging that prints out the directories that were actually deleted .	2	1
2 2 1.2 1.0 1.3 1.0 1.25 1.0 1.6666666666666667 2.0 1.1538461538461537 13 1.0 3 7 22 99	Make sure amp-analytics is well scoped to embeded document . Sounds like we stepped on a bug : #7619 < URL > /cc @keithwrightbos  	0	0
1 1 0.8 1.0 0.9 1.0 1.0 1.0 1.0 1.0 0.0 0 0.0 2 5 25 91	 hidden-mutation-observer ' breaks amp-lightbox . bug when close : amp-lightbox . with close event can not really close it if the : amp-lightbox . have : position : fixed . reproduce open < URL > click Free Ship click Ship To and close it Page gets stuck . It has no effect no matter where you click . analysis because the amp-lightbox have : position : fixed . , so when you click and trigger close event the amp-lightbox not really close , it is just opacity set to 0 What browsers are affected ? all browsers , ios and android version Powered by AMP ???HTML ???Version 1811012008580  	0	0
0 0 0.8 1.0 0.9 1.0 1.25 1.0 0.6666666666666666 0.0 0.0 0 0.0 6 9 22 83	Fix amp-story-reaction positioning and pointer events . Currently on pages with grid-layer template='center ' or ' vertical ' the outer amp-story-reaction components take up more space than needed , and the empty spaces around it seem to catch the clicks not allowing to go to the next page . Steps to reproduce : Open < URL > after running gulp and try clicking in the page on an empty space next to the quizzes	1	0
1 1 1.0 1.0 1.1 1.0 0.85 1.0 1.0 1.0 1.0930232558139534 43 1.0 4 10 27 90	amp-inputmask performance . Formatting lags when typing too fast A first attempt to reproduce shows a couple of instances of lag in the Chrome performance tab , but more investigation is needed .	1	0
1 1 1.0 1.0 1.1 1.0 0.85 1.0 0.6666666666666666 1.0 1.0526315789473684 19 1.0 5 15 20 56	`attachShadowDoc` fails when reusing shadow root . Context : < URL > /cc @dvoytenko	2	0
1 1 1.6 2.0 1.0 1.0 0.85 1.0 1.6666666666666667 2.0 1.4 5 2.0 0 7 20 52	< amp-consent > inside < amp-next-page > fires twice when loaded from Google Search viewer . What's the issue ? I can only reproduce this in AMP documents loaded inside the Google Search results AMP viewer . If an AMP page uses the following : : < amp-consent > . extension : < amp-next-page > . to load a second AMP document . This document also contains the : < amp-consent > . extension The expected behaviour is that since the : < amp-consent > . has already collected user's consent in the host AMP document , the : < amp-consent > . component that belongs to the hosted AMP document loaded inside the : < amp-next-page > . is not asking for consent again . When the AMP document is loaded from its canonical URL the behaviour is the right one , all works fine . However , when the same AMP document is loaded from the Google Search AMP viewer , the : < amp-consent > . appears twice : first when the user opens the page , and second when the user scrolls down and the AMP document inside the : < amp-next-page > . becomes active I understand that not having the : < amp-consent > . component in the hosted AMP document inside the : < amp-next-page > . is not an option , because then other components wouldn't receive the user's consent ( : < amp-analytics > . : < amp-ad > . etc . ) How do we reproduce the issue ? To reproduce this you need to load the URLs from a region where GDPR / CCPA applies ( i . e EU or California ) Here you can see an AMP document loaded inside the Google AMP viewer where the issue is reproducible < URL > The same document loaded from the original URL works correctly < URL >  	0	0
2 2 1.8 2.0 1.6 2.0 1.5 2.0 2.0 2.0 1.1283422459893049 187 1.0 1 6 16 60	Trim answer-choice-bounce scale values to save bytes . The : answer-choice-bounce . animations for : amp-story-quiz . use percentage scales that are too granular . On a 1080x1920 screen , the smallest percentage that could make at least a 1px difference would be 1/1920 , which is ~ 0.0005 . Any granularity beyond that seems like a waste of bytes to me . Can we trim all of these percentages to 4 decimal places ? /cc @ampproject /wg-stories	2	0
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 1.3333333333333333 3 2.0 2 6 8 30	Support dynamic content for amp-carousel . amp-carousel currently does not support dynamic content , e.g. varying the number of slides for different viewers . This limits the possibilities of personalizing the content of a carousel . Originally , I planned to use amp-list for this and I was surprised to learn that it doesn't work with amp-carousel ( then I realized there is a reason why it's called amp- list ) . I was trying something like : : < amp-carousel > < amp-list > < template > < amp-img ></..> < /template > < /amp-list > < /amp-carousel > . //cc @ericlindley -g @rudygalfi	2	1
1 1 0.8 1.0 0.8 1.0 0.85 1.0 1.0 1.0 0.6666666666666666 48 1.0 3 3 8 25	[ Panning media ] Organize & transition sibling groups separately . Group siblings Transition only the active sibling group cc @ampproject /wg-stories	1	1
1 1 1.0 1.0 1.2 1.0 1.05 1.0 1.0 1.0 1.5555555555555556 18 2.0 3 7 23 97	Apply fetch and cache optimizations from #7463 to relevant amp-analytics cases . #7463 details optimizations that reduce the number of calls that need to be made for batches of data that can be used in various parts of the page . @cramforce mentioned that these optimizations might also be applied to amp-analytics configs /to @rudygalfi /cc @avimehta @cvializ	2	1
1 1 0.4 0.0 0.5 0.0 0.9 1.0 0.6666666666666666 1.0 0.0 0 0.0 3 10 15 87	?????? amp-mathml is painfully slow . Benchmarking amp-mathml vs . KaTeX . Describe the new feature or change to an existing feature you'd like to see The current version of < URL > seems to be based on MathJax . This is a huge bottleneck for pages with lots of math . An alternative version based on < URL > might fix this . Describe alternatives you've considered The current implementation does work , but it doesn't deliver on the fast load times AMP intends to have . Additional context I cannot promise intend-to-implement I2I any time soon . Benchmarks below . The Benchmark This benchmark is based on a summary of ' < URL > ' that includes 88 math blocks , mixed between inline blocks and equations . Two versions of this web page were created : Based on : amp-mathml . Based on < URL > Reproducing See this gist : < URL > : git clone < URL > hayesall-amp-demo cd hayesall-amp-demo python -m http . server # Start an HTTP server with Python 3 . AMP Complient ? Method URL No KaTeX < URL > Yes : amp-mathml . < URL > Preview of part of the benchmark page : Benchmark 1 : : amp-mathml . Gist : < URL > githack : < URL > All equations were rendered after around 22,000 ms : Benchmark 2 : : KaTeX . Gist : < URL > githack : < URL > There is some delay in the beginning between when I refreshed the page , but the rendering took place between 1000 ms and 1200 ms , or around 200 ms .	1	1
1 1 0.8 1.0 1.1 1.0 1.15 1.0 0.3333333333333333 0.0 0.0 0 0.0 0 2 6 29	amp-social-share causes layout shift on upgrade . What's the issue ? When : . i-amphtml-unresolved . class is removed on component upgrade , overflow is changed from : hidden . to : visible . , which causes subsequent elements to shift ( both sibling inline element and following image ) . This issue was surfaced by this issue from the Page Experience tool ( < URL > This may be related to < URL > but : data-mode = replace . is not used in the example . How do we reproduce the issue ? Visit the URL below with ' Layout Shift Regions ' enabled in Rendering tab of Chrome Dev Tools to visualize the layout shift . < URL > What browsers are affected ? Chrome 87 Which AMP version is affected ? 2009252320001  	0	0
2 2 1.6 2.0 1.3 1.0 1.1 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 1 5 52	amp-recaptcha-input : Support fixed-height layout . Currently , : < amp-recaptcha-input > . only supports the : nodisplay . layout , which means that the reCAPTCHA badge will not be shown . As a result , I think that the : fixed-height . layout should also be supported . This allows the display of the reCAPTCHA badge in AMP .	2	1
1 1 1.4 1.0 1.4 1.5 1.25 1.0 1.6666666666666667 2.0 1.375 8 1.5 1 12 24 94	Intent to implement : Instagram captions and styling . . I'd like to add caption support to the : amp-instagram . component . This will involve adding an optional : data-captioned . attribute . If the attribute is present the instagram : iframe . url will change from and the embed will include the caption . : < URL > . to : < URL > . . At the same time I'd also like to add support for the instagram style messages . When the instagram iframe loads it sends several messages to it's parent . The : MEASURE . message is already handled by : amp-instagram . . I'd like to add support for : MOUNTED . message . This message contains styles to be applied to the iframe . Questions : Should this be gated by a : data-framestyle . attribute or should it default on ? ( my gut says gated to avoid a breaking change ) Including the border attribute will require the iframe box-sizeing to be set to border-box to avoid a re-layout , does that makes sense ? Example : MOUNTED . message : { ' type ' : ' MOUNTED ' , ' details ' : { ' styles ' : [ [' boxShadow ' , ' none ' ] , [' border ' , ' 1px solid #dbdbdb ' ] , [' margin ' , ' 1px 1px 12px 1px ' ] ] } } . Doing this would make amp-instagram match the standard instagram styling and features . cc @cramforce @dvoytenko and @jridgewell as owners of amp-instagram .  	2	2
1 1 1.4 1.0 1.4 1.5 1.3 1.0 1.3333333333333333 1.0 1.5 8 2.0 4 6 38 142	`amp-accordion` URL-based state initialization . This is somewhat similar to my other requests for URL-based state ( for , e.g. , carousel ) . The use case is that there are a handful of accordions and each represents a different state on the page and should be configurable based on the URL ( query param or hash ) . Based on a < URL > this appears to be a pretty standard practice for accordions . Without this the client plans on creating an AMP page and then duplicating it x times ( for each accordion ) , so they'd have : page-optionA . html . , : page-optionB . html . , etc . This request could be seen as two parts , which I break out because #1 is more urgent for the client right now . : amp-accordion . should be able to initialize state from the URL . I see that amp-accordion can initialize from a cookie state , so it seems that adding this would be pretty straightforward . I would suggest : Uses hash param instead of URL param Doesn't try to cram the JSON object that the cookie uses into the hash param , but instead uses a ' sparse ' form that can be parsed out , in which only the open accordions need to be set Disambiguates with the accordion ID in the hash param Operates automatically ; does not require an additional attribute in the accordion Where cookie state is enabled this will override that . So it'd look like : page . html #accordion_id -opened = pane1 , pane5 Longer term , along with other URL-based state updating requests , it'd make sense to allow for the update the URL hash when the accordions panes are opened or closed .	1	1
1 1 1.4 1.0 1.6 2.0 1.45 1.0 1.0 1.0 1.0 10 1.0 7 8 12 63	Create new reference ument for `amp-story-grid-layer` . ?????? Missing or out-of-date umentation Describe the content that is missing or should be up dated : amp-story-grid-layer . is a separate amp component from : amp-story . . It should be migrated to its own page and include a code samples and a top table with description , required script , ect . < URL >  	1	2
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 2.0 1 2.0 1 5 9 32	amp-carousel : breakpoint specific configuration . Continuing the discussion from #3517 : We would like to implement different behavior for : amp-carousel . s on different screens . Would it be possible to have the : type . property respect media queries aswell ?  	1	2
0 0 1.4 2.0 1.0 1.0 1.15 1.0 1.0 1.0 0.59375 32 1.0 7 12 16 53	[ Story 360 ] inactive pages do not stay paused . This might be because pausedState is toggled on tap events . A check for active page might fix this . cc @ampproject /wg-stories @t0mg  	0	0
2 2 0.8 1.0 1.0 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 1 1 20	Promise errors observed in IE11 . Error when using with IE11 : ' Promise ' is undefined v0 . js ( 273,395 ) Is it possible add ' Promise ' support with polyfill ?  	0	0
2 2 1.8 2.0 1.4 2.0 1.3 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 0 2 23	Namespace classes in amp-social-share elements . Right now elements created with : amp-social-share . have class names like this : : < span class='twitter'> . They should probably be something like : : < span class='amp-social-share-twitter'> . so as not to conflict with class names used elsewhere on a site's stylesheets .  	0	0
1 1 1.0 1.0 1.0 1.0 1.05 1.0 1.0 1.0 1.1428571428571428 21 1.0 17 19 38 125	Fix flaky visual diff test for `amp-twitter - Amp By Example` . The < URL > visual diff test is currently marked as flaky : < URL > < URL > Please reassign this if you're not the right person to fix this	1	0
1 1 1.4 2.0 1.4 1.5 1.25 1.0 1.0 1.0 1.0 3 1.0 2 3 19 77	Create a suite of visual diff tests that load various test AMP pages . Master tracking issue for the various issues linked to this one .	1	0
1 1 1.2 1.0 0.8 1.0 0.85 1.0 0.6666666666666666 1.0 1.1983471074380165 121 1.0 4 9 12 77	Presubmit check for PWA-unsafe references in extensions . Consider checking for : window . document . and other PWA-unsafe code in : extensions/ **/* . . - [ ] : window . document . /cc @jridgewell @lannka	2	1
2 2 0.8 1.0 0.9 1.0 1.15 1.0 1.0 1.0 0.0 1 0.0 1 1 16 87	amp-date-picker : Toggle single date and range dates . What's the issue ? A common use-case for search widgets on travel sites is to toggle between ' round trip ' and ' one way ' when entering search parameters . < URL > : Right now it appears there is no way to switch between the range picker to single date picker using the component to satisfy this use-case .	2	1
1 1 1.2 1.0 0.8 1.0 0.85 1.0 1.0 1.0 0.95 40 1.0 4 4 20 73	Deprecation warning seen in `bundle-size` with new `octokit` version . This isn't  the build , but we should fix it soon . < URL > : dis t-t ests . js : Running gulp bundle-size -- on_push_build ... [ 21:08:49 ] Using gulpfile ~ /build/ampproject/amphtml/gulpfile . js [ 21:08:49 ] Starting ' bundle-size ' ... [ 21:08:49 ] Running npx bundlesize -f ' . /dist/v0 . js ' ... [ 21:09:14 ] Bundle size is 84.78 KB octokit . authenticate () is deprecated . Use ' auth ' constructor option instead . at authenticate (/home/travis/build/ampproject/amphtml/node_modules/ @octokit /rest/plugins/authentication-deprecated/authenticate . js : 4:26 ) at storeBundleSize (/home/travis/build/ampproject/amphtml/build-system/tasks/bundle-size . js : 98:11 ) at Gulp . performBundleSizeCheck (/home/travis/build/ampproject/amphtml/build-system/tasks/bundle-size . js : 187:18 ) at module . exports (/home/travis/build/ampproject/amphtml/node_modules/orchestrator/lib/runTask . js : 34:7 ) at Gulp . Orchestrator . _runTask (/home/travis/build/ampproject/amphtml/node_modules/orchestrator/index . js : 273:3 ) at Gulp . Orchestrator . _runStep (/home/travis/build/ampproject/amphtml/node_modules/orchestrator/index . js : 214:10 ) at Gulp . Orchestrator . start (/home/travis/build/ampproject/amphtml/node_modules/orchestrator/index . js : 134:8 ) at /home/travis/build/ampproject/amphtml/node_modules/gulp/bin/gulp . js : 129:20 at process . _tickCallback ( internal/process/nex t_t ick . js : 61:11 ) [ 21:09:15 ] Stored the new bundle size of 84.78 KB in the artifacts repository on GitHub [ 21:09:15 ] Finished ' bundle-size ' after 26 s dis t-t ests . js : Done running gulp bundle-size -- on_push_build Total time : 0m 28s .	1	0
2 2 1.2 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 8 23 58	< amp-video-iframe > autoplay doesn't work . Hi everyone , I'm trying to set video autoplay using amp-video-iframe tag but I noticed that not works properly . Example : < URL > Our external player is based on JWplayer and our customization . To reproduce the issue : 1 . Open the link in browser 2 . Player not works , it's always in buffering state 2 . Open developer tool ( such as Chrome Developer Tools ) 3 . You can see this error : Uncaught TypeCannot read property ' on ' of null Why ? Can you help us ? Any idea ? All browsers are affected ( Chrome , Firefox and Safari mobile ) and we are using this AMP version : 1910302211460 . Thanks ! Pietro	1	0
0 0 0.6 1.0 0.7 1.0 0.85 1.0 0.3333333333333333 0.0 0.0 0 0.0 2 5 10 74	Media playing on inactive story pages . What's the issue ? On desktop , the video on page 3 starts playing before it's active , and stops playing when it becomes active . How do we reproduce the issue ? On desktop , open a multi-page AMP story . Navigate from the cover to page 2 BAD : the video on page 3 is already playing Navigate to the next page BAD : The video stops playing What browsers are affected ? Desktop	1	0
1 1 1.4 1.0 1.1 1.0 1.0 1.0 1.3333333333333333 1.0 1.3333333333333333 6 2.0 2 10 20 129	userErrors not working for specific end point . What's the issue ? When configuring the error trigger as specified < URL > and adding a specific url as < URL > the request that fires is to : amp-error-reporting.appspot.com/r How do we reproduce the issue ? You can reproduce it with this same file . < URL > What browsers are affected ? ALL Which AMP version is affected ? Last version	1	0
1 1 0.4 0.0 0.8 1.0 0.95 1.0 0.3333333333333333 0.0 1.0 2 1.0 0 2 9 59	[ amp-accordion]The tap event on the first child of section is not fired when clicked . . What's the issue ? The tap event on the first child of section doesn't work . How do we reproduce the issue ? Please visit < URL > Click the the heading for the section ( Marked as : Toggle text and accordion[doesn't work ] . ) The text doesn't toggle visibility . What browsers are affected ? Chrome Version 74.0.3729.157 ( Official Build ) ( 64-bit ) Which AMP version is affected ? Version 1905091827220	1	0
2 2 1.0 1.0 1.2 1.0 1.45 1.5 1.0 1.0 1.2741935483870968 186 1.0 4 19 22 84	Lock `amp-foo-latest . js` to current stable versions without automatic upgrade . . We need a static table to decide what version : latest . binaries are built from . Please see < URL > for details on why current : -latest . binaries are dangerous . This is a blocker for : amp-experiment . and : amp-list . versions 2 work and must happen before we start forking those components for v2 . /to @rsimha to assign within infra /cc @cathyxz @torch2424  	0	0
0 0 0.8 1.0 0.8 1.0 0.8 1.0 0.6666666666666666 1.0 1.1384615384615384 65 1.0 1 8 13 69	[ MASTER FEATURE ] Stateful AMP . [ x ] Research browser back/forward cache support level in AMP [ x ] Support bfcache and create test documents #23634 #23528 [ ] Polyfill-like feature for preserving scroll position on browsers that do not support bfcache ( priority ? ) [ ] Additional layers of state preservation on top of bfcache [ ] Page transitions between preserved states Related issues : #22527 #12360 #23634 /cc @nainar	1	1
1 1 0.6 1.0 0.7 1.0 1.1 1.0 1.0 1.0 1.25 4 1.5 0 1 4 24	Fix < amp-live-list > update/scrolling bug . Currently there is a bug where : 1 . User is looking at a post that will exceed max-items-per-page with the next update 2 . User taps notification that triggers updating the page 3 . Scroll automatically begins to take user to the top of 4 . Calculation is made to determine which items exceeding max-items-per-page based are below current viewport position 5 . Items identified in ( 4 ) are hidden ( but not removed entirely from DOM ) Because 4 is done after scrolling begins , sometimes the items that the user was looking at are hidden by the update One fix is that step ( 4 ) is moved to before ( 3 ) , so the calculation is made before scrolling begins Passing to @erwinmombay to fix when possible ( please update the milestone when you have a good sense of when you can make the fix ) . Thanks !	2	0
1 1 1.4 1.0 1.5 1.5 1.5 1.5 1.3333333333333333 1.0 0.65 60 1.0 3 6 21 75	Story tooltip text text-shadow . It looks like a publisher specified CSS makes this text look weird . We might want to either fix this as a one off , or apply the : . i-amphtml-story-system-reset . class to the tooltip . If we go for the latter , we'd have to add : text-shadow : none ; . to its properties . To repro , you can go to the last page of this story : < URL >	2	0
0 0 0.6 1.0 0.7 1.0 0.8 1.0 0.3333333333333333 0.0 1.1411764705882352 85 1.0 5 11 48 112	[ Fixit ] amp-list : Integration > unit tests . Let's consider moving : amp-list . unit tests to integration tests . The integration tests are more robust and a lot easier to read and write . /cc @aghassemi	2	0
0 0 0.8 1.0 1.0 1.0 0.7 1.0 0.6666666666666666 1.0 1.1875 16 1.0 4 8 19 66	Image lightbox double tap doesn't zoom from the tapping point .	2	0
2 2 1.4 1.0 1.0 1.0 1.25 1.0 1.6666666666666667 2.0 1.0138888888888888 72 1.0 11 24 30 103	Does amp-access have dependency on amp-analytics ? . According to the < URL > , it requires amp-analytics extension to be loaded . Many extensions required amp-analytics for CID functionality , but not anymore after migrating CID to core . @dvoytenko is the dependency still needed ? /cc @sebastianbenz @calebcordry  	1	2
0 0 1.2 1.0 1.1 1.0 1.05 1.0 1.0 1.0 1.4109589041095891 73 2.0 0 2 24 56	Allow invocation of arbitrary 3p methods inside iframes using standard AMP actions . . Sample use-case : < amp-iframe src='some-map-embed . html ' id='mapEmbed'></amp-iframe> < button on='tap:mapEmbed . callMethod(method='changeLocation ' , data='Toronto')> Show Toronto's Map < /button > . inside : some-map-embed . html . : : context . onMethodCall(methodName , data ) { ... } . context is < URL > The real use-case that motivated this FR is using iframes to handle Web Payments . Ideally the iframe that uses the Web Payment API to show the native payment sheet is already loaded and when users taps a ' buy ' button on the AMP page , it can just send a request to the already-loaded iframe to show the payment sheet ( as opposed to the alternative slow approach of loading the iframe when ' buy ' is tapped ) another goal is to support more interactivity between parent page and iframed content . Would be useful for highly interactive journalism ( scroll-driven storytelling , data visualizations toggled by page-level filters ) , but is expected to have a wide range of applications beyond that . Might also consider taking arbitrary messages passed * out of * amp-iframe , but would need to make sure these aren't executed as code in any way that violates the assumptions of AMP /cc @cramforce @dvoytenko @rudygalfi @ericlindley -g	2	1
0 0 0.4 0.0 0.5 0.5 0.55 1.0 0.6666666666666666 1.0 2.0 2 2.0 2 2 12 58	Update to spec : Remove overflow : auto/scroll from list of prohibited CSS props . What the title says . /cc @cramforce  	1	2
0 0 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 0.0 0 0.0 0 1 17 54	AMP stories only work on Edge full screen . What's the issue ? When I load an < URL > on Edge on desktop , I get an error telling me to ' Expand the height of my window to view this experience ' ( < URL > ) How do we reproduce the issue ? Go to this AMP story < URL > ( or any other ) The error will appear Only after pressing F11 ( aka full screen ) does the story play . What browsers are affected ? Microsoft Edge 42.17134.1.0 Tried it on screen resolution 1920x1080	1	0
0 0 0.8 1.0 1.2 1.5 1.05 1.0 0.6666666666666666 1.0 0.0 0 0.0 2 5 7 66	amp-access return url fail . To whom it may concern : I use tag - ' amp-access ' to do the login stuff . It works well as usual , but failed since 2017-09-21 The login page will stop at ' amp-login-done ' page ( check the following link ) and do nothing such as close the login window and rerender the source page . stop page link : < URL > I also check the amp by example demo page and has same experience . < URL > I wonder it is an issue or do I need to do any extra setting ? Paul    	0	2
1 1 1.0 1.0 1.3 1.0 1.1 1.0 1.0 1.0 1.0833333333333333 48 1.0 3 7 23 91	Document AMP components ' analytics events that support the `selector` property . It was noticed recently that the < URL > supports the < URL > , but it is not umented . : < amp-analytics > < script type='application/json'> { ' requests ' : { ' formSubmitEventRequest ' : ' < URL > { formId}&query =${ formFields[query ]}' } , ' triggers ' : { ' formSubmitSuccess ' : { ' on ' : ' amp-form-submit-success ' , ' selector ' : ' #form2 ' , ' request ' : ' formSubmitEventRequest ' } } } < /script > < /amp-analytics > . < URL > Document that these analytics events supports the selector property : - [ ] : amp-form-submit . - [ ] : amp-form-submit-error . - [ ] : amp-form-submit-success . - [ ] add other events that implicitly support the : selector . property /cc @CrystalFaith @lannka  	2	2
2 2 0.6 0.0 1.0 1.0 0.8 1.0 1.0 1.0 1.1388888888888888 72 1.0 6 9 20 88	Clean up ' iframe-messaging ' experiment . Context : #9074	2	0
2 2 1.4 2.0 1.1 1.0 1.1 1.0 1.6666666666666667 2.0 1.0 1 1.0 2 8 8 36	New variable to determine direction of ' manualAdvance ' storyAdvancementMode . Currently , there is no easy way to distinguish between a ' manualAdvance ' going to the next page or previous page ( forwards or backwards ) . There is : storyPageId . and : storyPreviousPageId . to be able to determine direction , but you don't always have all the context necessary at the reporting end . Perhaps : ${manualAdvanceDirection } . could be introduced with values ' left ' or ' right ' ( or something similar ) .	2	1
1 1 1.2 1.0 1.1 1.0 1.05 1.0 1.6666666666666667 2.0 0.978021978021978 91 1.0 1 14 22 95	amp-analytics double encoded macro in extraUrlParams . For example : : < title > AMP Test < /title > < amp-analytics > < script ... > { ... extraUrlParams : { a : ' TITLE ' } } < /script > < /amp-analytics > . the above tag will have URL contains : ? a = AMP%2520Test . while : ? a = AMP%20Test . is expected . It's a regression since PR #18410 , as we now expand macro TITLE first ( 1st encoding ) , and then attach to URL params ( 2nd encoding ) . Before #18410 , TITLE macro was resolved after : extraUrlParams . being appended to URL . [ improved ] 	0	0
1 1 0.6 1.0 1.1 1.0 1.2 1.0 0.6666666666666666 1.0 1.1794871794871795 117 1.0 0 4 11 89	amp-bind : Support multiple values in < select > events . < URL >	2	1
2 2 1.8 2.0 1.4 1.5 1.4 1.5 2.0 2.0 1.1764705882352942 17 1.0 5 10 14 82	Cleanup amp-date-picker experiment .	1	0
1 1 1.6 2.0 1.4 2.0 1.2 1.0 1.6666666666666667 2.0 0.7263157894736842 95 1.0 0 0 5 29	Don't trigger viewport warnings when `amp-story-desktop-one-panel`is active . Viewport warnings will not be necessary in the one panel desktop UI . They can be disabled when : amp-story-desktop-one-panel . is active . [  ] 	0	1
0 0 0.6 0.0 1.1 1.0 0.8 1.0 0.3333333333333333 0.0 0.5 2 0.5 4 8 14 43	amp-analytics vars inside A4A . . Currently amp-analytics does not work inside A4A but with #5196 , it will start working . Once it starts working , we need to figure out how different features will work for amp-analytics and amp-pixel . A few open questions are : - What variable expansions should be supported wrt security/privacy issues . eg : document_referrer - When the variables are expanded , will they be about the ads iframe or the parent document . eg : does canonical_url represent ad url or the amp document url ? - How do triggers fire ? Does a scroll or visibility trigger fire relative to the ad or relative to the whole document ? - Is amp-analytics inside the ad allowed to measure things outside the ad ? - Should we provide some ad-only variables ? like ad provider , loading time , rendering errors etc ? /cc @rudygalfi to answer some questions /cc @dvoytenko @cramforce ps : I can open individual issues for each of the questions and keep this as the tracking bug if needed .  	0	1
1 1 1.4 1.0 1.0 1.0 1.0 1.0 1.6666666666666667 2.0 1.0 1 1.0 7 12 52 118	DoubleClick ads don't collapse on Firefox with Tracking Protection on . Steps to reproduce : 1 . Download this < URL > and run a local server 2 . Turn on Firefox's Tracking Protection ( either through the settings , by opening a private browsing window , or clicking on the logo to the left of the URL bar and selecting tracking protection ) 3 . The ad , which doesn't exist , should collapse , but amp-ad's code crashes at some point because Tracking Protection stops the browser from loading doubleclick.net URLs	2	1
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 1.0662251655629138 151 1.0 4 17 26 89	amp-story speaker icon says ' this page has no sound ' , even if there is story-level background audio . We currently look at the audio-producing elements on each page to determine when to show this message . We also need to take into consideration the story-level background audio , as that will be playing on all pages of the story .	2	0
2 2 1.8 2.0 1.7 2.0 1.35 2.0 2.0 2.0 0.0 0 0.0 4 9 17 50	A4A Fake Impl Provide Key Fetch To Ensure Hermetic . Short description of your issue : amp-ad-network-fake-impl includes creative and signature as part of its data however it fetches production public keys causing it to fail if/when the key set rotates . Need to provide the keyset as part of the implementation in way that ensures it continues to no override base A4A behavior	2	0
1 1 1.6 2.0 1.5 1.5 1.45 1.5 1.3333333333333333 1.0 0.0 0 0.0 2 3 3 22	Provide a ' restore ' string to the viewer . Add support for a getState request from the viewer which will serialize any state that needs to be restored after a document unload and then reload such as scroll position .	2	1
1 1 1.4 2.0 1.4 1.5 1.45 2.0 1.6666666666666667 2.0 1.7391304347826086 23 2.0 3 8 20 83	Allow preserving markup in captions when going to lightbox . When opening a lightbox , we currently only use the text content of a caption and not any markup within the caption . There may be some styling or links in the caption ( e.g. for photo credits ) that would be nice to preserve . One example of a page with such a caption : < URL > The code that extracts the text is here : < URL >	2	1
0 0 0.6 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 1.0 1 1.0 2 2 5 32	Amp-next-page not getting the refeererDocument from the Host Page . What's the issue ? When giving a pageview from an amp-analytics tag inside a amp-next-page , the documentReferrer should be the hostPage , but it's empty . How do we reproduce the issue ? Here you have an example : < URL > Try it in mobile ans let the amp-next-page build . You'll see two calls in the network to ? ping . In ref you have the ${documentReferrer ] variable , it's empty on the pageviw of the amp-next-page where it should be the host page . What browsers are affected ? All . Which AMP version is affected ? All .	1	0
1 1 1.0 1.0 0.7 0.5 0.8 1.0 1.0 1.0 1.1 10 1.0 1 14 21 74	Error reporting : JS engine is detected as IE when running in Chrome . What's the issue ? In the error reporting code , the : jse . parameter of the error report is detected as : IE . even though I'm running AMP in Chrome . How do we reproduce the issue ? Start up a local AMP server . Modify : examples/amp-list . amp . html . and make one of the amp-list's : src . attribute point to a URL that doesn't exist ( to trigger a user error on 404 response code ) . Disable a bunch of checks in : error . js . that would fail in local environment or increase development cycle . I had to disable this check locally : < URL > and this check : < URL > and this check : < URL > Navigate to : < URL > . . Put a breakpoint at the following line : < URL > Refresh the page , observe that the break point is triggered , meaning that the JavaScript engine is detected as IE even though we are running in Chrome . /cc @choumx /cc @alabiaga /cc @jridgewell	2	0
1 1 0.8 1.0 1.1 1.0 1.1 1.0 0.6666666666666666 1.0 0.9523809523809523 21 1.0 2 7 12 74	AliExpress : Toggle slider displays white square . What's the issue ? Toggle slider displays white square Briefly describe the bug . White square is displayed on toggle button . How do we reproduce the issue ? Opt into Canary/RC Open JavaScript Console Go to < URL > What browsers are affected ? macOSX Chrome Version : 76.0.3809.100 Which AMP version is affected ? Canary/RC : 1908212120530	2	0
0 0 0.6 1.0 1.0 1.0 0.95 1.0 0.3333333333333333 0.0 1.1538461538461537 13 1.0 4 9 17 70	< amp-bind > Flaky integration test . Safari 9.1.2 ( Mac OS X 10.11.6 ) amp-bind with ' before each ' hook for ' should change alt when the alt attribute binding changes ' FAILED < URL >	1	0
1 1 1.4 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.0161290322580645 62 1.0 4 18 32 70	Load 3p frame JS from cdn.ampproject.org . It currently loads from < URL > and should load from < URL > The original made sense when that was the frame domain , but since that is now per page view it causes extra DNS lookups .	2	0
1 1 1.0 1.0 0.8 1.0 0.95 1.0 1.3333333333333333 1.0 1.1 40 1.0 3 9 12 79	Migrate all existing user () usage to element . user () . For #6415	2	1
0 0 0.6 0.0 1.0 1.0 1.1 1.0 0.3333333333333333 0.0 1.0759493670886076 158 1.0 7 20 31 108	Create a centralized CSS file for baseline functionality in story visual diff tests . All stories visual diff tests need to disable certain features in order to guarantee determinism . We currently manually copy this CSS to each test created , which will cause the tests to break if new tests are introduced that do not have this CSS .	2	1
2 2 1.0 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 0.6455696202531646 79 1.0 5 13 19 74	Story font size jumps when document state goes from prerender to visible . Story font size jumps when document state goes from prerender to visible  	0	0
1 1 1.4 1.0 1.4 1.0 1.15 1.0 1.3333333333333333 1.0 0.6714285714285714 140 1.0 1 1 3 10	[ amp story shopping ] Build shopping CTA . Description Render a CTA on pages with the : amp-story-shopping-attachment . . This could happen < URL > and < URL > It is okay for it to display the default ' Swipe up ' text . A follow up PR #36698 will set the text . Ensure setting a : theme . attribute works on the CTA . Add a visual diff test .  	0	1
1 1 1.4 1.0 1.4 1.0 1.4 1.0 1.0 1.0 1.6666666666666667 6 2.0 3 8 12 75	Update Validator Chrome extension to show debug icon instead of error when in dev mode . In #20974 a new : data-ampdevmode . attribute was added which tells the validator to suppress reporting validation errors for elements it appears on , except for the root : html . element : In such case , however , when there is only one validation error and it is due to being in debug mode , it would be very useful if the Validator extension would not show an error icon but rather a debug icon , similar to how it shows a warning icon when there are deprecation issues . If there are other validation errors other than the one : data-ampdevmode . on the root : html . element , then the Validator extension should continue to show the error icon . By showing a debug icon , users won't get alarmed when the system is generating markup that is explicitly invalid for dev mode purposes . Originally suggested in < URL >	2	1
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.0 1.0 0.7040816326530612 98 1.0 3 3 8 32	`amp-story-desktop-one-panel` blurred background . This will find the largest image on the active page and apply a blurred treatment of it to the background of the window . This needs to be able to work in the context of : amp-story-player . or : amp-story . .	1	1
0 0 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 0.9090909090909091 11 1.0 3 4 18 90	[ Stories a11y ] Hide screen reader back button outline by default . The button added in #28422 has an outline on focus . This is confusing UX for users that aren't using a screen reader . The outline could be hidden , but the button needs to be visibly focusable by mobile screen readers ( TalkBack & VoiceOver ) . To reproduce . - Enable the nightly build of chrome and open a web story - Navigate forward - Navigate back by tapping within 10 pixels of the left side of the screen . [ improved ] 	0	0
0 0 0.6 0.0 0.6 0.0 0.85 1.0 0.3333333333333333 0.0 1.0 33 1.0 4 5 21 74	TypeCannot call method ' indexOf ' of undefined . TypeCannot call method ' indexOf ' of undefined at id ( < URL > at ( < URL > at ( < URL > at String . replace ( native ) at af ( < URL > at $e . f . expandUrlAsync ( v0 . js : 99 ) at $e . f . expandAsync ( v0 . js : 98 ) at yc . then . then . then . d ( amp-analytics- 0.1 . js : 145 ) at ( < URL > [  ] 	0	0
1 1 0.8 1.0 1.1 1.0 0.9 1.0 0.6666666666666666 1.0 1.3983050847457628 118 1.0 1 5 11 63	Request cid failed : document is not visible errors . : Request cid failed : document is not visible . have become common since September 18th . Possible culprit : < URL >	2	0
2 2 1.4 2.0 1.4 1.5 1.35 1.5 1.0 1.0 0.0 0 0.0 4 4 21 63	AMP Pages UCBrowser GA PageViews not tracking . We are running a eCommerce aggregator portal on WEB and WAP both . Recently we have migrated whole WAP pages to AMP . After migration , the GA sessions for UC Browser has been decreased by almost 95% . We have figured out some of the devices which are not sending the pageview event however the website is working fine in all other browsers . Any help to debug UC Browser for pageview event for AMP would be greatly appreciated . Thanks , Ashish	1	0
1 1 1.4 1.0 1.4 1.0 1.4 1.0 1.3333333333333333 1.0 2.0 1 2.0 1 5 6 28	[ amp-base-carousel ] make the width of the scrollable area adjustable . Describe the new feature or change to an existing feature you'd like to see the scrollable area of the amp-carousel is adjustable with setting padding to the parent element . but it's not the case with the amp-base-carousel . see < URL > that's because the scrollable area of the amp-base-carousel ( : . i-amphtml-carousel-content . ) has < URL > . I want to set horizontal padding with amp-base-carousel like amp-carousel . but I can't overwrite the css of : . i-amphtml- . prefix class because it causes validation error . Describe alternatives you've considered if the element : . i-amphtml-carousel-content . has another class , I can overwrite the style . I don't think this would be harmful for the functions of the carousel , because amp-carousel also overwrites this style . < URL >	2	1
2 2 0.4 0.0 0.5 0.0 0.8 0.5 0.6666666666666666 0.0 1.1666666666666667 12 1.0 6 11 24 133	Cannot call method ' requestMeasure ' of undefined . @aghassemi can you check the following production error . Thanks . Impossible d??????btenir la propri???t??????requestMeasure ???d??????ne r???f???rence null ou non d???finie at ( < URL > at ( < URL > at animateScrollIntoViewInternal_ ( < URL > Version 011809142227020 < URL >	2	0
0 0 1.2 1.0 1.1 1.0 0.95 1.0 1.3333333333333333 2.0 0.8409090909090909 44 1.0 3 10 14 92	root process path is different somehow because of #12472 .  	0	0
2 2 1.6 2.0 1.2 1.0 1.05 1.0 1.6666666666666667 2.0 1.0126582278481013 79 1.0 7 8 20 88	amp-img with layout intrinsic stretches to fill parent if display : block . It's possible and sometimes common to have CSS overrides to set : amp-img . to : display : block . . When this happens , : < amp-img > . with layout : intrinsic . ends up stretching to fill the entire parent container instead of maintaining its correct aspect ratio . Here's a minimal repro : < URL > When : display : block ! important . is applied to : < amp-img > . , the image stretches to fill the container width . ~ Related : < URL > When : display : inline . is applied to : < amp-img > . with layout = intrinsic , the image fails to render . ~ behaving as intended .	2	0
1 1 1.0 1.0 0.9 1.0 1.15 1.0 0.6666666666666666 1.0 1.309090909090909 165 1.0 6 16 32 134	amp-audio : Support PlayList part of media session API . Individual : amp-audio . components already support mediaSession API however it would be great to support the playlist feature as well . We would need a simple audio-manager to keep track of all : amp-audio . components to create and navigate the playlist . / @gilbertococchi @iwoak	2	1
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 1.2447916666666667 192 1.0 1 6 17 95	lightbox-gallery : expanded description goes under translucent shim . Check < URL > When description is lightbox is tapped , it is supposed to shim the image and expand on top of it . It goes under however . /to @sparhami @cathyxz Setting as P1 since it is new(ish ? ) Regression and since autolighbox is happening .  	0	0
0 0 1.4 2.0 1.1 1.0 1.25 1.0 1.3333333333333333 2.0 1.2432432432432432 148 1.0 2 4 13 58	gulp dist doesn't prepend experiments by default . : gulp dist . doesn't call the : prepend-globals . task by default , which means all prod experiments are disabled on local compiled builds . This was surprising to me . Currently workaround is to run : gulp prepend-global -- target = dist/v0 . js -- prod . manually after dist . /to @ampproject /wg-infra	1	0
0 0 0.8 1.0 0.5 0.5 0.85 1.0 0.6666666666666666 1.0 0.9846153846153847 65 1.0 5 5 24 111	Cannot read property ' then ' of null . Error report at go/ampe/CN7T18-d3fur1AE Occurring 2k+ / day on version 1535579255907 Stacktrace : Cannot read property ' then ' of null at then ( < URL > at ( < URL > at refresh ( < URL > at ( < URL > .  	0	0
1 1 1.0 1.0 1.1 1.0 1.2 1.0 0.6666666666666666 1.0 1.0816326530612246 49 1.0 2 15 19 81	amp-bind : Browser session restore . Support restoring browser sessions on pages with amp-bind . Will need to store stack of state objects in history to properly support : AMP . pushState () . . /cc @cramforce	2	1
2 2 0.8 0.0 0.9 1.0 1.05 1.0 0.6666666666666666 0.0 1.5 4 1.5 8 19 36 74	Optimize rendering 3p ads in AMP . @lannka as discussed , this could be optimized further to remove any voluntary delays for 3P ads . - [ x ] Instrument current time to create 3P iframe - [ x ] Loosen constraint of maximum one ad load per second #9149 - [ ] Tweak the constraint of ' no ad load in the first 2 seconds of page visible '	1	1
1 1 1.0 1.0 1.3 1.0 1.15 1.0 0.6666666666666666 1.0 1.0 3 1.0 15 20 34 66	[ Stories tweet embeds ] Closing UX improvement . . Clicking any of the background area should close tweet .	2	1
2 2 1.0 1.0 1.1 1.0 1.3 1.0 1.0 1.0 0.6635514018691588 107 1.0 1 2 5 34	`amp-story-desktop-one-panel` blurred background , get largest page image . Description Get image on page that is intended to be a background image . This could default to the story poster image for all pages . This could be based on the < URL > Alternatives Considered We could only trigger this if there is a : [ template='fill ' ] : not ( . i-amphtml-hidden-by-media-query ) img . element . We could only trigger this if there is a : [ template='fill ' ] : not ( . i-amphtml-hidden-by-media-query ) img . element . In addition , we could default to the background color of the amp-story-page , this might not always look good though because we will add a 70% black overlay . Additional Context No response	1	1
2 2 1.4 2.0 1.0 1.0 1.15 1.0 1.3333333333333333 2.0 1.1842105263157894 114 1.0 3 10 25 116	Type paths to missing files in swg . js . New versions of Closure Compiler upgraded ' module not found ' from warnings to errors . For example : < URL > : !.. /model/doc . Doc . doesn't exist in the bundled SWG binary . Unfortunately don't seem suppressible with : @suppress { moduleLoad } . , individually or at the : @fileoverview . level . The current workaround is to ~ not fail the build on warnings in swg . js ~ replace these types with : * . via regex ( see #18589 ) . To fix this , we can either strip these bogus types , use externs , or bundle these missing classes . Context : < URL > /to @jpettit /cc @dvoytenko @dparikh	1	0
1 1 1.2 1.0 0.9 1.0 1.15 1.0 1.3333333333333333 1.0 0.0 0 0.0 5 11 20 71	Clean up amp-sidebar v1 experiment after launch .	1	0
0 0 1.4 2.0 1.2 1.0 1.3 1.0 1.3333333333333333 2.0 1.45 40 2.0 11 21 32 88	FR : Resize iframe based on % of viewport . Currently iframe resize is based on a number sent from the iframe itself , without knowledge of the context in the page ( including viewport size ) . This is a feature request to give iframe's the ability to send this resize request based not on a pixel value , but rather a % of the viewport Question : could this be accomplished indirectly by just exposing information about viewport size to the iframe directly ? /cc @choumx @aghassemi	2	1
0 0 0.8 1.0 0.7 1.0 0.55 0.5 0.6666666666666666 0.0 0.7378640776699029 103 1.0 3 6 16 71	Add a play/pause button on story desktop . . Add a play/pause button on story desktop .	1	1
1 1 1.4 1.0 1.4 1.0 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 5 18 45 130	submit input is not sended . : < input type='submit ' name='button ' value='x'>Send me < /input > . ist not sended in amp-form by clicking the button ( rest of ' normal ' inputs like textearea , select and input = text are sended )	1	0
1 1 1.4 2.0 1.3 1.5 1.25 1.0 1.0 1.0 1.1098265895953756 173 1.0 1 16 18 64	amp-story boilerplate is invalid . The < URL > code for : amp-story . doesn't validate . We should update this and fix the errors pointed out by the validator .  	1	2
2 2 1.8 2.0 1.5 1.5 1.45 1.5 2.0 2.0 0.9864864864864865 74 1.0 1 7 10 48	FR : Bundle-size checks for ESM code . With the addition of ESM builds , we'd like the ability to run bundle-size checks for two flavors of minified code that are compiled in parallel on two separate Travis Jobs . This FR is a tracking issue for the work that needs to be done towards this on the : amphtml . repo . Feel free to split off a separate issue for the : amp-github-apps . stuff .	1	1
2 2 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 1.2857142857142858 42 1.0 4 8 25 110	Support quartile tracking in < amp-video > . When : < amp-video > . is used inside of AMPHTML ads , a common usecase is the ability to fire an event on every quartile . Currently , this doesn't seem possible in : < amp-video > . analytics . < URL >  	0	1
2 2 1.4 2.0 1.5 2.0 1.4 1.5 1.6666666666666667 2.0 1.4444444444444444 9 2.0 1 4 8 36	Expose `object-fit : cover|contain|etc .. ` as an attribute on ` < amp-img > ` , ` < amp-anim > ` and ` < amp-video > ` . Nobody likes images with messed up aspect ratios but that can easily happen with layout : fill . and : fixed . on : amp-img . ( and other situations where a fill layout is enforced , like items in a carousel ) . I believe : layout . and : object-fit . are dependent enough for images that I believe it justifies exposing : object-fit . as an attribute . The following part about the default value of this attribute is under discussion and should not be implemented without consensus The idea here is to have a default that's reasonable ( probably : contain . ) and an explicit attribute to make it easily configurable and obvious . This will be a breaking change , but I believe it will break things with a better and more positive side-effect . Ideally we apply this attribute in CSS with low-specificity so if there is an existing user-defined : amp-img > img { object-fit : somethingOtherThanDefault } . theirs won't be overridden . We can put the change behind an experiment and test for a while . Alternatively we can just do this in our CSS without exposing an attribute and expect authors to override it in CSS instead of using an attribute ( although I like the explicitness of the attribute better ) . @cramforce @jridgewell @dvoytenko thoughts ?	2	1
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.0 1.0 0.7575757575757576 66 1.0 4 13 14 48	[ Page attachments ] [ Inline ] Full view UI . When fully open , an optional header and close icon appears . Clicking the close icon should close the attachment . @ampproject /wg-stories	1	1
2 2 1.4 1.0 1.4 1.0 1.2 1.0 1.3333333333333333 1.0 0.6666666666666666 6 0.5 0 3 13 64	amp-selector[multiple ] should display cursor : pointer on selectable options . In multiselect , : cursor : pointer . should be on . Or more generically , if we have a meaningful action attached to the click ( e.g. unselect for multiselect items ) , cursor should be pointer . < URL > Caveat : Unless item is : disabled .	2	0
0 0 0.6 1.0 0.7 1.0 0.95 1.0 0.3333333333333333 0.0 0.6826923076923077 104 1.0 3 10 11 35	`amp-story-desktop-one-panel` resolve non-active page position on load . With the new panel positioning the last page is positioned below the active page on story load :  	0	1
1 1 1.0 1.0 1.0 1.0 0.95 1.0 0.6666666666666666 1.0 1.4727272727272727 55 2.0 5 17 30 124	parallax : scrolling too fast messes up parallax element positioning . probably due to mutate not having a measure block	1	0
1 1 1.4 1.0 1.3 1.0 1.1 1.0 1.3333333333333333 1.0 0.9 40 1.0 1 3 9 62	put back localhost check for localdev . @rsimha -amp do you remember why you removed that line ? [ improved ] 	0	0
1 1 1.4 1.0 1.4 1.0 1.15 1.0 1.0 1.0 0.0 0 0.0 13 18 28 108	FixedLayer : Support off-screen fixed elements e.g. menus . What's the issue ? If a position : fixed element has negative top CSS , AMP assigns it a large negative inline top : calc () . This makes it difficult to create a menu that slides down from the top . Briefly describe the bug/feature request . This may seem like an obscure edge case , but I ran into it while working with @jessynd on a site with a menu that drops down from the top . So some elements start with a top of -100% or less , and when they become visible , they gain a new class that makes the top 0% . Unfortunately , with position : fixed elements , according to @jridgewell , AMP adds a top : calc () to keep them from interfering with the top of the page on the cache . In this case , the top : calc () is unnecessary and keeps the elements off the page permanently - making this sort of menu tough to create . How do we reproduce the issue ? At press time , you can see it on this staging site : : < URL > . However , that may change ! This can be reproduced if , say , you've got : < nav id='topnav'> . with CSS : : #topnav { position : fixed ; top : -100% ; transform : translateY(-100%) ; } . What browsers are affected ? I've tried Chrome and Firefox so far and found the issue on both . Which AMP version is affected ?	1	0
2 2 1.0 1.0 0.9 1.0 0.95 1.0 1.3333333333333333 1.0 1.0294117647058822 34 1.0 3 12 23 77	amp-subscriptions-google dialog CSS broken in shadow dom . : amp-subscriptions-google . is adding it's CSS to the document head instead of the shadow dom .	1	0
1 1 0.4 0.0 0.6 1.0 0.8 1.0 0.3333333333333333 0.0 0.6732673267326733 202 1.0 4 8 17 65	[ Story a11y ] Make education screens buttons focusable for screen readers . Make education screens buttons focusable for screen readers . cc @ampproject /wg-stories  	0	1
1 1 1.0 1.0 1.0 1.0 1.05 1.0 0.6666666666666666 1.0 2.0 1 2.0 4 7 13 53	amp-story : Relative image URLs in the bookend break when served from an AMP cache . . When serving the following URL from the AMP Cache < URL > the thumbnail images in the bookend won't load , but they load as expected when the page is loaded from origin < URL > I noticed the images URLs are relative , so it might be that these are not properly absolutified by the cache , but I haven't verified . If relative URLs are in fact not supported , then there should be a validation error , but I believe we do want to support them .	1	0
1 1 1.6 2.0 1.4 1.5 1.2 1.0 1.3333333333333333 1.0 0.0 0 0.0 0 3 35 134	Add an option to amp-next-page to allow a non-cdn URL ( dynamic content ) . The amp-next-page component always rewrites the URL for the next page to point to the CDN . This eliminates the ability to dynamically choose content . Given the pages are cached in the CDN , forcing the decision of what the ' next ' page is at AMP code render time is very restrictive . One simple solution may be to respect fully qualified URLs , and only rewrite relative URLs to point to the current CDN . Otherwise a ' dynamic-content ' option for the component or some such .	2	1
1 1 1.2 1.0 0.9 1.0 1.2 1.0 1.6666666666666667 2.0 0.0 1 0.0 0 9 25 94	Google Translate support . We would like to add Google Translate support to our AMP pages An AMP iframe technique will not work Please consider extending the AMP JavaScript libraries to associate the following with a list-box on an AMP page : < div id='google_translate_element'></div> < script type='text/javascript'> function googleTranslateElementInit () { new google . translate . TranslateElement({pageLanguage : ' en ' , layout : google . translate . TranslateElement . InlineLayout . SIMPLE } , ' google_translate_element ' ) ; } < /script > < script type='text/javascript ' src='//translate . google.com/translate_a/element.js?cb=googleTranslateElementInit ' ></ script > . /jay gray	2	1
0 0 0.8 0.0 0.8 0.5 0.85 1.0 0.6666666666666666 0.0 0.7368421052631579 114 1.0 1 1 8 46	-- story-page-vh/w variables unavailable . . In some viewer contexts , the : -- story-page-vh/w . variables used by publishers to create responsive story templates are sometimes not set , completely breaking the story layout . Screenshots from production 	0	0
1 1 1.6 2.0 1.4 1.5 1.5 2.0 1.6666666666666667 2.0 1.3793103448275863 145 1.0 3 3 19 86	Allow `amp-list` to render from `amp-state` initially . See < URL > for some background . We should allow : amp-list . to render from : amp-state . data on load . This can help with showing ' stale ' data until remote data is available . It would be nice to also prefetch the endpoint so when a user-interaction ( e.g. ' refresh ' button ) switches the : src . from : amp-state . to real endpoint , we would have fetched the data already and swap would be quick . /cc @choumx @ericlindley -g	1	1
2 2 1.6 2.0 1.4 1.5 1.1 1.0 1.6666666666666667 2.0 0.0 0 0.0 2 3 5 37	Clean up amp-auto-ads experiment flag .	1	0
1 1 1.2 1.0 1.0 1.0 1.2 1.0 1.0 1.0 0.8333333333333334 36 1.0 1 4 6 38	?????? [ story-ads ] Google ads are not serving on desktop . This is due to a change in ad serving infrastructure along-side the RDA format launch . There is a server side fix merged cl/371233469 but will likely take ~ 2 weeks to reach prod . We will update this issue when fix is live . [ improved ] 	0	0
2 2 1.0 1.0 1.2 1.0 1.3 1.0 1.0 1.0 0.0 0 0.0 0 11 27 105	Allow < amp-ad > to share data between ad-server response and main AMP document . Motivation : < URL > allows to request and render ads from different ad networks , but doesn?????? support passing information from the response of the ad-server to the main AMP Page , so it can be used on other components ( like < URL > ) . This is useful for companies willing to leverage the targeting capabilities of the ad-servers , by passing parameters ( i.e. : key-value pairs ) and receiving responses from an ad campaign that might contain contextual information , along with the creatives . An interesting use case would be ???related articles ???, which can currently be achieved through < URL > , which takes the url of an endpoint that contains links to related articles , in order to load them after the current document , providing an infinite-scroll type experience . The limitation of this component is that still requires the publisher to implement or use a recommendation engine , to make responses contextual to the user . Ad-servers come with strong targeting capabilities , that can be leveraged to this end , as some publishers do in non-AMP sites . cc // @jasti @andreban	1	1
2 2 1.4 2.0 1.3 1.0 1.15 1.0 1.3333333333333333 2.0 1.2 10 1.0 2 11 13 71	Uncaught unknown animation type : must have ' animation ' , ' animations ' or ' keyframes ' field . What's the issue ? Uncaught unknown animation type : must have ' animation ' , ' animations ' or ' keyframes ' field Briefly describe the bug . Error message displays unknown animation type : must have ' animation ' , ' animations ' or ' keyframes ' How do we reproduce the issue ? Please provide a public URL and ideally a reduced test case ( e.g. on jsbin.com ) that exhibits only your issue and nothing else . Provide step-by-step instructions for reproducing the issue : Open < URL > Open developer tools and see error in console What browsers are affected ? macOSX Chrome Version 74.0.3729.131 ( Official Build ) Which AMP version is affected ? Dev Version 1905071607430 Stable Version 1904301721170 Is this a new issue ? Or was it always broken ? Paste the version of AMP where you saw this issue . ( You can find the version printed in your browser's console . ) New Issue	1	0
1 1 0.6 1.0 0.7 1.0 0.95 1.0 1.0 1.0 2.0 1 2.0 6 14 20 75	[ analytics ] Migrate experimental canary vendor configs to separate JSON file . We are currently migrating all the vendor config JS files to JSON files . Some vendors ( currently only BG ) have a different config for canary builds and will require a separate JSON file for this . Proposal : 1 . Have a separate vendor config JSON file for canary specific builds . e.g. : vendorname . canary . json . 2 . In < URL > add an experiment for vendors that require a different config in canary 3 . When requesting a specific vendor config during runtime , check for this experiment flag and request the canary specific JSON i.e. : vendorname . canary . json . instead of : vendorname . json . Additional context We are migrating vendor configs to JSON files so we can lazy load specific vendor configs instead of building all vendor configs into the main amp-analytics bundle . cc @zhouyx @sushan04 @lannka	2	1

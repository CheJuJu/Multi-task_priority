0 0 1.0 1.0 1.2 1.0 1.2 1.0 0.6666666666666666 1.0 1.0 5 1.0 4 19 25 110	Native posix port drivers need to be documented . The native posix port needs to document the drivers implemented and their usage . Currently the port page on the web doesn't mention anything about the fact that the native posix port has support for ethernet , timer , entropy and console drivers . The only documentation right now seem to be Kconfig files .	2	2
1 1 0.8 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.3529411764705883 153 1.0 16 28 50 154	[ Coverity CID : 190987]Integer handling issues in /arch/arm/core/cortex_m/mpu/nxp_mpu . c . Static code scan issues seen in File : /arch/arm/core/cortex_m/mpu/nxp_mpu . c Category : Integer handling issues Function : _mpu_sram_partitioning Component : Architectures CID : 190987 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.7 2.0 1.4 2.0 2.0 2.0 1.0841908325537886 1069 1.0 8 9 32 104	No negative response if remote enabled encryption too soon . Reported by Szymon Janc : This was found with robustness tester . If we are in the process of pairing ( and thus has no valid key yet ) we should reply with negative response for any LTK requests we get until STK/LTK is computed . Currently we reply with whatever we store in smp -> tk depending on when LTK request was received . ( Imported from Jira ZEP-1771 )	2	0
2 2 2.0 2.0 2.0 2.0 1.85 2.0 2.0 2.0 1.2887387387387388 2220 1.0 30 37 50 95	[ Coverity CID : 235916 ] Operands don't affect result in drivers/adc/adc_stm32 . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : adc_stm32_channel_setup . Component : Drivers CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	1	0
1 1 1.2 1.0 1.2 1.0 1.4 1.5 1.3333333333333333 1.0 1.08 850 1.0 7 12 16 120	samples : logger_hook . Reported by Flavio Santes : Coverity CID 157609 reported that the logger_hook has some ' uninitialized variables ' . We tried to fix this issue in commit 7a74fb0454787ecf85a4e2e1cccbd5567310d552 . However , it was reported that our solution was not working , the sample is now broken . This situation allows us to discover another bug in the application related to how the sys_ring_buf_get routine is used . The solution is quite simple , instead of evaluating while ( ret = = EAGAIN && count < 2 ) it must be while ( ret ! = 0 && count < 2 ) at main . c line 94 The code must be audited , it seems that it was not well understood how the API works . ( Imported from Jira ZEP-1449 )	1	0
0 0 1.2 2.0 1.3 1.5 1.4 1.5 0.6666666666666666 0.0 1.4545454545454546 11 1.0 5 6 24 140	ethernet : unify the initiaization . Is your enhancement proposal related to a problem ? Please describe . ETH_NET_DEVICE_INIT takes a device-init function , and an API with an iface_api init . The device-init , which is called first , should initialize the hardware to a state where it is ready to send and receive . The net interface-init function should only bind the device driver to the interface and enable receiving . At the moment , not all of the drivers follow this procedure . Describe the solution you'd like All drivers should initialize the same way . Additional context Drivers that follow this procedure ( MAC address is set in the interface-init function ): - e1000 - liteeth - native posix - smsc911x Drivers that follow this procedure ( MAC address is set in the device-init function ): - stellaris ( MAC address is set in device_init ) - mcux ( MAC address is set in device_init ) Drivers that are fully initialized with receiving enabled after device-init ( MAC address is set in the device-init function ): - enc28j60 - enc424j600 Drivers that do hardware initialization in the interface-init function : - sam_gmac - stm32_hal	2	1
0 0 0.6 0.0 0.7 0.5 0.8 1.0 0.6666666666666666 0.0 1.0893582453290007 1231 1.0 1 7 17 64	Espressif Open-source Toolchain Support . Reported by Robert Beatty : As a developer I would like Espressif's open-source toolchains supported in Zephyr so that they can be used to develop on ESP32 chips . ( Imported from Jira ZEP-2032 )  	0	1
0 0 0.6 1.0 0.5 0.5 0.75 1.0 0.6666666666666666 1.0 1.0804597701149425 870 1.0 3 10 20 121	H : 4 HCI driver ( h4 . c ) should rely on UART flow control to avoid dropping packets . Reported by Johan Hedberg : Currently the H : 4 driver ( drivers/bluetooth/hci/h4 . c ) reads all its data in ISR context , which means that if there is no higher-level flow control it may be forced to drop data when there are no buffers available . To avoid this , the ISR should only do minimal processing and defer the UART reading to a separate thread that's able to block while waiting for buffers to be available . As the reading of the UART wouldn't happen immediately after an RX interrupt it means the UART HW flow control should kick in and prevent the controller from writing data to the UART until the host-side is actually ready to process it . ( Imported from Jira ZEP-1483 )	1	1
2 2 0.6 0.0 0.6 0.5 0.7 1.0 0.6666666666666666 0.0 0.9682539682539683 315 1.0 0 4 13 51	Integrate QMSI releases to Zephyr . Reported by Kuo-Lang Tseng : Update the ext/hal/qmsi folder with the QMSI 1.1.0 release from QMSI github . This include any new releases ( Beta , Gold ) . ( Imported from Jira ZEP-541 )  	0	1
2 2 1.8 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.1111111111111112 18 1.0 1 6 19 84	topic-counter : nrfx_* : counter_se t_t op_value inconsistent behavior . The documentation does not indicate whether : counter_set_alarm () . which maps to : counter_se t_t op_value () . should be a one-shot or repeating capability . The behavior for Nordic is inconsistent : For RTC : If : counter_se t_t op_value . is configured with the maximum top value the callback is invoked once , but not rescheduled , though the callback remains associated with the channel . If : counter_se t_t op_value . is configured with a top value less than the maximum the RTC clock is cleared and the timer rescheduled , resulting in a repeated callback at the requested interval . For TIMER : If : counter_se t_t op_value . is the callback is repeated at the requested interval without being rescheduled .	1	0
2 2 1.8 2.0 1.9 2.0 1.65 2.0 1.6666666666666667 2.0 0.0 0 0.0 4 10 17 54	STM32F0 nucleo PWM output not working . Use basic sample blinky_led to verify stm32f0 nucleo pwm output . Enable timer2 and pwm nodes in devicetree . Despite of that fact there is no pwm output on any pin . I think that pinmux is maybe wrong but cannot see even pinmux defines for timer . Does anyone try to run pwm on stm32f0 nucleo board to share ? Thanks .	2	0
2 2 2.0 2.0 2.0 2.0 1.95 2.0 2.0 2.0 1.3236874741628772 2419 1.0 20 25 28 73	[ Coverity CID : 240675 ] Unrecoverable parse warning in subsys/mgmt/hawkbit/hawkbit . c . Static code scan issues found in file : < URL > Category : Parse warnings Function : `` Component : Other CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . () Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 0.0 1.1666666666666667 72 1.0 8 24 45 121	optimize x86 userspace page table memory usage . We have some memory usage problems with how x86 is setting up page tables : [ x ] Every page directory pointer table is in its own memory page , even though it is far smaller than that and requires just 32 byte alignment [ ] Unpredictability of kobject wordlist tables results in the entire flash ROM region being mapped instead of just pages that are in use on XIP systems [ x ] User page tables has page tables for regions which will never be marked user accessible , should just be non-present in PDPTE/PDE ( like LOAPIC/IOAPIC MMIO ) [ ] page tables for TEXT/ROM might in some cases be share-able between kernel and user page tables , user tables would not need a copy	2	1
0 0 1.0 1.0 1.3 2.0 1.2 1.0 0.6666666666666666 0.0 1.0735080058224162 1374 1.0 3 5 26 92	Test suite cleanup and Test Coverage . Reported by Anas Nashif : Over time we have been adding tests and adapting existing tests using different methods for running the tests and reporting test results . Here is a summary of what needs to be done to get to a consistent and unified testsuite with clean output that is easy to parse for humans and scripts : Review all tests and categorise them correctly Review all tests and apply Zephyr code style on them Remove CamelCase Start tests consistently ( we still have remnants of MDEF way of starting tests ) Convert all tests to use ztest where possible Review ztest and enhance it to support existing tests and improve test result reporting Provide a parseable output that can be consumed by scripts Reduce debug output and make it configurable , i.e. do not print out to console by default , in case of failure and when reproducing failures make it possible to print more output . Increase coverage of supported features . We have many untested features . [ x ] GH-4045 : convert to ztest for files in tests/kernel [ x ] GH-3881 : Fix coding style issues with test cases [ x ] GH-3262 : cleanup ztest output and make it more readable ( Imported from Jira ZEP-2249 )	1	1
2 2 1.0 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.0846968238691048 1039 1.0 2 13 43 105	sample of zoap_server runs error . . Reported by jiequan wu : Test Steps : { code } ne t-t ools : Terminal 1 : $ . / loop-socat.sh : Terminal 2 : $ sudo . / loop-slip-tap.sh . Zephyr : $ cd zoap_server $ make pristine && make run Libcoap : $ cd examples $ sudo . /etsi_coaptest . sh -i tap0 2001 : db8 :: 1 { code } QEMU output : = = = = = = = = = = = { code } To exit from QEMU enter : ' CTRL+a , x ' [ QEMU ] CPU : qemu32 [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-2 ) [ zoap-server ] [ ERR ] large_update_put : Packet without payload [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-22 ) [ zoap-server ] [ ERR ] large_update_put : Packet without payload [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-22 ) [ zoap-server ] [ ERR ] large_update_put : Packet without payload [ zoap-server ] [ ERR ] udp_receive : No handler for such request (-22 ) { code } ( Imported from Jira ZEP-1732 )	1	0
2 2 0.8 0.0 1.2 2.0 1.3 2.0 1.3333333333333333 2.0 1.6153846153846154 13 2.0 1 5 16 62	cmake : multiple `No SOURCES given to Zephyr library : ` warnings . Describe the bug With the merge of #37512 , enabling : CONFIG_SENSOR . results in multiple cmake warnings unless additional Kconfig symbols are enabled . : CMake Warning at .. / .. / .. / .. /CMakeLists . txt : 718 ( message ): No SOURCES given to Zephyr library : drivers__sensor__grove Excluding target from build . CMake Warning at .. / .. / .. / .. /CMakeLists . txt : 718 ( message ): No SOURCES given to Zephyr library : drivers__sensor Excluding target from build . . This is due to the unconditional libraries created here , which only sometimes add sources : < URL > < URL > Expected behavior CMake warnings should not be generated by enabling the sensor drivers . Environment ( please complete the following information ): - Latest main Additional context Also occurs for interrupt controllers from #37512 < URL >	2	0
2 2 1.8 2.0 1.6 2.0 1.5 2.0 2.0 2.0 2.0 1 2.0 3 5 10 138	Allow running a work queue on an existing thread . Is your enhancement proposal related to a problem ? Please describe . Right now , it's rather hard to repurpose the memory used by the main thread's stack after initialization . The obvious options are either to implement your own work queue , or write a pile of hacks to find the main stack , wait until the main thread has exited , and then spawn a work queue there . ( The specific use case I have is to have a work queue that runs extremely-low priority work , so I can't use the system work queue , and I'm running out of memory and I have some stack-heavy initialization , which is why I want to run it on the main thread ) Describe the solution you'd like Add a function that starts a work queue on the thread that it's called upon : : extern void k_work_q_run(struct k_work_q * work_q ) . Caveats The reason that this is a bug and not a 3 line pull request is that it doesn't seem obvious to me that there's a good way to synchronize between something that wants to submit to the main thread's work queue and the main thread actually getting far enough to initialize the work queue . This seems to be a more general problem , though : e.g. < URL > which initializes a delayed_work in main , but submits it in a callback which might be called before main finishes ? Perhaps , instead of providing functionality to turn the main thread into a work queue , the main thread should always be a work queue , and the application's main being just a work item submitted to it ?	2	1
2 2 1.4 2.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 1.2463768115942029 69 1.0 2 8 21 57	tests : portability : cmsis_rtos_v2 : hangs on nRF52 , 53 and 91 nRF platforms . Describe the bug tests : portability : cmsis_rtos_v2 is hanging when executed on nRF targets To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = board/nrf52dk_nrf52832 3 . make 4 . See error Keeps printing : : periodic_callback ( Timer 2 ) = 75699 periodic_callback ( Timer 2 ) = 75700 periodic_callback ( Timer 2 ) = 75701 periodic_callback ( Timer 2 ) = 75702 periodic_callback ( Timer 2 ) = 75703 periodic_callback ( Timer 2 ) = 75704 periodic_callback ( Timer 2 ) = 75705 periodic_callback ( Timer 2 ) = 75706 periodic_callback ( Timer 2 ) = 75707 . Expected behavior Should pass Environment ( please complete the following information ): - Commit SHA or Version used : Zephyr v 2.3.0 -rc1 Additional context Add any other context about the problem here .  	0	0
2 2 2.0 2.0 2.0 2.0 1.85 2.0 2.0 2.0 1.2701069270106926 2151 1.0 19 19 28 229	[ Coverity CID : 220437 ] Wrong size argument in tests/lib/mem_alloc/src/main . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : test_no_mem_malloc . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.5 2.0 1.45 2.0 2.0 2.0 0.0 0 0.0 0 1 9 57	 Some board images are pretty big ( > 1MB ) . When i viewed the board documentation for < URL > today on a slow internet connection , i noticed that loading the board image took a view seconds . When executing : : find boards -type f -exec du -h {} + | sort -r -h | less . i noticed other large images : : 8 , 9M boards/arm/mimxrt1020_evk/doc/mimxrt1020_evk . jpg 4 , 2M boards/arm/mimxrt1060_evk/doc/mimxrt1060_evk . jpg 3 , 0M boards/arm/frdm_k64f/doc/frdm_k64f . jpg 2 , 7M boards/shields/x_nucleo_iks01a2/doc/img/x-nucleo-iks01a2 . jpg ... . Maybe it would make sense to shrink them since they are scaled down in the browser anyways .	2	2
1 1 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.4564315352697095 241 1.0 13 22 30 68	[ Coverity CID : 205638]Integer handling issues in /drivers/pwm/pwm_mchp_xec . c . Static code scan issues seen in File : /drivers/pwm/pwm_mchp_xec . c Category : Integer handling issues Function : xec_compare_params Component : Drivers CID : 205638 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 0.9658886894075404 557 1.0 1 9 43 152	simplify pinmux interface and merge the pinmux_dev into one single API . Reported by Anas Nashif : The pinmux driver is split into two for no good reason making the driver complex and difficult to use , merge everything into one and provide all functions using once single API ( Imported from Jira ZEP-958 )	2	1
2 2 1.6 2.0 1.6 2.0 1.65 2.0 2.0 2.0 1.509090909090909 55 2.0 0 2 21 79	[ Coverity CID : 187905 ] Incorrect expression in /arch/arc/core/thread . c . Static code scan issues seen in File : /arch/arc/core/thread . c Category : Incorrect expression Function : _new_thread Component : Architectures CID : 187905 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
0 0 0.4 0.0 0.6 0.5 0.75 1.0 0.3333333333333333 0.0 0.9633699633699634 273 1.0 1 1 5 44	TCP/IP transition layer ( netz API ) . Reported by Flavio Santes : Create a simplified and friendly TCP/IPv4 API for Zephyr . This layer will be on top of the current TCP/IP stack and will be replaced in future versions with the new TCP/IP stack . ( Imported from Jira ZEP-468 )  	0	1
1 1 0.6 1.0 0.9 1.0 0.8 1.0 0.6666666666666666 1.0 1.0681971640783254 1481 1.0 1 7 12 81	Enable Sphinx option doc_role='any ' for improved reference linking . Reported by David Kinder : Sphinx supports automatic hunting for any defined reference and linking to it for items enclosed with single back-ticks , instead of requiring : ref : : reference name . or other interpreted text roles . Alas , folks have been using single back-ticks in places where they should have used double back-ticks to indicate inline code formatting . In order to enable the desired behavior for single back-tick uses , the offending uses would all need to be found and changed to use double-back ticks ( about 100 cases ) . Note that there are good cases of single back-tick uses that would properly link to the referenced item so we don't just want to replace all uses of single back-ticks . ( Imported from Jira ZEP-2414 )	2	2
0 0 1.0 1.0 0.7 0.5 0.85 1.0 1.0 1.0 1.0803673938002296 871 1.0 2 11 18 119	I2C Slave Driver . Reported by Richard Peters : An API for I2C-Slaves is needed ( Blocking and NonBlocking ) . The supported plattforms should implement a slave driver . ( Imported from Jira ZEP-1486 )	1	1
0 0 1.2 2.0 1.2 1.5 1.45 2.0 1.3333333333333333 2.0 1.1818181818181819 22 1.0 0 2 6 50	Kconfig new libc changes cause echo server cmake error . After libc config changes 9555f82d28 0e59f6846f c1f865b412 echo server cmake fails : : cd samples/net/sockets/echo_server/build cmake -DBOARD = native_posix -DCONF_FILE = prj . conf .. . Results in cmake error : : warning : the choice symbol NEWLIB_LIBC ( defined at lib/libc/Kconfig : 29 ) is selected by the following symbols , but select/imply has no effect on choice symbols - MIPI_SYST_LIB ( defined at modules/Kconfig . syst : 4 ) Error : Aborting due to non-whitelisted Kconfig warning ' warning : the choice symbol NEWLIB_LIBC ( defined at lib/libc/Kconfig : 29 ) is selected by the following symbols , but select/imply has no effect on choice symbols - MIPI_SYST_LIB ( defined at modules/Kconfig . syst : 4 )' . Note : If this warning doesn't point to an actual problem , you can add it to the whitelist at the top of zephyrproject/zephyr/scripts/kconfig/ kconfig.py . CMake Error at zephyrproject/zephyr/cmake/kconfig . cmake : 210 ( message ): command failed with return code : 1 Call Stack ( most recent call first ): zephyrproject/zephyr/cmake/app/boilerplate . cmake : 461 ( include ) CMakeLists . txt : 5 ( include ) .  	0	0
0 0 0.4 0.0 0.8 1.0 1.25 1.5 0.3333333333333333 0.0 0.8235294117647058 170 1.0 4 37 113 162	shell : Fix builds for platforms without uart . We get build issues due to the removal of the Kconfig symbol CONFIG_UART_SHELL_ON_DEV_NAME on platforms that didn't have a uart set as we'd get a default value for those platforms . Update the Kconfig logic to only enable SHELL_BACKEND_SERIAL if we have zephyr , shell-uart specified in the devicetree to address the issue . Signed-off-by : Kumar Gala < URL >  	0	0
0 0 1.0 1.0 1.2 1.0 1.25 1.0 0.3333333333333333 0.0 1.0920945395273023 1227 1.0 2 10 16 64	Add mcux pwm shim driver for k64 . Reported by Maureen Helm : Create new shim driver to adapt fsl_ftm . c to the zephyr pwm interface . Remove the custom pwm_k64_ftm driver , which is the last remaining non-cmsis driver for k64 . Once this is removed , we can also remove include/drivers/k20_si m.h. ( Imported from Jira ZEP-2025 )	1	1
0 0 1.0 1.0 1.1 1.0 1.25 1.0 0.6666666666666666 1.0 1.2352941176470589 17 1.0 4 9 12 75	Add more platforms to no multithreading tests . Add physical platforms to no multithreading tests . 2 nordic boards were added with Cortex-m4 and cortex-m33 cores . Platforms cannot be added freely because some by default are fetching modules which depends on multithreading and compilation fails in that case . Fixes #34840 .  	0	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0116448326055314 687 1.0 15 26 34 93	Create test for mailbox kernel object using native unified kernel API . Reported by Anas Nashif : Verify mailbox object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . The new test should utilise the ztest framework . ( Imported from Jira ZEP-1215 )  	0	1
1 1 1.4 1.0 1.3 1.0 1.25 1.0 1.0 1.0 1.1030927835051547 97 1.0 14 18 83 249	ARC : tests/cmsis_rtos_v2/portability . cmsis_rtos_v2 fails on nsim_em and nsim_sem . : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t hread_apis Assertion failed at /home/apboie/projects/zephyr3/zephyr/tests/cmsis_rtos_v2/src/thread_apis . c : 88 : thread2 : ( osThreadGetStackSize(thread_array[i ]) <= STACKSZ is false ) stack size allocated is not what is expected FAIL - tes t_t hread_apis = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t hread_apis_dynamic Assertion failed at /home/apboie/projects/zephyr3/zephyr/tests/cmsis_rtos_v2/src/thread_apis . c : 134 : thread_apis_common : ( osThreadGetCount () not equal to 2 ) Incorrect number of cmsis rtos v2 threads FAIL - tes t_t hread_apis_dynamic = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t hread_prio Assertion failed at /home/apboie/projects/zephyr3/zephyr/tests/cmsis_rtos_v2/src/thread_apis . c : 63 : thread1 : * args -> yield_check not equal to 2 FAIL - tes t_t hread_prio = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t hread_prio_dynamic Assertion failed at /home/apboie/projects/zephyr3/zephyr/tests/cmsis_rtos_v2/src/thread_apis . c : 50 : thread1 : ( strcmp(args -> name , name ) = = 0 is false ) Failed getting Thread name FAIL - tes t_t hread_prio_dynamic = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer Assertion failed at /home/apboie/projects/zephyr3/zephyr/tests/cmsis_rtos_v2/src/thread_apis . c : 83 : thread2 : ( num_threads not equal to 2 ) Incorrect number of cmsis rtos v2 threads FAIL - tes t_t imer .	2	0
1 1 1.4 1.0 1.3 1.0 1.35 1.0 1.0 1.0 1.2412060301507537 199 1.0 0 2 8 172	devicetree : overloaded DT_REG_ADDR () and DT_REG_SIZE () for PCI devices . Is your enhancement proposal related to a problem ? Please describe . For PCI devices , DT_REG_ADDR () and DT_REG_SIZE () do not contain the base address and size of MMIO regions . Instead , they respectively correspond to the PCI-e bus device function and ID values . See soc/x86/apollo_lake/soc . c to see what I mean , note how : device_mmu_region () . is used . This is not ideal as we are overloading information . One would expect these macros to always return a pointer and a size_t , and not a pcie_bdf_t/pcie_id_t pair in some cases but not others . Describe the solution you'd like Some other dedicated DT macros for obtaining this information , perhaps . I don't have a good sense on the best way to approach this .	2	1
2 2 2.0 2.0 2.0 2.0 1.8 2.0 2.0 2.0 1.0958549222797926 1158 1.0 22 34 45 160	Missing board documentation for nios2/qemu_nois2 . Reported by David Kinder : Board documentation is expected for all supported boards found in the /boards folders ( Imported from Jira ZEP-1915 )	2	2
2 2 1.6 2.0 1.6 2.0 1.45 1.0 1.6666666666666667 2.0 1.0957446808510638 940 1.0 3 7 18 76	wiki : add Networking section and point < URL > . Reported by Inaky Perez-Gonzalez : Create a wiki netwokring section , link it on the side bar , add initially just a link to suported interfaces < URL > as content . ( Imported from Jira ZEP-1591 )  	0	0
1 1 1.2 1.0 1.1 1.0 1.0 1.0 1.6666666666666667 2.0 1.0707714083510262 1413 1.0 1 11 15 95	echo server hangs from IPv6 hop-by-hop option anomaly . Reported by Ruslan Mstoi : Defensics test case IPv6 . IPv6 . ICMPv6 . Echo-Request . IPv6-Packet . payload . ipv6-extension-header . header-hop-by-hop-options . options . ipv6-option . option . option-experimental-3e . type # 11497 Packet with anomaly in IPv6 hop-by-hop option causes echo server to hang and stop responding . Attached pcap can be used to replay this issue . ( Imported from Jira ZEP-2306 )	1	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.3837209302325582 172 1.0 55 63 75 130	[ Coverity CID : 203519]Memory - corruptions in /subsys/net/lib/lwm2m/ipso_light_control . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/ipso_light_control . c Category : Memory - corruptions Function : light_control_create Component : Networking CID : 203519 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 1.1 1.5 1.15 1.5 1.3333333333333333 2.0 0.8433734939759037 166 1.0 3 9 12 56	tests/kernel/device/ kernel.device.pm fails on bt510/bt6x0 . : . /scripts/twister -s tests/kernel/device/ kernel.device.pm -p bt510 -p bt6x0 . gets : : [ 77%] Building C object zephyr/drivers/sensor/si7055/CMakeFiles/drivers__sensor__si7055 . dir/si7055 . c . obj In file included from /home/galak/git/zephyr/include/kernel_includes . h : 21 , from /home/galak/git/zephyr/include/kernel . h : 17 , from /home/galak/git/zephyr/include/init . h : 11 , from /home/galak/git/zephyr/include/device . h : 29 , from /home/galak/git/zephyr/include/drivers/sensor . h : 23 , from /home/galak/git/zephyr/drivers/sensor/si7055/si7055 . c : 10 : /home/galak/git/zephyr/twister-out/bt510/tests/kernel/device/ kernel.device.pm/zephyr/include/generated/devicetree_unfixed.h:7232:35 : error : ' DT_N_S_soc_S_i2c_40003000_S_si7055_40_P_wakeup_source ' undeclared here ( not in a function ); did you mean ' DT_N_S_soc_S_i2c_40003000_S_lis2dh12_18_P_wakeup_source ' ? | ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .  	0	0
2 2 1.2 1.0 0.9 1.0 0.5 0.0 1.6666666666666667 2.0 0.8 5 1.0 4 6 19 73	README file missing for civetweb sample . README file missing in samples/net/sockets/civetweb/ .	2	2
2 2 1.8 2.0 1.7 2.0 1.65 2.0 2.0 2.0 1.4545454545454546 11 1.0 3 9 13 55	tests/net/icmpv6/ failed on mimxrt1050_evk board . . Describe the bug It was the same error as #20007 , for the test cases in tests/net/ directory , there is always an error ' Unaligned memory access ' . To Reproduce Steps to reproduce the behavior : 1 . west build -b = mimxrt1050_evk -p = auto tests/net/icmpv6/ 2 . west flash 3 . See error Screenshots or console output * Booting Zephyr OS build zephyr-v 2.0.0 -1408-g83708567c9d9 *** Running test suite test_icmpv6_fn starting test - test_icmpv6 E : * USAGE FAULT *** E : Unaligned memory access E : r0/a1 : 0x00000068 r1/a2 : 0xf88899e5 r2/a3 : 0x00000000 E : r3/a4 : 0x00000000 r12/ip : 0x00000012 r14/lr : 0x60008117 E : xpsr : 0x81000000 E : Faulting instruction address ( r15/pc ): 0x600081c4 E : >>> ZEPHYR FATAL ERROR 0 : CPU exception E : Current thread : 0x800013d4 ( unknown ) E : Halting system Environment ( please complete the following information ): - OS : Fedora28 - Toolchain : zephyr-sdk- 0.10.3 - Commit ID : 83708567	2	0
0 0 0.8 1.0 0.9 1.0 0.8 1.0 0.6666666666666666 0.0 1.0823529411764705 1275 1.0 2 10 14 69	Legacy Application Porting Guide refers to deleted file : include/legacy . h . Reported by David Kinder : The legacy application porting guide ( < URL > mentions use of include/legacy . h that has been removed ( Imported from Jira ZEP-2112 )	2	2
0 0 1.0 1.0 0.8 0.5 0.85 1.0 0.6666666666666666 0.0 1.8 5 2.0 4 24 35 78	lib : updatehub : Add missing include for FLASH_AREA . The conversion from DT_FLASH_AREA to FLASH_AREA macros don't add the storage flash_map . h include file . Fixes : #25332 Signed-off-by : Gerson Fernando Budke < URL >  	0	0
1 1 1.2 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.0797266514806378 878 1.0 0 1 4 58	net/dns : Test case for DNS API . Reported by Flavio Santes : Create a test case for the DNS low-level and high-level APIs ( Imported from Jira ZEP-1499 )  	0	1
1 1 1.2 1.0 1.3 1.0 1.35 1.5 1.3333333333333333 1.0 0.0 1 0.0 0 5 10 79	Bluetooth v 2.6.0 connectable advertising leak/loss . Describe the bug While resolving the causes of two Bluetooth asserts described in issue : < URL > we uncovered another issue . We have up to 4 mobile/phone devices connected and bonded to our Zephyr device which is acting as a Bluetooth peripheral . After connecting all four mobile devices and then disconnected and reconnected each device a few times , gradually the total number of devices that would successfully re-connect would drop to one or sometimes zero . To Reproduce See config used in issue : < URL > Expected behaviour Up to four central Bluetooth devices can connect to our peripheral in any sequence and with up to four at a time indefinitely . Impact Showstopper - end user will need to reset device to continue using it . Logs and console output Supplied to @cvinayak < URL > Environment ( please complete the following information ): OS : Windows Toolchain C compiler identification is GNU 9 Q4 Commit SHA c9fd7a6 + cherry pick commits from < URL > + EVENT_DONE_MAX to 4 recommendation from comment < URL >  	0	0
2 2 1.4 2.0 1.4 1.5 1.2 1.0 2.0 2.0 0.0 0 0.0 1 21 28 71	SMP lacks low-power idle . Right now the SMP implementation has an idle loop for auxiliary CPUs that simply spins on the scheduler waiting for a runnable thread to appear . That minimizes latency at the expense of power ( the opposite tradeoff would be to wait for our next timer tick , but that can be a very long time ) . A proper architecture would have the scheduler issue an inter-processor interrupt to idle CPUs whenever a thread was added to the ready queue so that they can synchronously wake up . ( Even this might require some performance tuning in the long term , though , because in many cases the thread is being added just as the current thread is being removed and we don't want to incur the wakeup costs ) .	1	1
1 1 1.2 1.0 1.6 2.0 1.8 2.0 1.0 1.0 1.0597014925373134 804 1.0 3 17 25 150	Add a driver for Atmel ataes132a HW Crypto module . Reported by Kuo-Lang Tseng : Implement Zephyr Crypto API with shim driver using some available HW Crypto modules on the market . One such HW Crypto module is : < URL > ( Imported from Jira ZEP-1387 )	1	1
1 1 0.8 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.0690121786197564 1478 1.0 4 6 15 80	Some tests end up with 0 platforms due to bad filtering . Reported by Mark Linkmeyer : We keep finding tests that are excluded due to bad filters , have the sanitycheck script detect those and report about any bad filters in testcases . based on idea from @galak . ( Imported from Jira ZEP-2405 )	1	1
0 0 0.6 1.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 1.0767494356659142 886 1.0 5 8 11 58	doc-theme has its own conf.py . Reported by Anas Nashif : The git repo < URL > has its own conf.py which is copied on top of the master conf.py to generate documentation with a new theme , we need to maintain only one configuration file for documentation and support multiple themes and deployment using one single conf.py Remove conf.py from the theme git repo and adjust main conf.py to support additional themes . ( Imported from Jira ZEP-1512 )	2	2
1 1 1.4 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 0.8187134502923976 171 1.0 5 38 114 163	tests/drivers/uart/uart_basic_api/drivers . uart . cdc_acm fails to build . The following fails : : . /scripts/twister -p waveshare_open103z -s tests/drivers/uart/uart_basic_api/drivers . uart . cdc_acm . : Traceback ( most recent call last ): File ' /home/galak/git/zephyr/scripts/gen_handles . py ' , line 371 , in < module > main () File ' /home/galak/git/zephyr/scripts/gen_handles . py ' , line 341 , in main assert len(hdls ) < len(hs . handles ) , ' %s no DEVICE_HANDLE_ENDS inserted ' % ( dev.sym.name,) AssertionError : __device_dts_ord_256 no DEVICE_HANDLE_ENDS inserted . Git bisect shows the issue is related to : ec331c6fe21f2bbbf4b0d1c3667c294320b1c924  	0	0
2 2 1.0 1.0 1.0 1.0 0.85 1.0 1.3333333333333333 2.0 1.0920043811610076 913 1.0 4 8 27 75	Xtensa integration . Reported by Andrew Boie : Cadence has delivered some half-finished patches against 1.5 which ports Zephyr to Xtensa architecture . We need to get this code in shape and integrated into the tree as there is a lot of interest in the project to support this architecture . ( Imported from Jira ZEP-1554 )	1	1
2 2 1.8 2.0 1.7 2.0 1.5 2.0 1.6666666666666667 2.0 1.0892857142857142 56 1.0 5 13 29 111	tests/kernel/gen_isr_tables only runs on ARM . This test ought to run on any platform which uses CONFIG_GEN_ISR_TABLES and has code to trigger an interrupt line from software . The test used to run on ARC and RISCV32 . The bug is in the testcase . yaml which has an incorrect filter line : : filter : CONFIG_GEN_ISR_TABLES and CONFIG_ARMV7_M_ARMV8_M_MAINLINE .	2	1
0 0 0.4 0.0 0.6 0.0 0.6 0.0 0.0 0.0 1.0791311093871219 1289 1.0 4 6 15 69	Static code scan ( coverity ) issues seen . Reported by Shilpashree L C : As per the Coverity last analyses on April 18 , 2017 , there were potential defects that were found in /tests/benchmarks/ file has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type|| ||Category|| ||File|| ||Function|| |167147| |Unchecked return value| |Error handling issues| |/tests/benchmarks/app_kernel/src/mailbox_r . c| |mailbox_get| |167145| |Unchecked return value| |Error handling issues| |/tests/benchmarks/app_kernel/src/mempool_b . c| |mempool_test| ( Imported from Jira ZEP-2134 )  	0	0
2 2 1.6 2.0 1.7 2.0 1.45 2.0 2.0 2.0 1.318882867861609 2399 1.0 3 12 19 122	[ backport v 2.7 -branch ] backport of #38965 failed . This issue was created automatically because the backport of #38965 to : v 2.7 -branch . failed . The backport to : v 2.7 -branch . failed : : The process ' /usr/bin/git ' failed with exit code 1 . To backport manually , run these commands in your terminal : : # Fetch latest updates from GitHub git fetch # Create a new working tree git worktree add . worktrees/backport-v 2.7 -branch v 2.7 -branch # Navigate to the new working tree cd . worktrees/backport-v 2.7 -branch # Create a new branch git switch -- create backport-38965-to-v 2.7 -branch # Cherry-pick the merged commits of this pull request and resolve the conflicts git cherry-pick a18bc0f4f7a42990ba9e38a83a9434b6b51b4d9c # Push it to GitHub git push -- set-upstream origin backport-38965-to-v 2.7 -branch # Go back to the original working tree cd .. / .. # Delete the working tree git worktree remove . worktrees/backport-v 2.7 -branch . Then , create a pull request where the : base . branch is : v 2.7 -branch . and the : compare . / : head . branch is : backport-38965-to-v 2.7 -branch . .	2	0
2 2 1.6 2.0 1.8 2.0 1.6 2.0 2.0 2.0 1.5 2 1.5 1 1 9 68	Mixed usage of signed/unsigned integer by the logging subsystem . Describe the bug If : -Wextra . is enabled on an application using the logging subsystem a few compilers warnings related to signed/unsigned comparisons are reported To Reproduce Steps to reproduce the behavior : 1 . Take any application that makes uses of the logging subsystem , e.g. : LOG_ERR (...) . . 2 . Enable : -Wextra . , : target_compile_options(app PRIVATE -Wextra ) . 3 . Observe reported warnings Expected behavior I expect that logging subsystem makes consistent usage of signed/unsigned integers Impact : -Wextra . may be useful in applications that want to enforce stricter rules ( e.g. MISRA ) Logs and console output : zephyr/include/logging/log_msg2 . h : 297:39 : warning : operand of ? : changes signedness from ' int ' to ' unsigned int ' due to unsignedness of other operand [-Wsign-compare ] 297 | CBPRINTF_STATIC_PACKAGE(_msg -> data , _plen , _plen , / zephyr/include/sys/cbprintf_internal . h : 230:19 : warning : comparison of integer expressions of different signedness : ' int ' and ' size_t ' { aka ' unsigned int ' } [-Wsign-compare ] 230 | if (_buf && _idx < _max ) { / zephyr/include/sys/cbprintf_internal . h : 320:22 : warning : comparison of integer expressions of different signedness : ' int ' and ' size_t ' { aka ' unsigned int ' } [-Wsign-compare ] 320 | _outlen = (_pkg_len > _pmax ) ? -ENOSPC : _pkg_len ; / . Environment ( please complete the following information ): - OS : Linux - Toolchain Zephyr SDK 0.12.4 - Commit SHA or Version used 5d2909654fb572bc059bfc530a669d086797fe6a Additional context Add any other context about the problem here .  	0	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.3905325443786982 169 1.0 52 60 72 127	[ Coverity CID : 203539]Memory - corruptions in /subsys/net/lib/lwm2m/ipso_accelerometer . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/ipso_accelerometer . c Category : Memory - corruptions Function : accel_create Component : Networking CID : 203539 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.6 1.0 0.6 1.0 0.95 1.0 0.6666666666666666 1.0 0.9753320683111955 527 1.0 13 35 45 126	Add abort handler support . Reported by Benjamin Walsh : Need to decide whether abort handler support will be long-term feature of the new kernel or not . : If not : Remove mention of it from the Kernel Primer document . Remove any code related to it , other than what's needed to support legacy API behaviors . If so : Update thread spawning APIs to allow abort handler to be specified . ( Currently just gets set to NULL . ) Allow abort handler to accept one or more arguments , such as the thread id or a user-supplied argument , or both . ( Simplest approach would be to pass the abort handler the thread's id . The abort handler could then access the thread's custom data to get any additional thread-local stuff . ) . ( Imported from Jira ZEP-917 )  	0	1
2 2 1.8 2.0 1.8 2.0 1.65 2.0 1.6666666666666667 2.0 1.6666666666666667 3 2.0 2 7 14 90	threads without name show up as junk names in SystemView . When a thread does not have a name set ( in this case the RX thread of the STM32 ethernet driver ) SystemView shows the name as junk ; I will give the STM32 thread a name , but I think there is some deeper problem on why SystemView shows junk and not just an empty string .	2	0
1 1 0.6 1.0 0.7 1.0 0.9 1.0 0.6666666666666666 1.0 1.0945945945945945 1184 1.0 4 16 17 122	Add Atmel SAM family serial ( UART ) driver . Reported by Piotr Mienkowski : Add Atmel SAM family serial ( UART ) driver ( Imported from Jira ZEP-1959 )	1	1
1 1 1.2 1.0 1.2 1.0 1.35 1.5 1.0 1.0 1.0848601735776278 1037 1.0 5 12 42 104	implement direct interrupts on ARC . Reported by Andrew Boie : Direct interrupts have been implemented on ARM and x86 , see GH-2543 . ARC implementation remains . For now , we assume that direct interrupts for ARC will all be configured as FIRQS . Need to understand what the semantics of attribute (( interrupt )) on ARC are , the GCC manual mentions that either ' ilink1 ' or ' ilink2 ' parameters are needed although this doesn't make sense for ARCv2 . ( Imported from Jira ZEP-1727 )	1	1
2 2 1.4 1.0 1.5 1.5 1.35 1.0 1.6666666666666667 2.0 1.4545454545454546 11 1.0 2 7 11 62	Bluetooth : ATT : Fix handling ATT response . The callback function may modify the att -> req and it has to be called after the att_process . The att_process does not re-check if att -> req is still NULL .	1	0
1 1 0.4 0.0 0.4 0.0 0.35 0.0 0.6666666666666666 1.0 1.0835762876579202 1029 1.0 3 7 37 96	support for IPv6 fragmentation . Reported by Andrei Laperie : It should be possible for an application to transparently send buffers larger than MTU in size . The fragmentation duties should be performed by the stack . ( Imported from Jira ZEP-1718 )	1	1
2 2 1.2 1.0 1.5 1.5 1.2 1.0 1.3333333333333333 1.0 1.2352941176470589 68 1.0 3 6 19 66	nrf5340 pdk : BOARDS_ENABLE_CPUNET does not allow proper NET MCU configuration . Describe the bug A recently introduced Kconfig option , BOARDS_ENABLE_CPUNET controls whether remoteproc_mgr_boot () is called from nrf5340 Application MCU booting process . remoteproc_mgr_boot () should be ideally called only once , and by the image that resets the nrf5340 NETWORK MCU . So BOARDS_ENABLE_CPUNET should be set by the image that cooperates with the NETWORK MCU . If this is a Non-Secure image , then parts of the configuration done in remoteproc_mgr_config () are never executed , and this is a problem . If , instead , we allow BOARDS_ENABLE_CPUNET to be enabled from both Secure and Non-Secure Application MCU images , then the RESET of NET MCU is occurring twice , which is very confusing . We also do not deal with ( extreme ) corner cases when the image responsible to reset the NET MCU does not own the shared memory . Expected behavior We need to make sure remoteproc_mgr_boot does not contain dead code . We should really re-organize the code in the respective module , to ensure that all parts of the code are executed by the intended images .	2	0
2 2 1.2 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.1359223300970873 103 1.0 9 15 20 83	samples/drivers/flash_shell/sample . drivers . flash . shell fails to build on nucleo_wb55rg . When I do : : . /scripts/sanitycheck -s samples/drivers/flash_shell/sample . drivers . flash . shell -p nucleo_wb55rg . I get : : /home/galak/git/zephyr/drivers/flash/flash_stm32wbx . c : 23:10 : fatal error : shci . h : No such file or directory 23 | #include ' shci . h ' | ^ ~~~~~~~ compilation terminated . .  	0	0
0 0 0.8 1.0 1.1 1.0 1.25 1.0 0.6666666666666666 0.0 1.0762839879154078 1324 1.0 5 6 15 75	HTTP 400 Bad request forever . Reported by John Andersen : If you send a bad request the http_server in the samples/net/http_server sends a ' HTTP/ 1.1 400 Bad Request ' to every subsequent request . To reproduce : { code } Observere that it works before $ env - curl -vvvvv < URL > * Trying 192.0.2.1 ... * TCP_NODELAY set * Connected to 192.0.2.1 ( 192.0.2.1 ) port 80 ( # 0 ) GET /headers HTTP/ 1.1 Host : 192.0.2.1 User-Agent : curl/ 7.54.0 Accept : / < HTTP/ 1.1 200 OK < Content-Type : text/html < Transfer-Encoding : chunked < Zephyr HTTP Server Zephyr HTTP server HTTP Header Fields Host : 192.0.2.1 User-Agent : curl/ 7.54.0 Accept : */* HTTP Method : GET URL : /headers Server : x86 * Connection # 0 to host 192.0.2.1 left intact Messes it up $ echo -i ' GET /headers HTTP/ 1.1 /r/n/r/n /r/n ' | nc 192.0.2.1 80 HTTP/ 1.1 400 Bad Request ^C Now it always says bad request $ env - curl -vvvvv < URL > * Trying 192.0.2.1 ... * TCP_NODELAY set * Connected to 192.0.2.1 ( 192.0.2.1 ) port 80 ( # 0 ) GET /headers HTTP/ 1.1 Host : 192.0.2.1 User-Agent : curl/ 7.54.0 Accept : / < HTTP/ 1.1 400 Bad Request * no chunk , no close , no size . Assume close to signal end < ^C { code } On commit 6b5a7238b2673d35f8edf017ce371cc8a94f9c92 ( Mon May 22 14:46:13 2017 ) . ( Imported from Jira ZEP-2181 )	1	0
0 0 0.8 1.0 1.2 1.5 1.15 1.0 0.3333333333333333 0.0 0.0 0 0.0 1 3 14 87	qemu_nios2 should use the GHRD design . We currently use a custom Nios II build and have had to patch QEMU in order to support the machine type . We would rather use vanilla QEMU with the GHRD : Add a SOC target for the GHRD , see if we can find a system . h and layout . h for it so we can run Zephyr in QEMU with the default GHRD machine .	2	1
1 1 1.0 1.0 0.7 0.5 0.75 0.5 0.3333333333333333 0.0 1.1320754716981132 53 1.0 2 16 45 120	sanitycheck failure : [`nocache`] build failures with sdk-ng- 0.10.0 . : FAILED : sam_e70_xplained/samples/net/dhcpv4_client/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/dns_resolve/test_llmnr has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/dns_resolve/test_mdns has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/gptp/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/nats/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/big_http_download/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/dumb_http_server/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/echo/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/echo_client/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/echo_server/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/sockets/http_get/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/stats/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/syslog_net/test_with_timefuncs has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/syslog_net/test_withou t_t imefuncs has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/telnet/test has unrecognized binary sections : [' nocache ' ] FAILED : sam_e70_xplained/samples/net/vlan/test has unrecognized binary sections : [' nocache ' ] .	1	0
1 1 1.2 1.0 1.2 1.0 1.3 1.0 1.0 1.0 1.4814814814814814 27 1.0 3 10 30 89	tests/kernel/semaphore/semaphore failed on iotdk board . . Describe the bug Running tests/kernel/semaphore/semaphore on iotdk board , it would stop at ' starting test - test_sem_take_timeout_isr ' and timeout . To Reproduce Steps to reproduce the behavior : 1 . west build -b iotdk -p auto tests/kernel/semaphore/semaphore/ 2 . west flash 3 . see error Screenshots or console output Booting Zephyr OS build zephyr-v 2.1.0 -2157-g4eaac5c7b379 Running test suite test_semaphore starting test - test_k_sema_init PASS - test_k_sema_init starting test - test_sema_thread2thread PASS - test_sema_thread2thread starting test - test_sema_thread2isr PASS - test_sema_thread2isr starting test - test_sema_reset PASS - test_sema_reset starting test - test_sema_count_get PASS - test_sema_count_get starting test - test_simple_sem_from_isr PASS - test_simple_sem_from_isr starting test - test_simple_sem_from_task PASS - test_simple_sem_from_task starting test - test_sem_take_no_wait PASS - test_sem_take_no_wait starting test - test_sem_take_no_wait_fails PASS - test_sem_take_no_wait_fails starting test - test_sem_take_timeout_fails PASS - test_sem_take_timeout_fails starting test - test_sem_take_timeout PASS - test_sem_take_timeout starting test - test_sem_take_timeout_forever PASS - test_sem_take_timeout_forever starting test - test_sem_take_timeout_isr Environment ( please complete the following information ): - OS : Fedora28 - Toolchain : Zephyr-sdk- 0.11.1 - Commit ID : 4eaac5c7b	1	0
1 1 0.8 1.0 1.2 1.0 1.05 1.0 0.6666666666666666 1.0 0.9583333333333334 216 1.0 4 9 35 100	nios2 : scope floating point support . Reported by Andrew Boie : Initial Nios II bring-up won't have any floating-point support built in . However this optional CPU feature may be useful to some users trying ( for example ) to process sensor data . Scope what's needed to add support for floating point to the kernel . ( Imported from Jira ZEP-374 )	2	1
2 2 1.8 2.0 1.7 2.0 1.4 2.0 2.0 2.0 1.0259562841530054 732 1.0 2 6 30 122	Race condition with k_sem_take . Reported by Jon Medhurst : I've spent many days chasing a Heisenbug occurring on an ARM Cortex M3 device that started with the switch to the unified kernel . I've tracked this down to a seemingly stale value of preempReg . psp when fiberRtnValueSet is called from sem_give_common during an ISR . The dodgy value of preempReg . psp points to several call levels up the process stack , so fiberRtnValueSet writing zero there has a delayed and varying effect depending on timing and memory layout . I believe there is a race condition with k_sem_take and possibly other kernel functions , like this ... k_sem_take will : - disable interrupts - move current thread to semaphore wait_q - call _Swap _Swap issues ' svc # 0 ' which calls __svc __svc will : - enable interrupts - trigger __pendsv ( I'm a bit vague on this ) __pendsv will : - save register context including PSP into the thread struct If an interrupt occurs between __svc enabling them and __pendsv saving PSP , then the interrupt's ISR when it calls k_sem_give will go wrong as it : - sees the thread in the semaphore wait_q - removes it - makes it ready - calls _se t_t hread_return_value ( fiberRtnValueSet ) - fiberRtnValueSet looks at the thread's saved PSP to poke the value PSP hasn't yet been updated by __pendsv so it's a stale value from the previous context switch , resulting in unpredicable word on the stack getting set to zero . I think this same issue was seen in GH-2521 ( Imported from Jira ZEP-1289 )  	0	0
0 0 0.8 1.0 0.9 1.0 0.85 1.0 0.3333333333333333 0.0 0.3333333333333333 3 0.0 3 10 16 94	drivers : timer : nrf_rtc_timer : fix handling for 24-bit counter . Two subtractions failed to account for the possibility that a calculated time exceeded the counter resolution , allowing a comparison to improperly indicate that a minimum delay was satisfied . Use the subtraction helper to avoid the problem . ( The subtraction in z_clock_se t_t imeout was the cause of issue #11694 ; the one in rtc1_nrf5_isr was replaced based on inspection rather than testing . ) Closes #11694 Fixes #11744 Signed-off-by : Peter A . Bigot < URL >  	0	0
2 2 1.2 2.0 1.2 1.5 1.3 2.0 1.3333333333333333 2.0 1.0888888888888888 990 1.0 0 2 11 85	ARC : GPIO/I2C/SPI default names are wrong on ARC side . Reported by Qiu Peiyang : Configuration arc arduino_101_sss/Quark_se_c1000_ss_devboard unified Bug detailed description GPIO/I2C/SPI default names are wrong on ARC side For example : arch/arc/soc/quark_se_c1000_ss/Kconfig . defconfig config SPI_0_NAME default ' SPI_2 ' config SPI_SS_0_NAME default ' SPI_0 ' The right config should be : CONFIG_SPI_SS_0_NAME='SPI_SS_0 ' ( Imported from Jira ZEP-1671 )  	0	0
2 2 1.8 2.0 1.8 2.0 1.55 2.0 2.0 2.0 1.7142857142857142 7 2.0 4 7 8 101	Changes to SOCs ( and ARCHs ) are not covered thoroughly enough by PR CI runs . As shown by #8602 happening , we have a hole in the CI runs when SOCs are modified . It would be nice if changes in SOCs would trigger ( at least some of ) its boards to be run in CI during a PR . Thoughts : I guess one option could be to have a get_modified_socs . py similar to get_modified_boards . py , which would add all/some of the boards from a SOC when that SOC is modified . Another option could be to have at least 1 board per SOC as testing defaults for a given arch .	2	1
0 0 0.2 0.0 0.5 0.5 0.75 1.0 0.3333333333333333 0.0 1.2777777777777777 18 1.5 3 10 77 120	setting : fix NVS error handling on write . In settings write NVS errors were not handled in a few places . This patch improve that . fixes #20515 Signed-off-by : Andrzej Puzdrowski < URL >	1	0
1 1 1.2 1.0 1.3 1.0 1.05 1.0 1.3333333333333333 1.0 1.125 16 1.0 4 28 44 91	LwM2M data formatting bugfixes . This patchset looks quite long for a series of bugfixes . However , I've tried to address several bugs exposed in our data formatting layer knowing that more data formatters are going to be added for LwM2M 1.1 support ( CBOR ) . Each patch should be atomic and easily consumable for the reviewer . If not let me know . Addresses the following issues : - Having 1 main read_op function which processed all of the data formatters was prone to breakage , so it needed to be split up . - TLV formatter didn't indicate ' object instance ' boundry when more than 1 object was being returned . - JSON formatter had all sorts of problems and only the READ related issues are addressed in this series - Plain text formatter should only return data for a single resource request The initial goal of this series was to fix < URL >	1	0
1 1 1.2 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 1.1761006289308176 159 1.0 0 7 13 58	z_arch_switch () passed pointer to NULL outgoing switch handle on dummy thread context switch . If CONFIG_SWITCH is enabled , the initial context switch into the main thread ( either in prepare_multithreading () or smp_ini t_t op () has a fundamental flaw . It's relying on a partially initialized ' dummy_thread ' for the outgoing thread information , with dummy_thread -> switch_handle being NULL . This causes a NULL pointer dereference to any arch that uses the outgoing switch handle for anything . When I enable memory protection this causes a fatal page fault on intel64 . Some solutions I've considered : 1 . Add a NULL check in the arch switch code for the outgoing thread handle ( slow ) 2 . Implement CONFIG_ARCH_HAS_CUSTOM_SWAP_TO_MAIN instead of a dummy thread , which would be mandatory for all arches implementing CONFIG_SWITCH , and there is no support for this yet in smp_ini t_t op () 3 . Change switch handles to be something typed ( like the actual thread objects ) so that dummy thread switch handles can be populated in kernel code in an arch-agnostic way To me option 3 seems preferable Impact : All arches using CONFIG_SWITCH () are de-referencing a null pointer , silently unseen until now due to luck and no SMP arches having memory protection enabled .  	0	0
2 2 2.0 2.0 2.0 2.0 1.85 2.0 2.0 2.0 1.270446096654275 2152 1.0 20 20 29 230	[ Coverity CID : 220436 ] Explicit null dereferenced in tests/lib/sprintf/src/main . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : test_put . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 1.1 1.0 1.05 1.0 1.0 1.0 1.0858536585365854 1025 1.0 0 24 35 95	consolidate all quark se c1000 arc boards into one . Reported by Anas Nashif : No need to create a sensor subsytem variant for every board , use only one and share it across all boards using this SoC . ( Imported from Jira ZEP-1714 )	1	1
2 2 1.6 2.0 1.5 2.0 1.35 1.0 1.6666666666666667 2.0 1.1176470588235294 17 1.0 5 11 21 83	drivers : gpio : stm32 : implementation silently ignores attempts to configure level interrupts . These GPIO drivers support edge and double-edge edge , but not level interrupts : cc2650 : edge , double-edge , diagnose unsup level gecko : edge , double-edge : diagnose unsup level stm32 : edge , double-edge ; silent unsup level STM32 does not support level interrupts , but if asked to configure for one will leave the GPIO partially configured without returning an error . The code should detect the unsupported feature request and reject the configuration .	1	0
1 1 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.0841392649903288 1034 1.0 8 9 40 101	net/eth/drivers/eth_mcux : TCP client mode is broken . Reported by Flavio Santes : After applying < URL > and trying to run the MQTT Publisher application ( tcp client application ) the application is unable to connect to the server : [ dev/eth_mcux ] [ DBG ] eth_0_init : MAC 00:04:9 f : 0b : 51 : e2 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 0 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 1 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 2 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state =3 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 4 net_context_connect error Is the server ( broker ) up and running ? [ publisher : 240 ] network_setup : -60 Bye ! [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 6 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 4 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 6 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 4 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 6 [ dev/eth_mcux ] [ DBG ] eth_mcux_phy_event : phy_state = 4 When the patch is reverted ( or before it was applied ) the output is : [ dev/eth_mcux ] [ INF ] eth_0_init : Enabled 100M full-duplex mode . [ dev/eth_mcux ] [ DBG ] eth_0_init : MAC 00:04:9 f : fb : a9 : aa [ publisher : 240 ] network_setup : 0 [ publisher : 265 ] mqtt_init : 0 [ connect_cb : 87 ] user_data : CONNECTED [ try_to_connect : 219 ] mqt t_t x_connect : 0 [ publisher : 283 ] try_to_connect : 0 [ publisher : 292 ] mqt t_t x_pingreq : 0 [ publisher : 297 ] mqt t_t x_publish : 0 [ publish_cb : 155 ] packet id : 15414 , user_data : PUBLISH [ publisher : 302 ] mqt t_t x_publish : 0 [ publish_cb : 155 ] packet id : 54656 , user_data : PUBLISH [ publish_cb : 155 ] packet id : 54656 , user_data : PUBLISH ( Imported from Jira ZEP-1724 )	1	0
2 2 1.6 2.0 1.6 2.0 1.55 2.0 1.6666666666666667 2.0 1.6666666666666667 6 2.0 3 13 19 71	k_cpu_idle () is called with interrupts locked inside idle () . Inside : kernel/idle . c . , function : sys_power_save_idle () . , : k_cpu_idle () . is called when : _sys_suspend () . determines that it is not desirable to suspend . And : sys_power_save_idle () . is called within : idle () . in the same file when : arch_irq_lock () . is called just before . This causes issues , for example on ARM , where : k_cpu_idle () . -> : arch_cpu_idle () . would manipulate : BASEPRI . where : arch_irq_lock () . also manipulate : BASEPRI . . Compounding the problem is that : idle () . never calls : arch_irq_unlock () . so : BASEPRI . is never restored . With : arch_cpu_idle () . inherits the : BASEPRI . from : arch_irq_lock () . and : arch_cpu_idle () restores the inherited . BASEPRI` , this may prevent handling of normal interrupts ( as these are masked ) .	1	1
2 2 2.0 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.4489795918367347 49 1.0 2 2 12 49	Couldn't get test result from serial on up_squared board . . Describe the bug running some tests on up_squared , the console log will stop at the ' Booting Zephyr OS ' step , and couldn't get test result . git bisect and found the first bad commit is 928d3112 . To Reproduce Steps to reproduce the behavior : 1 . west build -b up_squared -p auto tests/kernel/common/ 2 . west flash ~ /up_squared . sh 3 . see error Logs and console output * delaying boot 500ms ( per build configuration ) Booting Zephyr OS build zephyr-v 2.3.0 -809-g897b5bf60a12 ( delayed boot 500ms ) *** Environment ( please complete the following information ): - OS : Fedora28 - Toolchain : Zephyr-sdk- 0.11.4 - Commit ID : 897b5bf60a  	0	0
1 1 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 1.0751928020565553 1556 1.0 14 19 22 81	Static code scan ( Coverity ) issue seen in file : /tests/net/icmpv6/src/main . c . Reported by Shilpashree L C : Coverity issue seen with CID : 173657 Category : Null pointer dereferences Function : run_tests Please fix or provide comments to square it off in coverity : < URL > ( Imported from Jira ZEP-2530 )	2	0
1 1 0.8 1.0 0.6 0.5 0.7 1.0 0.6666666666666666 1.0 0.8571428571428571 14 1.0 2 2 5 57	Bluetooth : controller : legacy : Fix tx_time calculation for length update . Fix tx_time calculation for the case that BT_CTRL_PHY is defined and there has not been a feature exchange . Signed-off-by : Wolfgang Puffitsch < URL > Signed-off-by : Vinayak Kariappa Chettimada < URL >	1	0
2 2 2.0 2.0 2.0 2.0 1.65 2.0 2.0 2.0 1.0957763236168947 1681 1.0 41 49 57 171	[ Coverity CID : 205779 ] Parse warnings in subsys/usb/class/hid/core . c . Static code scan issues found in file : < URL > Category : Parse warnings Function : `` Component : Other CID : 205779 Please fix or provide comments in coverity using the link : < URL >	2	0
2 2 0.8 1.0 1.2 1.0 1.5 2.0 1.0 1.0 0.0 0 0.0 2 73 79 127	automount configuration in nrf52840dk_nrf52840 . overlay causes error : mount point already exists !! in subsys/fs/littlefs sample . Current subsys/fs/littlefs sample report error ' fs : mount point already exists!!' after building and run on nRF52840 board . Comment ' automount;' in subsys/fs/littlefs/boards/nrf52840dk_nrf52840 . overlay solve the issue .	2	0
1 1 1.2 1.0 1.3 1.0 1.1 1.0 1.3333333333333333 1.0 0.0 0 0.0 1 6 10 62	Create a WebUSB subsys driver . WebUSB enabled devices are able to communicate directly with web applications with browsers implementing the spec . Currently , there is a sample app ( slightly outdated and static features ) under /samples/subsys/usb/webusb It would make sense to create a real subsys WebUSB ' driver ' that can easily be included in projects that need WebUSB support . Often these will also have the need for other classes in parallel ( resulting in a composite USB device description ) . As a starting point , we can use the sample mentioned above with the following changes : [ ] Functionality to change manufacturer and product string [ ] Functionality to change serial runtime , e.g. to assign unique IDs from hardware [ ] The possibility to merge with other interfaces ( e.g. CDC & WebUSB ) [ ] License fix -> Apache2 ( check with Intel ? ) Also , it would be a good idea to involve Reilly Grant ( @reillyeon ) and Kenneth Christiansen ( @kenchris ) in the process .	2	1
1 1 1.2 1.0 0.9 1.0 1.05 1.0 1.6666666666666667 2.0 1.0950920245398772 978 1.0 4 12 28 104	Update links to wiki pages for board info back into the web docs . Reported by David Kinder : Documents such as < URL > have links to wiki pages for board information ( such as < URL > that should be changed to references to board pages in the web documentation . Scan for these and fix . ( Imported from Jira ZEP-1648 )	1	2
2 2 1.0 1.0 1.1 1.0 1.2 1.0 1.0 1.0 0.9720496894409938 322 1.0 0 0 6 50	Clean all the figures inside . Reported by Javier B Perez : Please remove all the figures that are not in use inside folder . For instance the figures inside the board directory . ( Imported from Jira ZEP-564 )	1	2
2 2 1.2 1.0 1.3 1.0 1.35 1.0 1.6666666666666667 2.0 0.75 8 1.0 0 12 22 82	Event counter may get out of sync when multiple events collide in ticker . During collision scenarios with high CPU load , the : ticker_worker . may be called a second time before the : ticker_job . gets to run . This will cause ticker operations on the previosly expired node ( expected ) , but in some cases increment lazy_current , even though the node was not sceduled to execute via the req/ack mechanism . To Reproduce Steps to reproduce the behavior : 1 . One or more BLE connections and advertising active ( multiple BLE connections with same conn . interval helps trigger issue ) 2 . Observe BLE connection integrity 3 . Peripheral may be disconnected or stop receiving packets for long periods at a time Expected behavior All BLE connections must be maintained according to the standard . Impact Peripheral may be disconnected with MIC error on peer side , or - depending on supervision timeout - stop receiving packets for long periods at a time , with suddenly one packet received followed by no packets . This is due to event counter getting out of sync , and thereby in most cases calculate a wrong channel . Additional context The issue is observed on vendor specific architecture and implementation , with microsecond-close ticker timeouts allowed ( 30 us ) . It is not certain that this problem is seen often or at all on the Nordic platform , where the these are spaced min . 100 us . apart , and with a higher CPU clock speed .	1	0
2 2 1.4 1.0 1.6 2.0 1.6 2.0 1.6666666666666667 2.0 1.1486486486486487 74 1.0 1 1 3 169	document the mailing list for nightly build results . Document on the wiki or somewhere about the mailing list that nightly builds .	2	2
0 0 0.4 0.0 0.8 1.0 0.95 1.0 0.3333333333333333 0.0 1.0762331838565022 1115 1.0 7 21 28 131	ROM-able . Reported by Robert Beatty : Quality of RTOS should be ROM-able to allow portions of RTOS into ROM . ( Imported from Jira ZEP-1849 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.35 1.0 1.0 1.0 1.52 50 2.0 7 20 27 71	[ Coverity CID : 187821 ] Memory - illegal accesses in /subsys/bluetooth/host/hci_core . c . Static code scan issues seen in File : /subsys/bluetooth/host/hci_core . c Category : Memory - illegal accesses Function : bt_id_delete Component : Bluetooth CID : 187821 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.1 1.0 1.05 1.0 0.6666666666666666 1.0 1.0 1 1.0 1 7 13 79	Unexpected fault during test does not cause test failure . Describe the bug Faults during tests are not treated as test failure : : (...) starting test - test_mutex_lock_timeout ***** MPU FAULT ***** Data Access Violation MMFAR Address : 0xe ***** Hardware exception ***** Current thread ID = 0x20000468 Faulting instruction address = 0xfbbc Fatal fault in thread 0x20000468 ! Aborting . PASS - test_mutex_lock_timeout = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_semaphore PASS - test_semaphore = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_mempool ***** BUS FAULT ***** Imprecise data bus error ***** Hardware exception ***** Current thread ID = 0x20000518 Faulting instruction address = 0xf942 Fatal fault in thread 0x20000518 ! Aborting . PASS - test_mempool (...) = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PROJECT EXECUTION SUCCESSFUL . To Reproduce Trigger unexpected fault during test . Expected behavior Any unexpected fault should result in test failure .	1	0
2 2 1.0 1.0 0.7 0.0 0.85 1.0 1.3333333333333333 2.0 0.9864636209813875 591 1.0 5 5 14 168	battery : Add standard APIs for Battery Charging and Fuel Gauge Handling ( Energy Management ) . Reported by Souvik Kumar Chakravarty : Currently Zephyr does not have any standard interface for the applications to interact with the Battery related hardware sub-system . We need to create one so that applications can work independent of hardware variations . ( Imported from Jira ZEP-1037 )	1	1
2 2 1.6 2.0 1.3 1.5 1.25 1.0 2.0 2.0 0.9461538461538461 260 1.0 1 7 9 78	Quark SE output by default redirected to IPM . Reported by Inaky Perez-Gonzalez : When building for the Quark SE sensor architecture , default configuration should output serial console to the serial port , no through the IPM mailbox . Otherwise , we need to install some sort of stub in the x86 core to pass messages back and forth . This currently blocks a simple solution to run automated test cases . ( Imported from Jira ZEP-451 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.0 1.0 1.0833333333333333 24 1.0 14 15 16 78	Get ST Nucleo boards compliant with default configuration guidelines . Created from #7151 , dedicated to ST Nucleo boards Following introduction of ' default board configuration guidelines ' ( #6858 ) , one part of the work is to move boards already ported to zephyr to conform with guidelines available here : < URL > < URL > could be used as reference for this update .	1	1
0 0 0.6 0.0 0.8 1.0 0.95 1.0 0.3333333333333333 0.0 1.1484375 128 1.0 0 9 43 202	support for power-of-two MPUs on non-XIP systems . On a XIP system , text/rodata are on flash and all read-write memory are on SRAM . It's trivial to define MPU regions for each with appropriate permissions . On a non-XIP system , text , rodata , and data are all in SRAM . We need the capability to configure a power-of-two sized subsection , starting at the lowest SRAM addresses , for text/rodata , and then pad this out so that data starts at the end of this region . The size of memory reserved for text/rodata should be a configuration option ( OK but not great solution ) , or somehow automatically derived ( much better solution ) . Since all power-of-two MPUs we have encountered to date support prioritized overlapping regions , we would have region definitions : A lowest priority static region covering all of SRAM with supervisor read-write , no execute permissions A higher-priority static region covering the first X bytes of memory with read-only , execute permissions , where X is some power of two which can fit all the text/rodata within it . : | ------------------------ SRAM REGION ( rw ) ------------------------- | | -------- ROM REGION ( rx ) -------- | Then in the linker , pad out the beginning of the data section : | -- text --|-- rodata --|-- padding --|-- data sections ----|-- unused RAM -- | . Affected platforms are devices with the ARMv7 Cortex-M MPU ( not NXP ) and ARC devices with MPU version 2 .	1	0
2 2 1.2 1.0 1.0 1.0 0.95 1.0 1.0 1.0 0.981404958677686 484 1.0 2 56 62 98	remove obsolete boards basic_minuteia and basic_cortex_m3 . Reported by Anas Nashif : two boards currently exist that are generic in nature and serve only as examples , those are not being tested and do not run on any hardware . Remove them now since we have enough other examples that actually run on hardware . ( Imported from Jira ZEP-850 )	1	1
0 0 0.6 0.0 0.7 1.0 1.15 1.0 0.6666666666666666 0.0 1.0879120879120878 91 1.0 7 22 30 212	zephyr : mitigate bounds check bypass vulnerabilities in syscalls . This is an initial pass to mitigate Spectre V1 . Kconfig ontology set up On x86 , system call IDs and memory bounds checks are now fenced We have an arch-agnostic API to clamp array indexes to safe boundaries without using branch instructions . This has been applied to file descriptor parameters passed to Socket APIs . Apollo lake GPIO driver updated since pin values turn into MMIO offsets . Fixes : #14125  	0	0
1 1 1.0 1.0 1.0 1.0 0.85 1.0 1.0 1.0 1.0926544240400669 1198 1.0 2 4 11 107	Optimize MCUX shim drivers to reduce memory footprint . Reported by Maureen Helm : The MCUX UART , I2C , and SPI shim drivers make calls to CLOCK_GetFreq in order to calculate the baud rate . This function dynamically figures out the system/bus clock frequency by querying the MCG registers , and is therefore large in terms of code size - roughly 1 KB . A possible fix is to implement a proper clock_control driver that abstracts whether the clock frequency is looked up from a static variable or calculated on the fly . ( Imported from Jira ZEP-1981 )	1	1
1 1 0.8 1.0 1.0 1.0 1.15 1.0 1.0 1.0 0.9934924078091106 461 1.0 35 39 42 85	MQTT v 3.1.1 port to the new IP Stack . Reported by Gajinder Vij : Support for the Zephyr MQTT v 3.1.1 library over the new IP Stack . The MQTT 3.1.1 specification can be found at : < URL > ( Imported from Jira ZEP-821 )  	0	1
2 2 2.0 2.0 2.0 2.0 1.75 2.0 2.0 2.0 1.2125824454591578 1971 1.0 29 34 47 88	[ Coverity CID : 215389 ] Out-of-bounds access in tests/net/lib/dns_sd/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : test_add_txt_record . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.3 2.0 1.2 1.0 1.3333333333333333 2.0 1.2881355932203389 59 1.0 15 24 46 98	gpio : legacy level interrupt disable API not backwards compatible . The following was discovered in testing and development of #22659 : In the old GPIO API interrupt configuration was integrated with pin configuration , so an interrupt could be enabled with : : gpio_pin_configure(dev , PIN_IN , GPIO_DIR_IN | GPIO_INT | GPIO_INT_LEVEL ); . and disabled within the callback with the idiom : : gpio_pin_configure(dev , PIN_IN , GPIO_DIR_IN ); . which , because it did not include any interrupt-related flags , was interpreted to mean disable interrupts . In the new API interrupt configuration is done with the : gpio_pin_interrupt_configure () . function . The disable flag is a non-zero value distinct from the non-zero enable flag . For legacy compatibility : gpio_pin_configure () . extracts interrupt-related flags from its flags parameter and invokes : gpio_pin_interrupt_configure () . with them , which means the legacy enable command works . However , the legacy disable command has no interrupt-related flags , which means the new implementation of : gio_pin_configure () . leaves interrupts enabled . In the case of level-triggered interrupts where the legacy disable operation is invoked in the callback the application will hang unless : GPIO_INT_DISABLE . is added to the flags .	2	2
2 2 1.4 1.0 1.3 1.0 1.2 1.0 1.6666666666666667 2.0 1.0755441741357235 1562 1.0 20 25 28 87	Static code scan ( Coverity ) issue seen in file : /subsys/net/lib/sockets/sockets . c . Reported by Shilpashree L C : Coverity issue seen with CID : 173646 Category : Error handling issues Function : zsock_close Please fix or provide comments to square it off in coverity : < URL > ( Imported from Jira ZEP-2536 )	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.455223880597015 268 1.0 40 49 57 95	[ Coverity CID : 205624]Memory - corruptions in /tests/crypto/tinycrypt/src/sha256 . c . Static code scan issues seen in File : /tests/crypto/tinycrypt/src/sha256 . c Category : Memory - corruptions Function : test_sha256_9 Component : Tests CID : 205624 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
0 0 0.8 1.0 1.2 1.0 1.1 1.0 0.6666666666666666 1.0 1.1214953271028036 107 1.0 1 2 7 41	QMSI ' CONFIG_RTC_IRQ_PRI ' undeclared . . Reported by changru fan : Configuration x86 quark se devboard nano Bug detailed description QMSI ' CONFIG_RTC_IRQ_PRI ' undeclared . Steps to Reproduce setup zephyr environment $ cd zephyr-kernel- 1.2.0 -160404-777a762 $ source zephyr-env.sh compile the sample testscases $ cd samples/drivers/rtc $ vim rtc . config CONFIG_KERNEL_BIN_NAME='lakemont ' CONFIG_ENHANCED_SECURITY = n CONFIG_STDOUT_CONSOLE = y CONFIG_PRINTK = y CONFIG_QMSI_DRIVERS = y CONFIG_QMSI_INSTALL_PATH='your libqmsi path ' CONFIG_RTC = y CONFIG_RTC_QMSI = y CONFIG_RTC_DW = n compile the test image $ make pristine ; make BOARD = quark_se_devboard Expected result = = = = = = = = = = = = = = = = = = = = = = = = = = = Success build . Actual result zephyr-kernel- 1.2.0 -160404-777a762/drivers/rtc/rtc_qmsi . c : 84:35 : error : ' CONFIG_RTC_IRQ_PRI ' undeclared ( first use in this function ) IRQ_CONNECT(CONFIG_RTC_QMSI_IRQ , CONFIG_RTC_IRQ_PRI , qm_rtc_isr_0 , 0 ( Imported from Jira ZEP-184 )	1	0
2 2 1.6 2.0 1.5 2.0 1.3 1.0 1.3333333333333333 1.0 1.0456852791878173 788 1.0 1 2 39 135	Target link-layer address in Neighbor Advertisement ignored . Reported by Ruslan Mstoi : Test Node sends Neighbor Advertisement with new Target link-layer address option , Node Under Test ( Zephyr IP stack ) does not take the address into account when sending next echo reply . Instead , it sends previously used link-layer address . Test case : Echo_Link-Local . seq ( Part A : Request sent to Link-Local address ) ( Imported from Jira ZEP-1360 )	2	0
1 1 0.8 1.0 1.0 1.0 1.0 1.0 0.3333333333333333 0.0 1.0742857142857143 1400 1.0 2 12 20 96	Write a GPIO driver for ESP32 . Reported by Leandro Pereira : Write a GPIO driver for ESP32 . ( Imported from Jira ZEP-2286 )  	0	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1359773371104815 1765 1.0 7 13 18 109	[ Coverity CID : 209945 ] Logically dead code in tests/net/tcp2/src/main . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : tester_prepare_tcp_pkt . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 1.0745585349901896 1529 1.0 9 20 21 74	Please ignore !! Coverity automation testing , issue seen in file : /drivers/gpio/gpio_cc2650 . c . Reported by Shilpashree L C : Coverity issue seen with CID : 171561 Category : Control flow issues Function : gpio_cc2650_config_pin In the link : < URL > ( Imported from Jira ZEP-2494 )	1	0
2 2 1.6 2.0 1.8 2.0 1.65 2.0 2.0 2.0 2.0 1 2.0 18 21 88 256	Sample : echo_async : setsockopt fail . Describe the bug /samples/net/sockets/echo_async/ On qemu_x86 , it is failed to run with the error from setsockop () See below for output log To Reproduce Steps to reproduce the behavior : 1 . cd samples/net/sockets/echo_async/ 1 . mkdir build ; cd build 2 . cmake -GNinja -DBOARD = qemu_x86 .. 3 . ninja && ninja run Expected behavior run without error Impact Sample code is not working Screenshots or console output < URL > Environment ( please complete the following information ): - OS : Linux - Toolchain Zephyr SDK - HEAD : 91eb1474522b766eb3294089fb251aff061aa1b4	2	0
2 2 1.4 2.0 1.0 1.0 1.25 1.5 1.6666666666666667 2.0 0.5 2 0.5 3 8 11 54	cmake : fix the build on windows . Commit ef3c5e551676278ccc1f42ecb572838144c5e33a changed the way WES T_T OPDIR is initialized from calling ' west topdir ' as a subprocess to using the west API . However , WES T_T OPDIR is a cmake variable and must be a cmake-style path , with forward slashes . While ' west topdir ' as a command does output a forward slash separated path ( basically in order to make the zephyr build system work ) , wes t_t opdir () as an API returns the path in the host environment path style , which on Windows uses backslashes . This turns out to be the ultimate cause of the following build error : : CMake Error at C :/ ... /CheckCCompilerFlag . cmake : 41 ( set ): Syntax error in cmake code when parsing string -fmacro-prefix-map = C : /Users/Marti/zp = WES T_T OPDIR . Fix it by converting to POSIX style in Python . We could have potentially also done this using file(TO_CMAKE_PATH ' ${WES T_T OPDIR }' ... ) , but I'm intentionally repeating the old way of doing things since it was known to work . Signed-off-by : Mart Bolvar < URL >  	0	0
0 0 1.0 1.0 1.3 1.5 1.3 1.5 0.6666666666666666 1.0 1.0 2 1.0 4 5 10 72	Difference between the ZEPHYR_BASE and PROJECT_SOURCE_DIR CMake variables is unclear . To me anyway . : cmake/kconfig . cmake . references : kconfig.py . via : ${PROJECT_SOURCE_DIR}/scripts/kconfig/ kconfig.py . , while you have e.g. : include(${ZEPHYR_BASE}/boards/common/pyocd . board . cmake ) . in other places . Looking at < URL > they seem to be synonyms . @SebastianBoe pointed out that : PROJECT_SOURCE_DIR . is a standard CMake variable , so maybe it's added as a synonym for : ZEPHYR_BASE . for people who are familiar with CMake . Would be nice to have it documented if that's it .	2	1
1 1 0.4 0.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 0.9645522388059702 536 1.0 22 44 54 135	API changes to memory maps . Reported by Benjamin Walsh : A potpurri of memory map-related enhancements : Change ' number of blocks used ' API to ' number of blocks free ' API , since the latter is more useful . ( Or else support both ? ) Allow users to specify alignment of memory map blocks . ( Requires an extra argument during initialization . ) Need to decide how to handle cases where alignment would cause a gap between blocks . ( Do we allow this or force the user to ensure that block size is a multiple of alignment ? ) Note that minimum permitted alignment is word-aligned , since kernel uses first word of each block as a pointer when the block is part of the free list . Revise memory map APIs to use k_mem_block type , just like memory pools do . makes it possible for mailbox to handle blocks from either a memory pool or a memory map improves consistency of use for application designers ( can more easily switch code from map to pool ) mailbox can distinguish between block types because memory map blocks will specify a size of 0 , rather than the actual block size ( as with memory pools ) might have a legacy issue in that applications are passing in a 1 field structure , rather than a 4 field structure -- not sure if we can easily work around this ... ( maybe take the approach that the new APIs use the new structure , but mailboxes can't support memory map blocks until the legacy APIs are removed ? ) ( Imported from Jira ZEP-927 )  	0	1
1 1 1.4 2.0 1.3 1.5 1.35 1.0 1.0 1.0 1.0606060606060606 33 1.0 1 7 89 198	Arch arm mpu reduce run-time stack usage . Fixes #13783 The aim of this PR is to reduce the run-time stack usage when re-programming the ARM MPU during context-switch and/or arm-user-mode-enter . What it does is to change how the configuration is passed from : arm_core_mpu . c . to the HW-specific MPU drivers ( ARMv7 , ARMv8 , and NXP MPU ): Instead of creating the complete desired memory map online and supplying it to the drivers as an arrray of k_mem_partition objects , we , now , only create an array of pointers to k_mem_partition_object and supply that to the drivers . Reduction to stack usage is observed , mainly , when CONFIG_USERSPACE is set : this is because the mem-domain partition information is kept in kernel globals and we just supply pointers to the mem-domain partitions . In builds without USERSPACE support there is practically no stack usage reduction , as the only dynamic region could be the the MPU guard , and that one is still generated online . However , since this is the only dynamic region , the stack usage is not a problem in this scenario .	1	0
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.7272727272727273 22 2.0 12 12 24 78	[ Coverity CID : 186843 ] Parse warnings in /tests/kernel/mem_protect/mem_protect/src/mem_domain . c . Static code scan issues seen in File : /tests/kernel/mem_protect/mem_protect/src/mem_domain . c Category : Parse warnings Function : Component : Tests CID : 186843 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
0 0 0.6 1.0 0.7 1.0 0.85 1.0 0.3333333333333333 0.0 0.9823943661971831 568 1.0 0 8 23 154	Remove deprecated API related to device PM , DEVICE_ and SYS_* macros . Reported by Ramesh Thomas : Device PM related functions and DEVICE_/SYS_ macros have been replaced with new ones and the old ones deprecated . This is to track the removal of the deprecated API after 2 releases . Following are the changes where the deprecation was done . < URL > < URL > ( Imported from Jira ZEP-973 )	1	1
1 1 1.4 2.0 1.2 1.5 1.35 1.5 1.0 1.0 1.0 1 1.0 1 23 32 124	Cannot use new shell with native_posix . I am seeing this when compiling new net-shell for native_posix and uart . : .. /zephyr/subsys/shell/shell_uart . c : 29:36 : error : ?CONFIG_UART_CONSOLE_ON_DEV_NAME ?undeclared ( first use in this function ); did you mean ?CONFIG_ETH_NATIVE_POSIX_DEV_NAME ?? sh_uart -> dev = device_get_binding(CONFIG_UART_CONSOLE_ON_DEV_NAME ); ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ CONFIG_ETH_NATIVE_POSIX_DEV_NAME .. /zephyr/subsys/shell/shell_uart . c : 29:36 : note : each undeclared identifier is reported only once for each function it appears in . This prevents merging of #9825 because sanitychecker fails .  	0	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0160818713450293 684 1.0 12 23 31 90	Create test for alert kernel object using native unified kernel API . Reported by Anas Nashif : Verify alert object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . ( events ) The new test should utilise the ztest framework . ( Imported from Jira ZEP-1212 )  	0	1
1 1 1.0 1.0 1.1 1.0 0.9 1.0 1.0 1.0 1.072 1500 1.0 0 1 12 59	convert to ztest for files in tests/crypto . Reported by Niranjhana Narayanan : Replace test points to use ztest framework APIs for the files in tests/crypto ( Imported from Jira ZEP-2449 )	1	1
2 2 2.0 2.0 2.0 2.0 1.8 2.0 2.0 2.0 1.0942906574394464 1156 1.0 20 32 43 158	Missing board documentation for x86/minnowboard . Reported by David Kinder : Board documentation is expected for all supported boards found in the /boards folders ( Imported from Jira ZEP-1913 )	2	2
2 2 1.6 2.0 1.1 1.0 1.05 1.0 1.6666666666666667 2.0 1.0794392523364487 856 1.0 3 12 18 119	Add zephyr support to openocd upstream . Reported by Anas Nashif : See < URL > section 21.6 RTOS Support ( Imported from Jira ZEP-1461 )  	0	1
0 0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 0.9607250755287009 331 1.0 1 9 11 59	handle configuration changes with more code coverage . Reported by Inaky Perez-Gonzalez : As a developer , I want to be able to switch on and off different parts of the code at build time , but at the same time , maximize the code coverage of compiles to avoid bit rot . Currently a lot of #ifdef sections are used , which cause hardship in validation of the validity of code ( eg : when an API is changed in somefile . h that is used in anotherfile . c , but that usage is only enabled when CONFIG_OPTION_X is enabled ) . Although the solution ' test with CONFIG_OPTION_X enabled ' is the obvious and correct answer , it quickly becomes apparent it does not scale when the number of config options and combinations skyrocket . We have been working on some proposals to handle these cases , which enable the code to be compiled all the time and reduces the exposure of #ifdefs to way smaller corners of the code that will actually have the compile determine if the compiled code has to be optimized out ( and thus there is no code size impact ) or kept . This task is to track the implementation of the generic frameworks for doing so across different drivers and subsystems . Initial candidates : - power management hooks - reentrancy protection ( Imported from Jira ZEP-578 )	2	1
2 2 1.8 2.0 1.8 2.0 1.7 2.0 2.0 2.0 1.2227772227772227 2002 1.0 10 14 21 98	[ Coverity CID : 219540 ] Side effect in assertion in subsys/bluetooth/controller/ll_sw/ull_sched . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : win_offset_calc . Component : Bluetooth CID : < URL > Details : < URL > : 360 while ( ret_cb = = TICKER_STATUS_BUSY ) { 361 ticker_job_sched(TICKER_INSTANCE_ID_CTLR , 362 TICKER_USER_ID_ULL_LOW ); 363 } 364 } 365 >>> CID 219540 : Incorrect expression ( ASSERT_SIDE_EFFECT ) >>> Argument ' ret_cb ' of LL_ASSERT () has a side effect because the variable is volatile . The containing function might work differently in a non-debug build . 366 LL_ASSERT(ret_cb = = TICKER_STATUS_SUCCESS ); 367 368 if ( ticker_id = = 0xff ) { 369 break ; 370 } 371 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.4 2.0 1.4 1.5 1.4 1.5 2.0 2.0 1.5 2 1.5 15 20 25 118	Ugrade lvgl library . Bundled version in zephyr 2.4 of LGVL is 7.0.2 , but last version is 7.6.1 which include numerous bug fixes . ( I'm currently being hit by memory bugs in the chart widget , bugs that don't occur in last version )	2	1
2 2 1.6 2.0 0.9 1.0 0.7 1.0 1.6666666666666667 2.0 1.0293333333333334 750 1.0 1 9 20 121	porting and user guides must include a security section . Reported by Inaky Perez-Gonzalez : The BSP porting guide shall include a section which pertains to security specific concerns , highlightling . - The need to provide sources of entropy for the PRNG - Info about how to make configure/support multiple PRNGS ( note : users cut-and-paste code so the Guide needs good example code ) The user guide shall include a section on how to extract useful entropy out of the system . ( Imported from Jira ZEP-1313 )	1	2
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1775147928994083 1859 1.0 7 8 14 62	[ Coverity CID : 210547 ] Unchecked return value in lib/updatehub/updatehub . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : install_update . Component : Other CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.7 2.0 1.65 2.0 2.0 2.0 1.6666666666666667 3 2.0 1 8 23 215	Add BT_LE_FEAT_BIT_PER_ADV checks for periodic advertising commands . Is your enhancement proposal related to a problem ? Please describe . Before sending any periodic advertising related commands , we should check for the : BT_LE_FEAT_BIT_PER_ADV . bit . Describe the solution you'd like Check for the bit and return : -EOPNOTSUPP . if not supported . Describe alternatives you've considered N/A Additional context N/A	2	1
2 2 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 1.0965005302226936 943 1.0 6 10 21 78	arch-specific inline functions cannot manipulate _kernel . Reported by Andrew Boie : I needed to implement some arch-specific inline functions to handle direct interrupts . The most logical place to put this implementation would be in include/arch/*/arc h.h. However , these functions need to manipulate or read the kernel data structures defined in kernel/include/kernel_struct s.h. However this header pulls in kernel . h , which pulls in arch/cpu . h , leading to a circular dependency . Find a way for arches to define some inline functions , that automatically get pulled in when arch . h is included , such that these inline functions may reference _kernel , _current , etc . ( Imported from Jira ZEP-1595 )	2	0
1 1 1.6 2.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 1.1666666666666667 6 1.5 6 15 35 133	Arch arm mpu assert additions and fixes . Addresses #7384 . Addresses an additional bug related to region out-of-bounds configuration ( see relevant comment ) . Adds some minor fixes to the code and comment enhancements .	1	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3393939393939394 165 1.0 28 40 62 166	[ Coverity CID : 190971]Null pointer dereferences in /subsys/net/ip/net_pkt . c . Static code scan issues seen in File : /subsys/net/ip/net_pkt . c Category : Null pointer dereferences Function : net_pkt_cursor_operate Component : Networking CID : 190971 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 2.0 2.0 1.95 2.0 2.0 2.0 1.310799319727891 2352 1.0 51 54 60 112	[ Coverity CID : 238379 ] Logically dead code in tests/bluetooth/tester/src/mesh . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : config_hb_pub_set . Component : Tests CID : < URL > Details : < URL > : 1891 1892 tester_send(BTP_SERVICE_ID_MESH , MESH_CFG_HEARTBEAT_PUB_SET , 1893 CONTROLLER_INDEX , & status , sizeof(status )); 1894 return ; 1895 1896 fail : 1897 tester_rsp(BTP_SERVICE_ID_MESH , MESH_CFG_HEARTBEAT_PUB_SET , 1898 CONTROLLER_INDEX , 1899 err ? BTP_STATUS_FAILED : BTP_STATUS_SUCCESS ); 1900 } 1901 1902 static void config_hb_pub_get(uint8_t * data , uint16_t len ) . For more information about the violation , check the < URL > . ( < URL > ) Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.4 1.5 1.3 1.0 1.6666666666666667 2.0 1.2842105263157895 95 1.0 0 4 9 77	' .. only:' is not working as expected in documentation . Describe the bug We do have this role based content in our documentation that stopped working : : Zephyr Project Documentation ############################ .. only :: release Welcome to the Zephyr Project's documentation for version |version| . Documentation for the latest ( main ) development branch of Zephyr can be found at < URL > .. only :: ( development or daily ) ** Welcome to the Zephyr Project's documentation for the main tree under development ** ( version |version|) . . The published documentation does not have any of the variants . To Reproduce check published docs and compare with source Expected behavior Need one variant at lease published Impact There is no way for us to create content based on the desired output , for example with : .. only :: html Use the version selection menu on the left to view documentation for a specific version of Zephyr . .	1	2
1 1 1.2 1.0 1.3 1.0 1.2 1.0 1.0 1.0 1.4621848739495797 238 1.0 10 19 27 65	[ Coverity CID : 205668]Insecure data handling in /drivers/ethernet/eth_enc424j600 . c . Static code scan issues seen in File : /drivers/ethernet/eth_enc424j600 . c Category : Insecure data handling Function : enc424j600_rx Component : Drivers CID : 205668 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.6 0.0 0.8 1.0 0.9 1.0 0.6666666666666666 0.0 0.985 600 1.0 0 2 10 115	Contributor guide for documentation missing . Reported by David Kinder : In earlier versions of the Zephyr project documentation there were pages about restructuredText and Sphinx conventions , along with lots of general writing guidelines . In our haste to trim this down , we took out too much and want to bring back the ReST , Sphinx , and doxygen conventions , tips , and guidelines . Suggestion is to recreate a document writer's cheat sheet with common ReST formatting tips , Sphinx extensions we use , guidelines ( such as underline conventions for headings ) , inter-page linking , code references that tap into the doxygen-generated API index , a ' new document ' template and how to get it included in the TOC , and such . ( Imported from Jira ZEP-1060 )	2	2
1 1 1.6 2.0 1.7 2.0 1.85 2.0 1.3333333333333333 1.0 1.5 14 1.5 2 2 15 55	tests/arch/arm/arm_interrupt failed on sam_e70_xplained board . . Describe Test case arch . interrupt . n o.o ptimizations in tests/arch/arm/arm_interrupt failed on sam_e70_xplained . To Reproduce Steps to reproduce the behavior : 1 . west build -b = sam_e70_xplained tests/arch/arm/arm_interrupt -DCONFIG_N O_O PTIMIZATIONS = y -DCONFIG_IDLE_STACK_SIZE = 512 2 . west flash 3 . See error Screenshots or console output * Booting Zephyr OS build zephyr-v 2.0.0 -1567-gaefe941396c6 *** Running test suite arm_interrupt starting test - test_arm_interrupt E : * MPU FAULT *** E : Stacking error ( context area might be not valid ) E : Data Access Violation E : MMFAR Address : 0x20400e9c E : r0/a1 : 0x20400e80 r1/a2 : 0xfffffffd r2/a3 : 0x00000000 E : r3/a4 : 0x00000000 r12/ip : 0x00000000 r14/lr : 0x00000000 E : xpsr : 0x00000000 E : Faulting instruction address ( r15/pc ): 0x00000000 E : >>> ZEPHYR FATAL ERROR 2 : Stack overflow E : Current thread : 0x204000d4 ( main ) Caught system error -- reason 2 Was not expecting a crash Environment ( please complete the following information ): - OS : fedora28 - Toolchain : zephyr-sdk- 0.10.3 - Commit ID : aefe9413	2	0
1 1 1.6 2.0 1.5 1.5 1.4 1.5 1.3333333333333333 1.0 1.3387096774193548 62 1.5 4 8 19 70	Sanitycheck should not write results into scripts/sanity_chk . Describe the bug Not a bug really , has been this way since day 1 . We need to stop writing into scripts/ and have all output in 1 place . Sanitycheck might be invoked on tests out of the tree and results should be written where the script is called , preferably in sanity-out To Reproduce Run sanitycheck and example scripts/sanity_chk Expected behavior Write results along side all other output Impact zephyr tree should be kept clean , test results should all be in 1 place .	2	1
1 1 1.2 1.0 1.1 1.0 1.4 1.0 1.3333333333333333 1.0 0.5 2 0.5 4 14 38 158	Consistent and safe/secure default sys_fatal_handler behavior . The default sys_fatal_error_handler decides to hang the system or recover by killing the offending task and continue . For stack checking errors , the behavior is not consistent over different architectures , there is an #ifdef that enables the hang for stack errors , but conditions for the #ifdef are different . Bit strange since the error that is triggered is in all cases the same . My recommendation would be to stick with the conservative ' hang ' behavior for all stack errors independent of the cause ( sentinel , canary , hw bounds check , MPU , ... ) , and change tests to overrule the default handler . Some tests currently expect the default handler to recover instead of hang ( see issue #8032 )	1	1
1 1 1.4 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 1.0828729281767955 1629 1.0 8 11 15 56	Coverity issue seen with CID : 177213 , in file : /tests/net/ipv6_fragment/src/main . c . Reported by Shilpashree L C : Static Coverity issue seen as per the analyses done on 09/20/17 Category : Null pointer dereferences Function : setup Please fix or provide comments to square it off in coverity in the link : < URL > ( Imported from Jira ZEP-2633 )	1	0
1 1 1.0 1.0 0.8 1.0 1.05 1.0 0.6666666666666666 1.0 1.2884615384615385 52 1.0 6 7 22 195	POSIX : Some headers were missing from PR #16621 . 16621 was missing a : include/posix/poll . h . header - I had it my local tree all this time , but forgot to git add it , and the sidetracked discussion there precluded detection of the problem earlier . Of related issue , : include/posix/sys/socket . h . didn't export : MSG_* . constants , which is also a bug . These issues preclude the indented usage of #16621 - to allow to port a good selection of 3rd-party POSIX networking-related applications . The fixes are also non-obtrusive , so it makes sense to fix it for 2.0 .	1	0
1 1 0.8 1.0 1.1 1.0 0.85 1.0 0.6666666666666666 1.0 1.0657734470158344 821 1.0 4 20 35 158	Nios2 _arch_irq_lock/unlock implemenation can cause race conditions . Reported by Benjamin Walsh : There is nothing in the implementation to prevent code from being optimized and moved outside of a lock/unlock block . The implementation needs to be rewritten in inline asm using ' memory ' clobber , which acts as a memory barrier . ( Imported from Jira ZEP-1407 )  	0	0
1 1 1.6 2.0 1.5 2.0 1.25 1.0 1.3333333333333333 1.0 2.0 1 2.0 4 6 53 130	nanosleep test failed on ARC series targets . Describe the bug tests/posix/common test_nanosecond_0_1 failed on ARC series targets including iotdk , emsdp , nsim_em , nsim_hs , etc . To Reproduce Steps to reproduce the behavior : scripts/sanitycheck -p nsim_em -T tests/posix/common Expected behavior All tests should pass Logs and console output : START - test_nanosleep_0_1 Assertion failed at WES T_T OPDIR/zephyr/tests/posix/common/src/nanosleep . c : 214 : common : (( delta_ns < 0 ) ? (( uint64_t)-delta_ns <= tolerance_ns ) : (( uint64_t)delta_ns <= tolerance_ns ) is false ) error -52799 beyond tolerance 200 for 1 vs 52800 FAIL - test_nanosleep_0_1 . Additional context Related to #27065	1	0
1 1 1.6 2.0 1.3 1.0 1.45 2.0 1.6666666666666667 2.0 1.2696629213483146 89 1.0 1 4 30 86	STM32 : Few issues on on pinctrl generation script . Issues seen on STM32 pinctrl geneneration script : On F1 series , for a a given pin function ( eg : I2C2_SDA ) , when there is no matching reference in GPIO-STM32F1 * . xml file , it should be considered the function is valid and NO_REMAP . Currently it is discarded , and hence there is no I2C2 pinctrl generated at all on this series . To avoid previous to be missed , we should generate warnings when the scripts detects wrong/suspicious configurations . No : FULL_REMAP . is available in the generated database . We should see at least some for tim1_ch1_pe7 , tim2_ch2_pb3 , ..	2	0
1 1 1.2 1.0 1.0 1.0 1.2 1.0 1.3333333333333333 1.0 1.0737217598097504 841 1.0 3 3 12 115	AIO : Fail to retrieve pending interrupt in ISR . Reported by Qiu Peiyang : = = = = = = = = = = x86 quark SE Devboard unified Bug detailed description = = = = = = = = = = = = = = = = = = = AIO failed to retrieve pending interrupt in ISR . = = = = = = = = = = = = = = = = = = --- a/samples/drivers/aio_comparator/src/main . c +++ b/samples/drivers/aio_comparator/src/main . c @@ -63 , 6 +63 , 11 @@ static void cb(void param ) struct cb_data_t p = ( struct cb_data_t *) param ; : aio_cmp_dev = device_get_binding('AIO_CMP_0 ' ) ; . if ( aio_cmp_get_pending_int(aio_cmp_dev )) { printf('Catch AIO pending interrupt/n ' ) ; } else { printf('Fail to catch AIO pending interrupt/n ' ) ; } : printf ('*** %s triggered %s . /n ' , p -> name , ( p -> pol = = AIO_CMP_POL_RISE ) ? ' rising ' : ' falling ' ) ; . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Steps to reproduce : 1 . cd zephyr/samples/drivers/aio_comparator ; 2 . edit the sample to add aio_cmp_get_pending_int () in the ISR . 3 . Build and flash the app to Quark Se Devboard . 4 . Connect the A3 pin to ground via a resistor . Any larger than 1k Ohm would be fine . This is to avoid floating pin . 5 . Turn on the device . Wait for device to boot , until ' app started ' line appeared . 6 . Connect a voltage source higher than 3.3 V ( the 5V line would work ) . The line ' A3 , AIN[3 ] triggered rising . ' should appear . 7 . Remove the voltage source . The line ' A3 , AIN[3 ] triggered falling . ' should appear . Expected Result AIO works . ' Catch AIO pending interrupt ' should be printed . Actual Result AIO works . ' Fail to catch AIO pending interrupt ' is printed . ( Imported from Jira ZEP-1437 )	1	0
0 0 1.0 1.0 1.0 1.0 1.2 1.0 0.6666666666666666 1.0 0.988135593220339 590 1.0 4 4 14 167	net/yaip : ARP requests error . Reported by Flavio Santes : Description Assume that a UDP client application is sending many UDP datagrams to a server . At boot-up , the IP stack creates an ARP request , and there is a response from the network . At some point ( just a few seconds after initializing ) , the IP stack creates again a similar ARP request and must of the time the client application freezes . NOTE : Network buffer debugging shows no blocking due to the lack of available buffers . Platform QEMU x86 + SLIP on Debian host How to reproduce Follow < URL > to setup a QEMU-slip local environment Create an application that sends datagrams to a peer . Do not use TICKS_UNLIMITED as timeout , try with something like 200 , 500 , or so . Open Wireshark to watch the communication Observe the ARP traffic Sample Sample data ( to inject as UDP traffic :) ) can be obtained from the attached files . ( Imported from Jira ZEP-1036 )  	0	0
1 1 1.2 1.0 1.5 1.5 1.75 2.0 1.0 1.0 1.4509803921568627 255 1.0 27 36 44 82	[ Coverity CID : 205660]Incorrect expression in /subsys/debug/tracing/ctf/ctf_top . c . Static code scan issues seen in File : /subsys/debug/tracing/ctf/ctf_top . c Category : Incorrect expression Function : sys_trace_thread_name_set Component : Other CID : 205660 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.3 1.0 1.6 2.0 1.0 1.0 1.1333333333333333 60 1.0 2 7 11 55	[ Coverity CID : 182779 ] Memory - corruptions in /drivers/flash/soc_flash_nios2_qspi . c . Static code scan issues seen in File : /drivers/flash/soc_flash_nios2_qspi . c Category : Memory - corruptions Function : flash_nios2_qspi_write_block Component : Drivers CID : 182779 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.8 2.0 1.8 2.0 1.55 2.0 1.6666666666666667 2.0 0.8471337579617835 157 1.0 7 12 16 80	SoF module is not pointing at Zehpyr repo . West . yml has : : - name : sof url : < URL > revision : 2f8ef204454d278f0c189e8c7cc70e84f745561a path : modules/audio/sof . This is not acceptable for release and needs to be resolved to use the Zephyr SoF fork .  	0	0
0 0 0.4 0.0 0.5 0.0 0.55 0.0 0.0 0.0 1.0233837689133425 727 1.0 1 12 36 118	sys_clock ( arcv2 timer ) suspend/resume support ? . Reported by Sharron LIU : Zephyr v 1.6 support arc driver suspend/resume @quark_se platforms . sys_clock suspend/resume is supported by X86 ( drivers/loapic ) while not supported by ARC ( drivers/arcv2 ) could you review if this's hardware limitation or missing feature to support ? Thanks ( Imported from Jira ZEP-1281 )	1	1
0 0 1.0 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 1.0 1.001615508885299 619 1.0 5 9 16 71	Change references from MinnowBoard MAX to Turbot . Reported by David Kinder : MinnowBoard MAX was replaced by MinnowBoard Turbot with FCC part 15 class A qualification . We should update references to the MAX board to now be Turbot on the website and wiki . ( Imported from Jira ZEP-1096 )	2	2
0 0 1.4 2.0 1.5 2.0 1.7 2.0 1.3333333333333333 2.0 1.393939393939394 33 2.0 2 3 11 84	logging : ' log_strdup pool empty!' is confusing . I've enabled CONFIG_NET_DEFAULT_LOG_LEVEL_DBG = y ( with echo_server ) , and here's what I see : : [ 00:00:06 . 554,027 ] < dbg > net_ctx . net_context_bind : ( 0x20002510 ): Context 0x2000072c binding to UDP [: :] : 4242 iface 0x2000c5c0 [ 00:00:06 . 555,215 ] < dbg > net_conn . net_conn_register : ( 0x20002510 ): [ 3/10/17/0x05 ] remote 0x00000000/log_strdup pool empty ! /0 [ 00:00:06 . 556,034 ] < dbg > net_conn . net_conn_register : ( 0x20002510 ): local 0x2000a7b8/log_strdup pool empty ! /4242 cb 0x0000894d ud 0x2000005c .	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.150806900389538 1797 1.0 39 45 50 141	[ Coverity CID : 210556 ] Incompatible cast in tests/lib/cmsis_dsp/matrix/src/unary_f64 . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : test_arm_mat_inverse_f64 . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 0.6 0.0 0.8 0.5 0.75 0.5 0.3333333333333333 0.0 0.9795501022494888 489 1.0 3 5 64 98	convert filesystem sample to a runnable test . Reported by Anas Nashif : The current filesystem sample needs to be moved to tests and converted to a test case that can be evaluated by the the test framework and run on real hardware and in Qemu for local testing . ( Imported from Jira ZEP-865 )	2	1
1 1 1.2 1.0 1.3 1.5 1.3 1.0 1.6666666666666667 2.0 0.875 8 1.0 0 4 11 78	rework eeprom driver to clearly indicate it is a test stub . The driver identified by : i2c , eeprom . is only used in , and only useful to , : tests/drivers/i2c/i2c_slave_api . . It simulates in unretained RAM a generic EEPROM with no specific hardware interface or details , has an improperly composed device tree : compatible . name , and is positioned in the source tree in a way that may mislead future developers into believing that i2c and spi devices should be placed under a : < bus > /slave . directory rather than a directory named based on their functionality , e.g. : eeprom . . The entire implementation -- driver , headers , device tree yaml -- should be moved under the test directory , and any real EEPROM devices supported by drivers that follow the naming , device tree binding , and source code placement standards for EEPROM devices in Linux .	2	1
0 0 0.2 0.0 1.0 1.0 1.15 1.0 0.0 0.0 1.1578947368421053 38 1.0 38 38 38 38	ARC : remove tickless idle dependency on SW ISR table . Reported by Hirally Santiago : Current tickless idle implementation depends on the use of the SW ISR table for all interrupts . As a product developer , I may be interested in an application where parameterless ISRs are directly installed in the ISR vector table for performance or footprint reasons . Add support to Zephyr for this . This will probably take the form of macros that need to be put at the beginning and/or end of these special ISRs . ( Imported from Jira ZEP-52 )	1	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.035294117647059 765 1.0 13 19 32 136	Rationalize version . h and kernel_version . h . Reported by Allan Stephens : It's not clear why both files exist , and when a user is supposed to use one versus the other . It looks like the kernel_version . h stuff is constant , while the version . h stuff is autogenerated , but couldn't we just have the autogenerated file include the constant stuff too and just have a single file ? If both files do need to exist , it would be helpful to have some comments explaining the purpose of the file and when someone should include it . ( Imported from Jira ZEP-1330 )	1	1
1 1 0.8 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.3478260869565217 161 1.0 24 36 58 162	[ Coverity CID : 190976]Integer handling issues in /arch/arm/core/cortex_m/mpu/nxp_mpu . c . Static code scan issues seen in File : /arch/arm/core/cortex_m/mpu/nxp_mpu . c Category : Integer handling issues Function : _mpu_configure_regions Component : Architectures CID : 190976 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 0.8092485549132948 173 1.0 3 8 12 165	samples/philosophers/sample . kernel . philosopher . stacks fails on xtensa . : . /scripts/twister -s samples/philosophers/sample . kernel . philosopher . stacks -a xtensa -l . Gets : : ERROR - qemu_xtensa samples/philosophers/sample . kernel . philosopher . stacks FAILED : Build failure ERROR - see : /home/galak/git/zephyr/twister-out/qemu_xtensa/samples/philosophers/sample . kernel . philosopher . stacks/build . log INFO - Total complete : 1/ 3 33% skipped : 8 , failed : 1 ERROR - intel_s1000_crb samples/philosophers/sample . kernel . philosopher . stacks FAILED : Build failure ERROR - see : /home/galak/git/zephyr/twister-out/intel_s1000_crb/samples/philosophers/sample . kernel . philosopher . stacks/build . log . Log has : : /home/galak/git/zephyr/subsys/debug/thread_info . c : 87:2 : error : #warning Please define THREAD_INF O_O FFSE T_T _STACK_PTR for this architecture [-Werror = cpp ] 87 | #warning Please define THREAD_INF O_O FFSE T_T _STACK_PTR for this architecture | ^ ~~~~~~ cc1 : all warnings being treated as errors .  	0	0
2 2 1.0 1.0 1.3 2.0 1.4 2.0 0.6666666666666666 0.0 1.026745913818722 673 1.0 4 16 21 80	Add qemu_cortex_m0/m0+ board . . Reported by Benjamin Walsh : As an ARM kernel developer , I would like to be able to quickly test/sanitize my Cortex-M0/M0+ code . AFAIK , there is no QEMU Cortex-M0/M0+ model . However , Cortex-M0/M0+ code should run on an M3 . It should be possible to configure the qemu_cortex_m3 board so that it uses the Cortex-M0/M0+ build and configuration instead of the Cortex-M3 one . ( Imported from Jira ZEP-1198 )	2	1
2 2 1.2 1.0 1.6 2.0 1.8 2.0 1.3333333333333333 1.0 1.2897447380206002 2233 1.0 43 50 63 108	[ Coverity CID : 234410 ] Out-of-bounds read in tests/kernel/sched/preempt/src/main . c . Static code scan issues found in file : < URL > Category : Memory - illegal accesses Function : : worker . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.4 1.0 1.5 1.5 1.45 1.5 1.3333333333333333 1.0 0.9586206896551724 290 1.0 1 1 17 47	TMP007 driver returns invalid values for negative temperature . Reported by Bogdan Davidoaia : Looking at driver ' sensor_tmp007 . c ' : doing drv_data -> sample = val >> 2 ; and then uval = ( int32_t)drv_data -> sample * TMP007_TEMP_SCALE ; won't work for negative numbers . ( Imported from Jira ZEP-499 )	1	0
1 1 1.4 2.0 1.6 2.0 1.55 2.0 1.0 1.0 1.011764705882353 425 1.0 2 3 8 51	Using current MinGW gcc version 5.3.0 breaks Zephyr build on Windows . Reported by Richard Atwood : I have an older version of gcc ( 4.8.1 ) installed for MinGW and the current repo MinGW holds gcc 5.3.0 -2 . If I only update the current gcc version in the repo , no other changes then I see the same error others ran into when building : 10:46:34 * Build of configuration Debug for project Hello_World_Zephyr_Arduino ' C : /MinGW/msys/ 1.0 /bin/bash . exe ' -- login -i -c ' cd C : /IntelSWTools/ISSM_ 2016.1.067 /workspace/Hello_World_Zephyr_Arduino && make ' Using c : /IntelSWTools/ISSM_ 2016.1.067 /workspace/Hello_World_Zephyr_Arduino/zephyr/boards/arduino_101/arduino_101_factory_defconfig as base Merging c : /IntelSWTools/ISSM_ 2016.1.067 /workspace/Hello_World_Zephyr_Arduino/zephyr/kernel/configs/micro . config Merging prj . conf sed : preserving permissions for ` . /sed017200 ' : Permission denied c : /mingw/bin/ .. /lib/gcc/mingw32/ 5.3.0 / .. / .. / .. / .. /mingw32/bin/ld . exe : cannot find -lpthread collect2 . exe : error : ld returned 1 exit status make[3 ]: [ scripts/basic/fixdep ] Error 1 make[2 ]: [ scripts_basic ] Error 2 make[1 ]: [ sub-make ] Error 2 make : * [/c/IntelSWTools/ISSM_ 2016.1.067 /workspace/Hello_World_Zephyr_Arduino/outdir/ . config ] Error 2 10:46:42 Build Finished ( took 7s . 484ms ) If I give my MinGW dir with the old gcc to someone who has done the other setup then they are able to build successfully as well . As I see it any new Zephyr users downloading the current MinGW gcc version will be unable to build Zephyr . I'm hoping for a short term workaround and a long term fix . Thank you , Richard ( Imported from Jira ZEP-779 )  	0	0
0 0 1.4 2.0 1.1 1.0 1.05 1.0 1.0 1.0 1.303370786516854 89 1.0 60 72 83 128	Coverity [ CID 221772 ]: Wrong operator used in logging subsystem , multiple violations . Describe the bug We have over 3000 violation of this type generated by the logging subsystems , for example : To Reproduce Login into coverity , open outstanding issues and filter by this type : : Wrong operator used .  	0	0
1 1 0.6 1.0 1.3 1.5 1.0 1.0 0.6666666666666666 1.0 1.25 24 1.0 24 24 24 24	E2E tests for connection . Reported by Javier B Perez : Verify with the ub t-t ester tool that it is possible to establish successful connection from a virtual test peer to the implementation ( Imported from Jira ZEP-31 )	1	1
0 0 1.2 1.0 1.1 1.0 1.3 1.0 0.6666666666666666 1.0 1.0 27 1.0 6 25 77 249	Sanitycheck shows ' FAILED : failed ' for successful test : tests/kernel/fifo/fifo_api/kernel . fifo . Describe the bug Occasionally in a sanitycheck run on real HW , we see the tests/kernel/fifo/fifo_api/kernel . fifo shown as ' failed ' , but looking at the actual test log shows ' PROJECT EXECUTION SUCCESSFUL ' CI Log for sanitycheck run on nrf52_blenano2 : < URL > To Reproduce Hard to reproduce , but if you rinse and repeat the following sanitycheck command long enough you should see the failure described above : : sanitycheck -- platform nrf52_blenano2 -- inline-logs -- outdir /tmp/outdir -- enable-slow -- verbose -- no-clean -- disable-size-report -- load-tests /tmp/test-list -- test-only -- device-testing -- device-serial /dev/ttyACM0 -- west-flash = -- board-id = 109300003131a6610c36303333363445a5a5a5a597969906 -e kernel . Expected behavior Test showing ' PROJECT EXECUTION SUCCESSFUL ' should not be called ' FAILED ' . Impact CI inconsistency Screenshots or console output < URL > Environment ( please complete the following information ): - OS : Linux - Toolchain : Zephyr SDK - Commit SHA or Version used : 6000a6205aa7474d3c52c070e94fc999940179fc	2	0
2 2 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 0.9734848484848485 528 1.0 14 36 46 127	Add ring buffer support . Reported by Benjamin Walsh : A potpourri of ring buffer-related work items . : Need to decide if ring buffer is a ' first class ' kernel object ( i.e. like a fifo ) or not ( i.e. like a linked list , which is a ' misc ' object ) . If not : Update the Kernel Primer to remove any mention of it . ( Although where it would be documented is unclear ... ) Move ring_buffer . c into ' misc ' directory . If so : Include file should be relocated , since it doesn't belong under ' include/misc ' . Currently lacks concurrent use protection mechanism , unlike other ' first class ' kernel objects . ( This seems to be a deliberate choice , but is it desirable ? ) Currently unclear if ISRs can use ring buffers . Kernel Primer documentation should be brought into line with description for other kernel objects . . ( Imported from Jira ZEP-918 )  	0	1
1 1 1.8 2.0 1.6 2.0 1.5 2.0 1.6666666666666667 2.0 1.8 5 2.0 2 3 13 68	Disconnecting ISO mid-send giver error in hci_num_completed_packets . Describe the bug If we are in the middle of sending ISO data on an iso channel ( i.e. we have sent data , but have not yet received the num completed packets ) when an ISO ( or an ACL ) disconnects ( i.e. we get a disconnect complete event from the controller ) , we see the following fail : : conn = bt_conn_lookup_handle(handle ); if ( ! conn ) { BT_ERR('No connection for handle %u ' , handle ); continue ; } . There's nothing stopping us from deallocating iso channels while there is an ongoing write . To Reproduce Steps to reproduce the behavior : 1 . Create ACL and CIS connection between two devices with a low ISO interval 2 . Reset or move one of the device out of range to trigger a disconnect 3 . See the error in the log Expected behavior The expected behavior would be to set the iso channels in the : BT_ISO_DISCONNECT . state until we have received the num complete packet of a pending write , and then release/deallocate the iso channel . Impact Low ; the only problem caused is that the log will contain and error message . Logs and console output If applicable , add console logs or other types of debug information e . g Wireshark capture or Logic analyzer capture ( upload in zip archive ) . copy-and-paste text and put a code fence (```) before and after , to help explain the issue . ( if unable to obtain text log , add a screenshot ) Environment ( please complete the following information ): - Commit SHA or Version used : 36abc60b5109b08a270c7df4e829bf67ecf3b96a Additional context Add any other context about the problem here .	2	0
2 2 2.0 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.0 4 1.0 10 20 38 248	Etherent layer missed L2 header when VLAN is enabled . When VLAN is enabled , ethernet l2 layer fills ethernet header but not added to the network buffer . Fixes #15346  	0	0
1 1 1.4 1.0 1.5 1.5 1.45 1.5 1.6666666666666667 2.0 1.0728527607361964 1304 1.0 1 6 21 70	Compilation error on fedora V25 with ncurses6-lib , when build with llvm/icx compiler . Reported by rahul kumar : Getting compilation error on fedora V25 , built with latest ncurses lib v 6.0 , While using ISSM toolchian with llvm/icx compiler . Error snipt : : $ make pristine $ make BOARD = quark_se_c1000_devboard CC = icx /home/intel/tool_project/llvm/linux_prod/linux/bin/intel64/clcpcom : error while loading shared libraries : libtinfo . so . 5 : cannot open shared object file : No such file or directory compilation aborted for /home/intel/tool_project/zephyr/arch/x86/core/offsets/offsets . c ( code 127 ) /home/intel/tool_project/zephyr/ . /Kbuild : 49 : recipe for target ' arch/x86/core/offsets/offsets . o ' failed make[3 ]: *** [ arch/x86/core/offsets/offsets . o ] Error 127 . For how to setup llvm/icx update the icx compiler with 0214 build from ISSM team source /linux_prod/linux/bin/xcompilervars_arch . sh ia32 mcu cd zephyr source zephyr-env.sh export ISSM_INSTALLATION_PATH = /opt/intel/issm_ 2016.1.057 export ZEPHYR_GCC_VARIANT = issm how-to-reproduce cd samples/hello_world make BOARD = quark_se_c1000_devboard CC = icx make BOARD = quark_d2000 CC = icx Thanks ( Imported from Jira ZEP-2153 )	2	2
2 2 2.0 2.0 1.8 2.0 1.6 2.0 2.0 2.0 1.7142857142857142 7 2.0 5 9 31 136	CONFIG_NRFX_UARTE{2-3 } are undefined but referenced . Referenced in : ext/hal/nordic/nrfx_config_nrf9160 . h . . Only : CONFIG_NRFX_UARTE{0-1 } . are defined .	2	0
2 2 1.6 2.0 1.5 2.0 1.5 2.0 2.0 2.0 1.2083333333333333 72 1.0 1 4 15 92	Extend tests/arch/arm test suite to Cortex-A and Cortex-R . Is your enhancement proposal related to a problem ? Please describe . tests/arch/arm test suite family verifies ARCH code for the ARM Cortex-M architecture . Some of the tests are specific to Cortex-M features , while other tests are more generic and should be extended , to cover the remaining Cortex-R and Cortex-A supported architectures . Describe the solution you'd like - tests/arch/arm/arm_thread_swap - tests/arch/arm/arm_interrupt - tests/arch/arm/arm_irq_vector_table should be extended ( with possible re-design or code duplication ) to verify these features in Cortex-R and Cortex-A .	1	1
2 2 1.2 1.0 1.3 1.0 1.0 1.0 1.0 1.0 1.0284167794316643 739 1.0 3 11 20 126	Set the _Swap () return value on ARC the same way it is now done on ARM ? . Reported by Benjamin Walsh : Might be possible to change the ARC interrupt handle and context switching code so that the return value is set when exiting _Swap () instead of by the three different context switching handling cases ( coop , firq , rirq ) . Investigation needed . This is just to act as a reminder . ( Imported from Jira ZEP-1301 )	1	1
0 0 0.4 0.0 0.6 0.5 0.6 0.0 0.0 0.0 1.0797824116047143 1103 1.0 8 15 20 121	Dynamic Frequency Scaling . Reported by Robert Beatty : As a user of Zephyr I need support for core dynamic frequency scaling so that overall power and performance can be optimized . ( Imported from Jira ZEP-1828 )	2	1
2 2 1.6 2.0 1.6 2.0 1.6 2.0 1.6666666666666667 2.0 1.06993006993007 143 1.0 14 20 21 40	Usage of ARCH in application Makefiles is misleading . Reported by Anas Nashif : Using ARCH variable to select different configurations for the different architectures is misleading and conflicts with the variable ARCH being used by the build system . The variable is not needed , it is application specific and an application can be built without the need to specify ARCH on the command line . This is yet another item specific to samples and test cases that wrongfully being used and documented for every application . We need to use another variable and just make it clear it is specific to samples and how they are written . One possible solution is to have a script that gets the architecture based on the board being used . ( Imported from Jira ZEP-238 )  	0	1
0 0 1.0 1.0 1.3 1.5 1.2 1.0 0.6666666666666666 1.0 1.064516129032258 31 1.0 3 18 24 108	cmake : Add zephyr base address when looking file into soc/ . When checking availability of soc/${ARCH}/CMakeLists . txt , we should use ${ZEPHYR_BASE } as path base . Fixes #9956 Signed-off-by : Erwan Gouriou < URL >  	0	0
2 2 1.4 1.0 1.4 1.0 1.05 1.0 1.6666666666666667 2.0 1.9 10 2.0 0 4 45 75	Verify ALL public APIs are documented . There are many header files ( 179 ) in the include/ folder that do not define a doxygen : @defgroup . and so are not being included in the Sphinx/Breathe-generated API documentation .	1	2
1 1 1.4 1.0 1.3 1.0 1.35 1.0 1.3333333333333333 1.0 1.25 4 1.5 6 7 14 116	Bluetooth : L2CAP : Encryption key size verification could be done in host . Is your enhancement proposal related to a problem ? Please describe . Currently encryption key size verification is letf up to application in accept () callback , while security level is validated by the stack . This could be simplified and keysize could also be validated by the stack so that each application don't have to reimplement this check . See discussion in for some background : < URL > Describe the solution you'd like Key size verification could be don in l2cap_check_security () in l2cap . c , and -EPERM would be removed from allowed returns on accept () call ( could be left for time being for backward compatibility though )	2	1
2 2 1.2 1.0 1.2 1.0 1.05 1.0 1.6666666666666667 2.0 1.046894803548796 789 1.0 1 3 34 136	Missing wiki board support page for arm/arduino_101_ble . Reported by David Kinder : Does arduino due content cover this ? < URL > ( Imported from Jira ZEP-1363 )	2	2
0 0 0.4 0.0 0.7 0.5 0.8 1.0 0.6666666666666666 1.0 1.3636363636363635 11 1.0 1 2 7 60	kernel : mem_domain : Fix compile issues . Commit 08de658eb (' kernel : mem_domain : Check for overlapping regions when considering W^X ' ) introduced some compile issues on various platforms . The k_mem_partition_attr_t member is attr not attrs . Also , fix an issue where sane_partition_domain neesd a pointer to a parition . Fixes #6444 Signed-off-by : Kumar Gala < URL >  	0	0
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 0.6896551724137931 29 1.0 0 14 25 84	Bluetooth : controller : Fix premature connection event close . Fixes the following : 1 . Fix premature connection event close due to the new Tx buffers not being de-multiplexed and routed to connection's Lower Link Layer context when they arrive while being inside the connection's radio event . Fix central role event prepare to demux and enqueue two Tx buffers so that MD bit can be set correctly . Add force MD bit feature wherein connection events can be extended to match the rate at which applications provide new Tx data . MD bit in Tx PDUs is forced on if there has been CONFIG_BT_CTLR_TX_BUFFERS count number times Tx/Rx happened in a connection event . The assumption here is , if controller's tx buffers are full , it is probable that the application would send more Tx data during the connection event , and keeping the connection event alive will help improve overall throughput . Added feature to in-system measure incoming Tx throughput . Added automatic runtime calculation of Forced MD bit count based on incoming Tx buffer throughput . Fixes #27981 . Signed-off-by : Vinayak Kariappa Chettimada < URL >	1	0
1 1 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 1.1403508771929824 114 1.0 0 1 5 38	nios2 : implement asm atomic operations . Reported by Andrew Boie : As a Zephyr user targeting Nios II , I would like to have assembly implementation of atomic operations to help optimize my app's performance . Implement the extern functions declared in include/atomic . h using inline assembly . The implementation should go in arch/nios2/core . See arch/x86/core/atomic . c for an example of this on x86 . Disable use of CONFIG_ATOMIC_OPERATIONS_C ( Imported from Jira ZEP-201 )	2	1
1 1 1.2 1.0 1.5 2.0 1.55 2.0 1.0 1.0 1.7142857142857142 7 2.0 3 8 17 79	 Samples and Demos documentation hierarchy looks unintentionally deep . Describe the bug The documentation pages for samples and demos contain hyperlinks for pages and headings at deep levels that do not seem intentional To Reproduce 1 . See < URL > Example screenshot below - the link at the bottom is the same as the one on the top of screenshot See < URL > Example screenshot below - the 1st link is actually a sub-page within the page in 2nd link Expected behavior The intent likely was for the parent page to contain only 1st level child pages , not 2 levels . If the intent was 2 levels , then atleast the 2nd level should be indented . Impact Documentation page is cluttered and makes it difficult to locate the page one is looking for .	2	2
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0235640648011781 679 1.0 7 18 26 85	Create test for semaphore kernel object using native unified kernel API . Reported by Anas Nashif : Verify semaphore object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . The new test should utilise the ztest framework . ( Imported from Jira ZEP-1207 )  	0	1
1 1 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.4 5 1.0 9 33 54 263	USB : cdc_acm_composite sample might lose characters . Sample might lose characters if they are typed really fast	2	0
2 2 1.2 1.0 1.4 1.0 1.5 1.5 1.3333333333333333 1.0 1.385 200 1.0 83 91 103 158	[ Coverity CID : 203481]API usage errors in /tests/crypto/tinycrypt/src/test_ecc_utils . c . Static code scan issues seen in File : /tests/crypto/tinycrypt/src/test_ecc_utils . c Category : API usage errors Function : string2scalar Component : Tests CID : 203481 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.0769230769230769 13 1.0 8 14 16 28	Coverity issue seen with CID : 178243 . Static code scan issues seen in File : /drivers/ethernet/eth_enc28j60 . c Category : Error handling issues Function : eth_enc28j60_read_reg Component : Drivers Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.7 2.0 1.4 1.5 1.3333333333333333 1.0 1.0 4 1.0 6 12 25 203	Incorrect documentation for k_work_*() API . The documentation of k_work_*() API mentions that the error code : -EINPROGRESS . is returned when given operation is performed on the work which is pending . Unfortunately such code is never returned . Either documentation or implementation should be corrected .	2	2
1 1 1.0 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 1.4285714285714286 21 2.0 7 11 22 161	Support out-of-tree implementations of existing drivers/subsystems . It is desired to maintain alternative implementations of existing Zephyr drivers/subsystems out-of-tree . For this to work the following is needed : [ x ] Integration with CMake driver build scripts [ x ] Integration with Kconfig [ x ] Integration with the userspace/kernelspace separation mechanisms This is not the same as #5554  	0	1
1 1 1.6 2.0 1.8 2.0 1.7 2.0 1.3333333333333333 1.0 0.0 0 0.0 1 13 19 83	Bluetooth : host : GATT service request is not able to trigger the authentication procedure while in SC only mode . Describe the bug While the Zephyr host is in SC only mode , it is not able to trigger the authentication procedure when accessing an GATT characteristic requiring READ_AUTHEN permission . In the case of insufficient authentication , the security level will be escalated gradually ( att . c #L1976 ) . As stated in the SPEC , if a device is in SC only mode , it shall only use security level 1 or level 4 . < URL > Here's a relevant section from the Bluetooth Core Specification v 5.2 , Vol . 3 , Part C , section 10.2.4 : A device may be in a Secure Connections Only mode . When in Secure Connections Only mode only security mode 1 level 4 shall be used except for services that only require security mode 1 level 1 . The device shall only accept new outgoing and incoming service level connections for services that require Security Mode 1 , Level 4 when the remote device supports LE Secure Connections and authenticated pairing is used . Expected behavior If a device is in SC only mode , and it gets a ATT response with BT_ATT_ERR_AUTHENTICATION , it requires to set sec to BT_SECURITY_L4 as a parameter of bt_conn_set_security () . < URL > Impact The Zephyr doesn't compliant the test procedure of BLE host qualification GAP/SEC/SEM/BV-23-C ( GAP . TS . p38 ) . Logs and console output Environment ( please complete the following information ): Commit SHA or Version used : Current master ( < URL > )  	0	0
2 2 1.0 1.0 0.9 1.0 1.0 1.0 0.6666666666666666 0.0 0.949238578680203 197 1.0 13 17 25 83	Tickless Kernel . Reported by Gajinder Vij : As a Zephyr developer , I would like the kernel to support tickless operation so that my application performs more optimally and has more deterministic performance . Breakdown . Change timers to always program in one-shot mode - start with HPET for a QMSI POC and then follow with loapic timer for x86 . Update other archs after full implementation is completed . - Program timer only if same priority task is present . If not , program to max cycles . - ticks will be replaced by ' time_slice_interval ' which will hold ms - Upon expiry do similar operations done currently for tickless idle i.e. calculate elapsed time and handle time-slicing and timeouts . - elapsed time will be maintained in ms or us - tick_announce will be replaced by elapsed_time_announce passing ms or us Change timeout management to use ms/us instead of ticks - Time granurality can be configured to use mili seconds or micro seconds . - _add_thread_timeout and below would use ms/us instead of ticks - structures , functions and tracking of time should be in ms/us - API with time parameter will use MS except _sys_soc_suspend which will be ms or us . ( Imported from Jira ZEP-339 )	1	1
0 0 1.0 1.0 1.5 2.0 1.3 1.0 0.6666666666666666 0.0 1.8 5 2.0 6 10 28 89	timer/scheduler problem ( STM32F407 ) . I have a high prio task ( the highest prio in the system , higher than anything else ) that should run every 20ms , to check that I toggle a LED that I measure with a scope . At random intervals ( sometimes every second , but sometimes it takes 15 seconds , or sometimes twice in a row ) it does not wake up after 20 ms but after 100ms ( it always seems to be 100ms ) . This system is not halted at that time , IRQ handlers do run just that all waits seem delayed 100ms . When I disable tickless ( : CONFIG_TICKLESS_KERNEL = n CONFIG_TICKLESS_IDLE = n . ) the problem goes away , and the task always ( tested several hours ) starts after 20ms . The task is scheduled like follows ; : K_TIMER_DEFINE(t , NULL , NULL ); void task(void * a ) { k_timer_start(&t , K_MSEC(20 ) , K_MSEC(20 )); while ( 1 ) { k_timer_status_sync(&t ); led_on (); .... led_off (); } } .	1	0
1 1 1.4 1.0 1.4 1.0 1.4 1.0 1.3333333333333333 1.0 1.1428571428571428 112 1.0 3 3 6 39	[ regression ] Failed to receive loopback packet . . Reported by changru fan : Configuration x86 quark se devboard nano Bug detailed description Failed to receive loopback packet . Steps to Reproduce setup zephyr environment $ cd /zephyr-kernel- 1.2.0 -160410-30fcb2f $ source zephyr-env.sh compile the sample testscases $ export ZEPHYR_GCC_VARIANT = iamcu $ export IAMCU_TOOLCHAIN_PATH = ?Your IAMCU toolchain path ?$ cd samples/net/loopback_test $ make pristine ; make BOARD = quark_se_devboard Use OpenOCD to flash zephyr . bin $ /opt/zephyr-sdk/sysroots/i686-pokysdk-linux/usr/bin/openocd -s /opt/zephyr-sdk/sysroots/i686-pokysdk-linux/usr/share/openocd/scripts -f ' .. / .. / .. /boards/quark_se_devboard/support/openocd . cfg ' -c ' init ' -c ' targets ' ' -c targets 1 ' -c ' reset halt ' -c ' load_image outdir/zephyr . bin 0x40030000 ' -c ' reset halt ' -c ' verify_image outdir/zephyr . bin 0x40030000 ' -c ' reset run ' -c ' shutdown ' Verify the UART output message . Expected Result = = = = = = = = = = = = = ( Packets are sent and received , then it can received packets cycle continuously . ) Actual Result main : run network loopback test 0 : fiber_sender : sent 86 bytes 0 : fiber_receiver : received 86 bytes ( Packets are sent and received only once , no packets are received anymore . ) ( Imported from Jira ZEP-190 )	1	0
1 1 0.8 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.16 50 1.0 15 36 46 156	x86 may expose private kernel data to user mode . Kernel stack buffers are not rounded up to page boundaries . It is possible ( although unlikely with the current linker . ld structure ) that a non-rounded kernel stack could have private kernel data immediately after it in the same page , which would have user mode access for the thread using that stack .  	0	0
1 1 1.8 2.0 1.6 2.0 1.5 2.0 1.6666666666666667 2.0 1.0704119850187266 1335 1.0 13 16 25 84	Build warnings [-Wpointer-sign ] with LLVM/icx ( samples/subsys/console/echo and samples/subsys/console/getchar ) . Reported by rahul kumar : Test case with build warning raised from LLVM/icx : samples/subsys/console/echo and samples/subsys/console/getchar : /home/intel/workspace/zephyr/subsys/console/getchar . c : 42:28 : warning : passing ' char *' to parameter of type ' u8_t *' ( aka ' unsigned char *') converts between pointers to integer types with different sign [-Wpointer-sign ] if ( uart_fifo_read(dev , & c , 1 ) = = 0 ) { ^ ~ /home/intel/workspace/zephyr/include/uart . h : 271:60 : note : passing argument to parameter ' rx_data ' here static inline int uart_fifo_read(struct device * dev , u8_t * rx_data , ^ 1 warning generated . . How to setup llvm/icx update the icx compiler with 0214 build from ISSM team source /linux_prod/linux/bin/xcompilervars_arch . sh ia32 mcu cd zephyr source zephyr-env.sh export ISSM_INSTALLATION_PATH = /issm_ 2016.1.057 export ZEPHYR_GCC_VARIANT = issm How-to-reproduce : cd samples/subsys/console/echo make pristine make BOARD = quark_se_c1000_devboard CC = icx Same warning see in samples/subsys/console/getchar component as well . Expected result : Build should pass without any warning or error . Actual result : Observed build warnings . ( Imported from Jira ZEP-2195 )	2	0
2 2 1.6 2.0 1.3 1.0 1.2 1.0 1.6666666666666667 2.0 1.0737294201861132 1397 1.0 5 12 20 93	define / implement application-facing memory domain APIs . Reported by Andrew Boie : Based on discussion of memory domains at security summit . Specify the app-facing APIs related to configuring memory domains . This ties into GH-3632 . We will also need APIs to associate these domains with particular threads . ( Imported from Jira ZEP-2281 )	1	1
2 2 1.8 2.0 1.6 2.0 1.65 2.0 1.6666666666666667 2.0 1.25 8 1.0 2 10 73 239	mimxrt1050_evk tests/kernel/fp_sharing kernel . fp_sharing fails . Describe the bug float point sharing test fails To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = mimxrt1050_evk .. 3 . make 4 . See error Expected behavior test PASS Impact fp usage Screenshots or console output : ***** Booting Zephyr OS 1.14.0 -rc2 ***** Floating point sharing tests started = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FAIL - calculate_pi_low @89 . Computed pi % . 6f , reference pi % . 6f FAIL - load_store_low = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PROJECT EXECUTION FAILED Pi calculation OK after 50 ( high ) + 0 ( low ) tests ( computed % . 6f ) Load and store OK after 100 ( high ) + 28782 ( low ) tests Pi calculation OK after 150 ( high ) + 0 ( low ) tests ( computed % . 6f ) Load and store OK after 200 ( high ) + 28782 ( low ) tests . Environment ( please complete the following information ): - OS : ( Linux ) - Toolchain ( Zephyr SDK , ) - Commit SHA or Version used : v 1.14.0 _rc2	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.368421052631579 133 1.0 18 22 25 56	[ Coverity CID : 190620]Null pointer dereferences in /drivers/wifi/eswifi/eswifi_core . c . Static code scan issues seen in File : /drivers/wifi/eswifi/eswifi_core . c Category : Null pointer dereferences Function : eswifi_init Component : Drivers CID : 190620 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.8 2.0 1.5 2.0 1.05 1.0 1.6666666666666667 2.0 1.086105675146771 1022 1.0 8 27 34 100	Add TinyTILE board support . Reported by Anas Nashif : TinyTILE is a small board based on Curie ( Imported from Jira ZEP-1710 )	1	1
0 0 0.4 0.0 0.9 1.0 0.9 1.0 0.3333333333333333 0.0 1.0833333333333333 1632 1.0 3 15 27 159	Failed test : kernel . mailbox . msg_receiver_unlimited ( tests/kernel/mbox/mbox_usage/) on ESP32 . Fails on ESP32 : ***** Booting Zephyr OS 1.12.0 -rc2 ( delayed boot 1000ms ) ***** Running test suite test_mbox = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_msg_receiver PASS - test_msg_receiver = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - msg_receiver_unlimited Sender UNLIMITED ** FATAL EXCEPTION ** CPU 0 EXCCAUSE 28 PS 0x00060c20 PC 0x40082a77 VADDR 0x0000000b ** A0 0x80082abe SP 0x3ffb1b60 A2 0x3ffb1a54 A3 0x3ffb1754 ** A4 0x3ffb2e80 A5 0x3ffb2e60 A6 0xfffffff5 A7 0x3ffb1a20 ** A8 0x00000001 A9 0x3ffb162c A10 0x000000ff A11 0x0000000a ** A12 0x00000000 A13 0x3ffb1c80 A14 0x00000000 A15 0x00000000 ** LBEG 0x00000000 LEND 0x00000000 LCOUNT 0x00000000 ** SAR 0x00000000 Current thread ID = 0x3ffb1634 Faulting instruction address = 0xdeaddead Fatal fault in ISR ! Spinning ... .	1	0
2 2 1.2 1.0 1.1 1.0 1.5 2.0 1.6666666666666667 2.0 1.0106060606060605 660 1.0 4 7 22 74	Update logger Api to allow using a hook for SYS_LOG_BACKEND_FN function . Reported by Yossi Havusha : Currently when using system log API each of the macros is calling to SYS_LOG_BACKEND_FN to output the log message . SYS_LOG_BACKEND_FN is mapped to printk or printf according to kconfig . By adding a syslog hook , we allow the user to register and implement its own backend function for various drivers like SPI , flash , FS etc . The existing behavior will not change and will remain the default behavior . The user will be able to turn on this behavior by Kconfig configuring ' CONFIG_LOGGER_EXTERNAL_HOOK ' ( Imported from Jira ZEP-1172 )	2	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.4912280701754386 114 2.0 7 7 15 76	[ Coverity CID : 198865]Null pointer dereferences in /drivers/usb/device/usb_dc_stm32 . c . Static code scan issues seen in File : /drivers/usb/device/usb_dc_stm32 . c Category : Null pointer dereferences Function : HAL_PCD_SetupStageCallback Component : Drivers CID : 198865 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.6 2.0 1.45 2.0 1.6666666666666667 2.0 1.2222222222222223 9 1.0 2 8 12 58	Redundant flash shell commands . Describe the bug It's rather ' bad impression ' bug . : samples/drivers/flash_shell . implements commands to handle flash and there are already generic commands in : drivers/flash/flash_shell . c . which are not enabled in that example ( because they overlap ) . It would be good to merge those two and clean up the example or even remove it and just enable flash commands in generic shell example .	2	1
0 0 1.0 1.0 1.2 1.0 1.3 1.0 0.6666666666666666 1.0 1.081825334382376 1271 1.0 4 8 18 68	Enabling networking for targets w/o network hw causes hang on boot . Reported by Paul Sokolovsky : This is reproducible with BOARD = 96b_carbon which doesn't have networking support in the mainline . And the issue title doesn't explain the situation well , how it happens is that if you have a Zephyr application which has networking enabled ( CONFIG_NETWORKING = y ) , then if you build it and boot it on a target w/o networking hardware , it's just locked up with no output ( no debug logging enabled ) . This was originally reported for MicroPython Zephyr port : < URL > ( Imported from Jira ZEP-2105 )	2	0
1 1 0.8 1.0 0.8 1.0 0.95 1.0 1.3333333333333333 1.0 1.073020753266718 1301 1.0 3 16 18 71	Move Arduino 101 to Device Tree . Reported by Anas Nashif : Move Arduino 101 and all included cores to Device tree ( Imported from Jira ZEP-2150 )	1	1
0 0 0.6 0.0 0.7 0.5 0.75 1.0 0.3333333333333333 0.0 1.2 5 2.0 5 39 53 130	Arch arm properly report stack corruption . Allows ARM builds to report Stack Corruption . Fixes issues reported in #7706	1	0
1 1 1.0 1.0 0.7 1.0 0.65 0.5 1.0 1.0 1.0717329545454546 1408 1.0 5 6 15 90	UDP test script for TCF . Reported by gurucharan p : Develop a script in python for UDP sockets and verify the functionality by integrating to TCF ( Imported from Jira ZEP-2299 )	1	1
2 2 2.0 2.0 2.0 2.0 1.75 2.0 2.0 2.0 1.173607355327204 1849 1.0 6 7 13 128	[ Coverity CID : 211044 ] Unchecked return value in tests/subsys/settings/fcb_init/src/settings_test_fcb_init . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : test_init_setup . Component : Tests CID : < URL > Details : : 123 void test_init_setup(void ) 124 { 125 int err ; 126 127 test_prepare_storage (); 128 >>> CID 211044 : Error handling issues ( CHECKED_RETURN ) >>> Calling ' settings_subsys_init ' without checking return value ( as is done elsewhere 4 out of 5 times ) . 129 settings_subsys_init (); 130 131 err = settings_register(&c1_settings ); 132 zasser t_t rue(err = = 0 , ' can't regsister the settings handler ' ) ; 133 134 err = settings_load (); . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.8 2.0 1.6 2.0 1.3 1.5 1.6666666666666667 2.0 1.125 8 1.0 7 13 77 244	zephyr : fix mcuboot can't link into boot-partition . Objective of the path is to allow to select by the application to link into the chosen code-partition . Introduced USE_CODE_PARTITION will be set by bootloader project . fixes #14566 Signed-off-by : Andrzej Puzdrowski < URL >  	0	0
1 1 1.6 2.0 1.5 2.0 1.1 1.0 1.3333333333333333 1.0 1.0951893551688843 977 1.0 5 11 27 103	Figure out new combo for breathe/doxygen/sphinx versions that are supported . Reported by Anas Nashif : All components have new versions and there some issues when installing the wrong combo , so we need to re-verify the supported versions and document them ( Imported from Jira ZEP-1647 )	1	2
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1965767634854771 1928 1.0 6 10 15 113	[ Coverity CID : 214875 ] Dereference after null check in subsys/emul/spi/emul_bmi160 . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : bmi160_emul_io . Component : Other CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.4 2.0 1.3 1.5 1.1 1.0 1.3333333333333333 2.0 1.0972078593588417 967 1.0 2 8 32 93	ne t-t ools make failed . Reported by jiequan wu : Configuration Bug detailed description ne t-t ools make failed cd ne t-t ools make Erroe Log . /configure : line 12362 : syntax error near unexpected token : -Wlogical-op , ' . /configure : line 12362 : . AX_CHECK_COMPILE_FLAG(-Wlogical-op , WARNING_CFLAGS='$WARNING_CFLAGS -Wlogical-op ' ,, -Werror )' make[1 ]: Entering directory ' /home/linux/latest/ne t-t ools/libcoap ' make[1 ]: No targets specified and no makefile found . Stop . make[1 ]: Leaving directory ' /home/linux/latest/ne t-t ools/libcoap ' Makefile : 50 : recipe for target ' libcoap/ . libs/libcoap-1 . a ' failed make : [ libcoap/ . libs/libcoap-1 . a ] Error 2 ( Imported from Jira ZEP-1629 )  	0	0
0 0 1.0 1.0 1.2 1.5 1.2 1.0 1.0 1.0 0.9713375796178344 314 1.0 3 8 14 55	add APIs for asynchronous transfer callbacks . Reported by Andrew Boie : As a Zephyr kernel user , I would like to have APIs to transfer large buffers of data over SPI , I2C , or UART asynchronously , so that I can just send one big buffer and get a callback when the transfer is finished . The driver will handle all the details of setting up DMA transfers , or splitting the buffer into smaller chunks , dealing with interrupts , etc . There might be worker threads involved or it could all be done by DMA . ( Imported from Jira ZEP-540 )  	0	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.24625784645099 2071 1.0 20 86 94 158	[ Coverity CID : 219646 ] Untrusted value as argument in subsys/net/lib/coap/coap . c . Static code scan issues found in file : < URL > Category : Insecure data handling Function : : coap_reply_init . Component : Networking CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 1.0183356840620592 709 1.0 7 18 46 109	Abstract driver re-entrancy code . Reported by Kuo-Lang Tseng : Most existing QMSI shim drivers implemented same mechanism ( use of const variable ) to support API re-entrancy and the implementation are the same . With the introduce of IS_ENABLED macro , the code can be simplified without the use of the const variable . Further , the wrapper functions around the semaphore APIs will not be needed and can be removed and instead , use the semaphore API directly . ( Imported from Jira ZEP-1251 )	1	1
2 2 1.6 2.0 1.5 2.0 1.4 2.0 2.0 2.0 1.1666666666666667 6 1.0 6 21 27 112	Porting to a new architecture needs to be documented . Comprehensive information about which functions and symbols are expected by the Zephyr kernel when porting to a new architecture is missing . This not only applies to a new port , but also to enhancing an existing port , such as the native posix one . Porting is split over /arch and /board , with the documentation indicating too vaguely what functionality is expected where , and also which features/functions are expected and by which core subsystem . The different subsystems are mentioned on the top level porting page , but not exactly which functions/symbols are expected by the port . Trial and error is fine , but leads quickly to cargo cult programming should one copy-paste a very similar port for another board .	2	2
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2988754325259515 2312 1.0 11 14 20 72	[ Coverity CID : 238332 ] Logically dead code in tests/bluetooth/tester/src/mesh . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : config_netkey_get . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.3 1.0 1.3 1.0 1.6666666666666667 2.0 1.325 80 1.0 1 2 5 154	qemu_arc_{em , hs } keeps failing in CI on tests/kernel/lifo/lifo_usage . Describe the bug Keeps failing in CI < URL > : *** Booting Zephyr OS build zephyr-v 2.3.0 -305-gb04ff83884de *** Running test suite test_lifo_usage = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_lifo_nowait PASS - test_lifo_nowait = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_lifo_wait PASS - test_lifo_wait = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imeout_empty_lifo PASS - tes t_t imeout_empty_lifo = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imeout_non_empty_lifo PASS - tes t_t imeout_non_empty_lifo = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imeout_lifo_thread Assertion failed at WES T_T OPDIR/zephyr/tests/kernel/lifo/lifo_usage/src/main . c : 329 : tes t_t imeout_lifo_thread : packet ! = NULL is false FAIL - tes t_t imeout_lifo_thread = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imeou t_t hreads_pend_on_lifo Assertion failed at WES T_T OPDIR/zephyr/tests/kernel/lifo/lifo_usage/src/main . c : 401 : tes t_t hread_pend_and_timeout : packet = = NULL is false FAIL - tes t_t imeou t_t hreads_pend_on_lifo = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Test suite test_lifo_usage failed . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PROJECT EXECUTION FAILED . excluding it for now , but need a fix . EDIT : This test fails on both : qemu_arc_hs . and : qemu_arc_em . .	1	0
1 1 1.0 1.0 0.8 1.0 0.75 1.0 1.0 1.0 0.8571428571428571 7 1.0 2 5 9 49	Bluetooth : controller : split : Fix conditional compile error . Fix conditional compilation error in building the central only samples as all peripheral structure member accesses in the controller where not correctly compiled out . Regression introduced in commit 6d8b12468e95 (' Bluetooth : controller : split : Refactor LLL conn structure ' ) . Signed-off-by : Vinayak Kariappa Chettimada < URL >  	0	0
2 2 1.4 2.0 1.5 2.0 1.6 2.0 2.0 2.0 1.7142857142857142 7 2.0 1 4 15 60	http_client_req : Timeout likely not working as expected . Describe the bug The : hawkbit . subsystem is using the http client library to download firmware . However I've never seen that a timeout occurred when the download stops . I'm using a Quectel EC21 modem with the : gsm_ppp . driver . To Reproduce I'm not sure how to manually stop the download in hawkbit , maybe turn off the modem manually during the download ? Expected behavior I expect the request to timeout after the defined duration . Impact Application/subsys/lib/sample that use the function call might not return from it , that include tagoio_http_post sample , hawkbit subsys , http_client sample and websocket lib . Logs and console output < URL > Environment ( please complete the following information ): - OS : Win 10 - Toolchain gnuarmemb - v 2.6.0 -1638-g0296d12675fd	2	0
2 2 1.8 2.0 1.7 2.0 1.5 2.0 1.6666666666666667 2.0 1.0352020860495437 767 1.0 15 21 34 138	Investigate having timeout code track tick deadlines instead of deltas . Reported by Allan Stephens : Currently the kernel maintains a linked list of active timeouts , with each timeout recording the number of additional ticks it must wait after the preceding timeout expires . It may be more efficient for a timeout to record the absolute tick count when it expires , rather than a delta . Potential benefits : * k_timer_remaining_get () would no longer need to walk the list to compute how much time is left until a timer expires -- it could just subtract the current tick count from the deadline tick count . * It should be slightly faster to handle the removal of a timeout that is stopped before it expires , since it wouldn't be necessary to adjust the delta time of the next timeout in the list ( if one exists ) . Potential costs : * Unknown . It might be worth prototyping the change and seeing if it increases footprint significantly -- if so , the time vs . space trade-off would need to be analyzed . ( Imported from Jira ZEP-1332 )	2	1
0 0 1.0 1.0 0.9 1.0 1.2 1.0 0.6666666666666666 1.0 1.0819571865443425 1635 1.0 2 9 27 157	Failed test : peripheral . adc . adc on quark_se . Wrong priority for ADC driver on Quark SE ( ARC ) : ASSERTION FAIL [ prio < 2 ] @ zephyr . git/arch/arc/core/irq_manage . c : 85 : invalid priority 2 for irq 19 .	1	0
2 2 1.4 1.0 1.6 2.0 1.25 1.0 1.3333333333333333 1.0 0.9895561357702349 383 1.0 4 9 17 67	 Subsystems/Networking section is almost empty . Reported by Paul Sokolovsky : Looking at < URL > , it's almost empty , describing just ' Network Buffers ' without connection to any other networking topics . Networking is cornerstone feature of IoT , so an almost empty section doesn't look too cheerful . It would be nice if it were made like e.g. neighbor page of < URL > . ( I don't know if Zephyr project has a dedicated writer yet , but guess couple of screenfulls of basic overview could be written by net/ developers in a day ( hour ? )) . Thanks . ( Imported from Jira ZEP-687 )	1	2
0 0 0.8 1.0 0.9 1.0 0.7 0.5 0.6666666666666666 1.0 1.5 10 2.0 10 10 10 10	Support TI CC2550 SPI based 802.15.4 chip . Reported by Javier B Perez : This will be the primary 802.15.4 hardware to be supported . It is an SPI driven chip contiki support exists , so it might be possible to back-port some or most of the driver logic from there ( Imported from Jira ZEP-16 )	1	1
2 2 1.4 2.0 1.4 2.0 1.3 1.0 1.0 1.0 2.0 1 2.0 3 11 41 140	POSIX `clock_gettime()` is discontinuous . The implementation of : clock_gettime () . when called with : CLOCK_MONOTONIC . is non-monotonic ( it jumps backward ) about once a second after the first time that the k_cycle_get_32 () counter wraps . On the FRDM-K64F , this means the result is incorrect after about 35 seconds , and is never correct from then on . The problem is that the : k_cycle_get_32 () . is used mod : sys_clock_hw_cycles_per_sec . . Unless the hw cycles per sec is a power of two , the overflow will not occur on a second boundary . This effectively means that this sub-second value is completely meaningless after the counter wraps the first time . I can suggest two solutions , a shor t-t erm and a better fix : Use the lower precision ' ms ' value from `k_uptime_get () to set the nanosecond field . The value will be less ' accurate ' , but a less accurate number is still more useful than a completely meaningless value that is currently used . Longer term , keep a proper 64-bit counter by watching the k_cycle_get_32 counter , noticing overflows , and using them to increment an upper-32-bit counter . It might be best to just have a : k_cycle_get_64 () . counter , and use that for the monotonic time .	1	0
1 1 1.0 1.0 1.2 1.0 1.4 1.0 1.3333333333333333 1.0 0.0 0 0.0 8 16 25 93	NVS broken for write-align > 4 . NVS has support for handling write alignment , by ' padding ' the header and data up to the write alignment . However the implementation has some issues : - When writing a header or a footer , some garbage might be written to the flash : : struct _nvs_data_hdr data_hdr ; ... hdr_len = _nvs_len_in_flash(fs , sizeof(struct _nvs_data_hdr )); ... rc = nvs_flash_write(fs , fs -> write_location , & data_hdr , hdr_len ); . : data_hdr . takes 4 bytes in memory , but : write-align . bytes are written to the flash . The remaining bytes are taken from the stack . - The same issue happens when reading the header or a footer , except that this time it causes stack corruption and thus non-predictable behavior : : hdr_addr = _nvs_head_addr_in_flash(fs , entry ); hdr_len = _nvs_len_in_flash(fs , sizeof(struct _nvs_data_hdr )); rc = nvs_flash_read(fs , hdr_addr , & head , hdr_len ); . On the other hand no padding is done when writing the data . This means that for a 4-byte value , when : write-align . equals to 8 bytes , only 4 bytes ends-up being passed to flash_write and the write get rejected by the flash layer . A quick workaround for the two first issues is to pad the structures in : nvs_priv . h . . For example with : write-align . set to 8 : : --- a/subsys/fs/nvs/nvs_priv . h +++ b/subsys/fs/nvs/nvs_priv . h @@ -47 , 11 +47 , 13 @@ struct _nvs_sector_hdr { struct _nvs_data_hdr { u16_t id ; u16_t len ; + u32_t _pad ; }; struct _nvs_data_slt { u16_t crc16 ; u16_t _pad ; + u32_t _pad2 ; }; .	1	0
2 2 1.2 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 0.0 0 0.0 6 7 26 110	net : sockets : listen () ignores backlog parameter . When calling listen on a socket you are supposed to provide the length of the pending connections backlog . In Zephyr this parameter is ignored when reaching net_context_listen . Listen man entry specifies the behaviour as such : The backlog argument defines the maximum length to which the queue of pending connections for sockfd may grow . If a connection request arrives when the queue is full , the client may receive an error with an indication of ECONNREFUSED or , if the underlying protocol supports retransmission , the request may be ignored so that a later reattempt at connection succeeds . Currently the behaviour seems to be largely driven by the value of CONFIG_NET_MAX_CONN .	2	1
1 1 1.6 2.0 1.5 1.5 1.5 2.0 1.3333333333333333 1.0 1.0 1 1.0 1 6 14 82	soc : intel_s1000 : Fix the tests for dma and i2s drivers . I2S and the DMA drivers have been modified quite a bit recently due to which the current tests for intel_s1000 fail . These tests need to be fixed . Once these tests fail , they also block the other tests ( i2c , gpio etc ) as the system is kind of hung .	2	0
2 2 1.4 1.0 0.9 1.0 0.65 0.5 1.6666666666666667 2.0 1.0883977900552486 905 1.0 0 12 25 67	Multi Sessions HTTP Server sample . Reported by Anas Nashif : Provide an HTTP server sample that support up to 10 concurrent sessions . ( Imported from Jira ZEP-1542 )	2	1
1 1 1.4 2.0 1.3 1.5 1.3 1.0 1.6666666666666667 2.0 1.0 1 1.0 7 9 34 115	API method to get available mempool . Is your feature request related to a problem ? Please describe . At design time for a product , you want to be able to verify that the heap/mempool usage is bounded . Describe the solution you'd like An API method like : size_t sys_mem_pool_avail () . . mbedOS is offering : mbed_stats_heap_get () . : < URL >	2	1
2 2 1.4 1.0 1.4 1.0 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 2 7 15 67	synchronization example fails to build for SMP platforms . Initially reported by Shippable here < URL > while reviewing < URL > Yet could be reproduced for any other SMP platform , for example : qemu_x86_64 . : : # mkdir build # cd build # cmake -DBOARD = qemu_x86_64 .. /samples/synchronization/ . Enable OpenOCD support ( : CONFIG_OPENOCD_SUPPORT = y . ) . : # make ... [ 60%] Built target app In file included from ... /include/kernel_includes . h : 16 , from ... /include/kernel . h : 17 , from ... /kernel/include/kernel_structs . h : 10 , from ... /subsys/debug/openocd . c : 7 : ... /subsys/debug/openocd . c : 39:35 : error : ' struct z_kernel ' has no member named ' current ' [ OPENOCD_OFFSET_K_CURR_THREAD ] = offsetof(struct z_kernel , current ) , ^ ~~~~~~~ ... /subsys/debug/openocd . c : 66:2 : warning : #warning Please define OPENOCD_OFFSE T_T _STACK_PTR for this architecture [-Wcpp ] #warning Please define OPENOCD_OFFSE T_T _STACK_PTR for this architecture ^ ~~~~~~ .	2	0
1 1 1.4 1.0 1.4 1.0 1.35 1.0 1.3333333333333333 1.0 1.0 1 1.0 4 13 23 117	Bluetooth : Mesh : Proxy servers only resends segments to proxy . The proxy server node first checks whether any connected proxy clients need the packet , and if they do , it won't resend the packet on the advertiser interface . For group dst packets , this is incorrect behavior , as those should go on both interfaces . Introducing an additional check for unicast address before blocking the adv TX fixes the issue , see #23103 .	1	0
1 1 1.6 2.0 1.7 2.0 1.4 1.5 1.3333333333333333 1.0 1.1153846153846154 26 1.0 5 5 14 52	Invalid handling of large cycle count in rtc timer . Describe the bug Invalid macro is used when checking extreme values when setting rtc comparator . This leads to idle not working as intended ( being constantly woken up by rtc interrupt ) and very high current consumption . < URL > : MAX_CYCLES . should be used instead of : MAX_TICKS . . To Reproduce Steps to reproduce the behavior : 1 . Make system go to idle . There should be no timeout set . 2 . This will make system set timeout on the max value . This is passed to rtc driver and capped to the max value there . When comparator is set there is one more check to verify if rtc is not due already . Since wrong macro is used the rtc will trigger interrupt almost instantly . 3 . Observe idle thread looping and high power consumption . Expected behavior rtc should trigger with right timeouts . Impact Showstopper Logs and console output N/A Environment ( please complete the following information ): master Additional context N/A  	0	0
1 1 0.4 0.0 0.6 0.5 0.85 1.0 0.6666666666666666 1.0 2.0 1 2.0 1 4 15 115	bluetooth : host : Fix legacy SMP pairing . This is a regression introduced in b8770acc28f157ee when aligning with BT Core Spec 5.3 naming convention . Signed-off-by : Szymon Janc < URL >  	0	0
2 2 1.2 2.0 0.7 0.0 0.95 1.0 1.3333333333333333 2.0 1.0828343313373254 1002 1.0 5 10 18 90	[ PTS ] GAP/TC_CONN_PRDA_BV_01_C fails . Reported by Dawei Wu : Test Env : Zephyr revision : master/033b5e9a7de8fa17abcd1f2fc4bd09f421383a34 PTS : 7.0 Host : Win10 64bit Enterprise , Dell Optiplex with Intel Core i7-4770 @3 . 4GHZ , 8GB Memory BT USB dongle : CSR Please see attachment log for more info . Test Scenario : After successful pairing the IUT is requested to disconnect a link . After reconnection PTS tries to Start LE Encryption . The link is disconnected . ( Imported from Jira ZEP-1687 )	2	0
0 0 1.0 1.0 1.2 1.5 1.3 2.0 0.3333333333333333 0.0 1.375 8 1.5 1 7 16 112	Bluetooth : Mesh : Network buffer overflow on too long proxy messages . The network decode function does not check the max length of the input mesage , which can exceed the spec-mandated 29 bytes when coming from the proxy module . This can overflow the decode : out . buffer , which is defined as 29 bytes in proxy and net_recv . By default , this will assert in net/buf . c , but if netbuf asserts are disabled , this will overflow the target buffer on stack . Fixed by #31909 .  	0	0
1 1 0.8 1.0 0.9 1.0 0.8 1.0 1.3333333333333333 1.0 0.9849462365591398 465 1.0 39 43 46 89	HTTP Client sample application . Reported by Gajinder Vij : As a Zephyr developer , I would like a sample of a Zephyr device exchanging information from a web server over HTTP , so that I can better understand how to include this functionality into my own application . The client should application be able to communicate with a web server using the following methods : - GET - POST - HEAD ( Imported from Jira ZEP-827 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 2.0 2 2.0 1 1 7 43	 guides : Add a TF-M guide . This commit adds a high-level overview of Trusted Firmware-M , describing the basic architecture and integration work with Zephyr . Signed-off-by : Kevin Townsend < URL >	1	2
0 0 1.2 1.0 1.4 1.5 1.25 1.0 1.3333333333333333 2.0 1.1 90 1.0 6 21 30 211	user mode documentation enhancements . Catch-all enhancement ticket for doing an improvement pass on the user mode documentation . Feel free to comment with any additional things which ought to be revised/improved . [ x ] Add some verbiage explaining how user mode is different from traditional Linux userspace [ x ] Some details on the right way to do driver subsystems . Emphasis on not being able to register callbacks from user mode , that they should be all set up at early application init . [ x ] App shared memory documentation is quite minimal and is out of date . Expand on this greatly [ x ] More detail on dynamic objects and their limitations [ x ] More detail on thread resource pools [ x ] Examples on how ISRs can buffer incoming data that can be consumed by user mode threads , integration with user mode workqueues Fleshing out documentation like this should also help reveal design issues or rough edges .  	0	1
2 2 1.8 2.0 1.3 1.5 1.3 1.5 2.0 2.0 1.0714285714285714 1386 1.0 1 1 13 84	xtensa : scope MPU enabling . Reported by Andrew Boie : We need to get the MPU up and running on Xtensa . Select an appropriate CPU design that has an MPU built in that we can run in either the xt-sim simulator or the Xtensa build of QEMU , and scope the work needed to get it enabled . The end goal is to have parity with the ARM MPU enabling work . Create additional user stories as appropriate . ( Imported from Jira ZEP-2266 )	2	1
1 1 1.4 1.0 1.1 1.0 1.15 1.0 1.0 1.0 0.9772727272727273 176 1.0 3 4 29 67	Consolidate and simplify GPIO driver configuration options . Reported by Anas Nashif : We have too many Kconfigs for controlling and configuring GPIO , share Kconfigs among the various drivers and move SOC specific values to header files . ( Imported from Jira ZEP-295 )	1	1
1 1 1.4 1.0 1.6 2.0 1.55 2.0 1.0 1.0 1.0944350758853287 1186 1.0 6 18 19 124	Lack of process of handling ?RST ?packets . . Reported by lilei shen : Using Zephyr v 1.7.0 of net branch , the client sends ?RST ?packets after the connection is established . The link should be broken theoritically . But it doesn in fact . The simulation flow graph is as follows : |Time | 192.0.2.2 | | | | 192.0.2.1 | | 0.000 | SYN | |Seq = 0 | |(8484 ) ------------------> ( 4242 ) | | 0.020 | SYN , ACK | |Seq = 0 Ack = 1 | |(8484 ) <------------------ ( 4242 ) | | 0.030 | ACK | |Seq = 1 Ack = 1 | |(8484 ) ------------------> ( 4242 ) | | 0.030 | RST | |Seq = 3786102316 | |(8484 ) ------------------> ( 4242 ) | ( Imported from Jira ZEP-1962 )	1	0
1 1 1.4 1.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 0.0 0 0.0 1 3 5 68	Overriding `LOG_LEVEL` could crash the firmware . Here is a test based on : sample/hello_world . that crashes : : #include < zephyr . h > #define LOG_MODULE_NAME main #define LOG_LEVEL 0 #include < logging/log . h > LOG_MODULE_REGISTER (); void main(void ) { LOG_DBG('Hello World!'); } . with : prj . conf . : : # Enable console CONFIG_CONSOLE = y # Enabling logging CONFIG_LOG = y CONFIG_LOG_RUNTIME_FILTERING = y # Override lowest log level to DEBUG ( = 4 ) CONFIG_LOG_OVERRIDE_LEVEL = 4 . Commenting : CONFIG_LOG_OVERRIDE_LEVEL = 4 . does not make the firmware crash Commenting : CONFIG_LOG_RUNTIME_FILTERING = y . does not make the firmware crash Commenting : #define LOG_LEVEL 0 . does not make the firmware crash	1	0
2 2 1.2 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 1.4545454545454546 11 1.0 3 10 27 199	Conflicting documentation for device initialization . In : include/device . h . the following instructions are provided for the : DEVICE_INIT . macro : : * @def DEVICE_INIT * * @brief Create device object and set it up for boot time initialization . * * @details This macro defines a device object that is automatically * configured by the kernel during system initialization . Note that * devices set up with this macro will not be accessible from user mode * since the API is not specified ; whenever possible , use DEVICE_AND_API_INIT * instead . * * @param dev_name Device name . This must be less than Z_DEVICE_MAX_NAME_LEN * characters in order to be looked up from user mode with device_get_binding () . . In the details section it is said that devices set up with this macro is not accessible from user mode , but the parameter dev_name is used to look up the device from user mode . The latter is probably false and was supposed to say kernel mode instead ?	2	2
2 2 1.4 2.0 1.2 1.0 0.9 1.0 1.6666666666666667 2.0 1.0725462304409672 1406 1.0 3 4 14 89	ESP32 : Pin mux driver . Reported by Leandro Pereira : Pinmux must be supported in order to select I/O pin functions . ( Imported from Jira ZEP-2297 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.0 1.0 1.0909090909090908 22 1.0 12 13 14 76	Get SILABS board compliant with default configuration guidelines . Created from #7151 , dedicated to SILABS boards Following introduction of ' default board configuration guidelines ' ( #6858 ) , one part of the work is to move boards already ported to zephyr to conform with guidelines available here : < URL > < URL > could be used as reference for this update .	1	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1623697202413603 1823 1.0 65 71 76 167	[ Coverity CID : 210035 ] Dereference before null check in drivers/sensor/bq274xx/bq274xx . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : bq274xx_gauge_init . Component : Drivers CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.0 1.0 0.9 1.0 0.75 1.0 0.6666666666666666 1.0 1.0970790378006874 1164 1.0 2 2 40 138	Zephyr Project Documentation . Reported by Robert Beatty : As a user of Zephyr I would like to have clear and concise documentation so that I can understand how to use Zephyr . This EPIC is to bundle documentation-related stories not associated with any other epic . [ x ] GH-2801 : Kernel Primer improvements [ x ] GH-2792 : porting and user guides must include a security section [ x ] GH-2159 : document IRQ handling internals ( Imported from Jira ZEP-1925 )	1	2
0 0 0.4 0.0 0.4 0.0 0.7 0.5 0.3333333333333333 0.0 1.0817438692098094 1101 1.0 8 13 23 119	Improved Benchmarks . Reported by Robert Beatty : As a user of Zephyr I would like to have a Timing Memory Report for each OS release . ( Imported from Jira ZEP-1823 )  	0	1
0 0 1.2 2.0 0.8 0.0 0.85 0.5 0.6666666666666666 0.0 1.3333333333333333 3 2.0 6 11 30 91	usb : clock_control : Fix symbol when getting mgr for HFCLK . When getting a hfxo manager for USB sybsystem incorrect symbol was checked . This lead to always enabling HFCLK , even for nRF5340 which needs HFCLK192M . Signed-off-by : Emil Obalski < URL >	1	0
2 2 1.6 2.0 1.7 2.0 1.6 2.0 1.6666666666666667 2.0 1.0 6 1.0 1 11 29 89	net : ipv4 : udp : broadcast delivery not supported . Zephyr drops UDP packet with broadcast destination IP and unicast MAC . According to RFC 1122 4.1.1 this scenarion should be supported by UDP : ' ... to use communications services ( e.g. , multicast or broadcast delivery ) not available from TCP . ' < URL >	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.210178117048346 1965 1.0 23 28 41 82	[ Coverity CID : 215382 ] Operands don't affect result in tests/net/lib/dns_sd/src/main . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : create_query . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.4 1.0 1.5 1.5 1.1 1.0 1.3333333333333333 1.0 1.15 40 1.0 40 40 40 40	enable stack canaries on ARC so we can run test_stackprot . Reported by Hirally Santiago : Attempts to build nanokernel test_stackprot fail as stack canaries are not implemented on ARC architecture , nano_init . c does not build : : /projects/fc3/kernel/nanokernel/nano_init . c : 207:2 : error : #error ' Unknown Architecture type ' #error ' Unknown Architecture type ' ^ /projects/fc3/kernel/nanokernel/nano_init . c : In function ' _Cstart ' : /projects/fc3/kernel/nanokernel/nano_init . c : 214:20 : error : expected string literal before ' _MOVE_INSTR ' __asm__ volatile(_MOVE_INSTR ' %1 , %0 ; /n/t ' / ^ /projects/fc3/kernel/nanokernel/nano_init . c : 263:2 : note : in expansion of macro ' STACK_CANARY_INIT ' STACK_CANARY_INIT (); ^ make[4 ]: *** [ kernel/nanokernel/nano_init . o ] Error 1 . ( Imported from Jira ZEP-54 )	1	1
2 2 1.4 1.0 1.5 1.5 1.3 1.0 1.6666666666666667 2.0 0.9651898734177216 316 1.0 1 1 10 52	Wrong default value of CONFIG_ADC_QMSI_SAMPLE_WIDTH for x86 QMSI ADC . Reported by ethan gao : No extra value to CONFIG_ADC_QMSI_SAMPLE_WIDTH in x86 QMSI ADC application and keep it as default , and the application Kconfig is as follows : CONFIG_ENHANCED_SECURITY = n CONFIG_STDOUT_CONSOLE = y CONFIG_NANO_TIMEOUTS = y CONFIG_PRINTK = y CONFIG_ADC = y CONFIG_ADC_QMSI = y CONFIG_ADC_QMSI_INTERRUPT = y CONFIG_PINMUX = y CONFIG_PINMUX_DEV = y CONFIG_PINMUX_DEV_QMSI = y According to the following description in Kconfig underneath driver/adc : if ADC_QMSI config ADC_QMSI_SAMPLE_WIDTH int ' Sample Width ' default 3 help Defines ADC device data sample width ( resolution ): : - 0 = 6 bits resolution - 1 = 8 bits resolution - 2 = 10 bits resolution - 3 = 12 bits resolution . endif the default value should be 3 , however , it's 11 in the last . config in app outdir , it results in x86 ADC driver performs incorrectly with the default sample width . ( Imported from Jira ZEP-545 )	2	0
1 1 0.8 1.0 0.9 1.0 1.05 1.0 1.0 1.0 1.0704647676161918 1334 1.0 12 16 25 83	define set of architecture-specific memory protection APIs . Reported by Andrew Boie : There will necessarily be a bunch of architecture specific code to abstract away the details of whatever MMU or MPU is in use . Determine what these APIs need to be . The core kernel will call into these APIs to implement memory protection policy . These will be private APIs , only for use by the kernel to call into arch/ code . Depending on how this shapes up , it may be better to define different APIs depending on whether the system has an MPU or an MMU . ( Imported from Jira ZEP-2194 )	1	1
1 1 1.8 2.0 1.3 2.0 1.2 1.0 1.6666666666666667 2.0 0.0 0 0.0 4 25 32 97	SimpleLink does not compile ( simplelink_sockets . c ) . simplelink_sockets . c does not compile as it references the symbol ENSOCK that does not seem to be defined anywhere in the Zephyr sources : < URL > .. /simplelink/simplelink_sockets . c : 70:11 : error : ' ENSOCK ' undeclared ( first use in this function ); did you mean ' ENOTSOCK ' ? 70 | error = ENSOCK ; | ^ ~~~~~ | ENOTSOCK	2	0
2 2 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 2.0 0.0 1 0.0 0 10 28 88	i2c_burst_write on nrf51 is not a burst write . Based on bus snooping it appears that on nrf51_ble400 an i2c_burst_write produces two bus transactions : a write of the one byte address , followed by a write of the multi-byte value . On a CCS811 this produces an error due to a write to an invalid register ( as the multi-byte value did not start with a register ) . Packing the register address and data together with : i2c_write . produces the correct behavior .  	0	0
0 0 1.6 2.0 1.4 2.0 1.55 2.0 1.3333333333333333 2.0 2.0 1 2.0 8 13 24 201	USB broken on disco l475 iot board . Describe the bug Unable to init USB core To Reproduce Try any USB sample Expected behavior USB working Additional context Issue is caused by commit 737d8051927d3354fbf398babfe1d156f4420442	2	0
0 0 1.0 1.0 1.1 1.0 1.05 1.0 1.0 1.0 1.0158013544018059 443 1.0 17 21 24 67	IPv6 Addressing Architecture . Reported by Gajinder Vij : The Zephyr IP stack shall support IPv6 Addressing Architecture as specified in RFC 4291 ( Imported from Jira ZEP-804 )  	0	1
1 1 1.8 2.0 1.7 2.0 1.5 2.0 1.6666666666666667 2.0 1.0697836706210746 1433 1.0 10 15 16 83	Altera MAX10 Support . Reported by Robert Beatty : Zephyr shall support Alterra MAX10 . [ x ] GH-2072 : create abstraction layer to directly use Altera HAL drivers for Nios II IP blocks [ x ] GH-2011 : tcf : add support for running altera_max10 binaries [ ] GH-1821 : nios2 : research : scope support for External Interrupt Controller ( EIC ) ( Imported from Jira ZEP-2342 )	2	1
1 1 0.4 0.0 0.6 0.5 0.55 0.0 0.6666666666666666 1.0 1.068941504178273 1436 1.0 4 17 19 83	Coverity static scan issues seen . Reported by Shilpashree L C : As per the Coverity analyses on Jul 02 , 2017 , there was defects that was found in /samples/net/ and /samples/boards has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type|| ||Category|| ||File|| ||Function|| |170742| |Out-of-bounds access| |Memory - corruptions| |/samples/net/http_client/src/main . c| |do_async_reqs| |170743| |Out-of-bounds access| |Memory - corruptions| |/samples/net/http_client/src/main . c| |main| ( Imported from Jira ZEP-2345 )  	0	0
0 0 0.4 0.0 1.0 1.0 1.2 1.0 0.3333333333333333 0.0 0.0 0 0.0 0 0 7 78	STM32L4 I2C read polling hang on NACK in stm32_i2c_msg_read () . When trying to do an I2C read that is getting NACK'd in the address phase , : stm32_i2c_msg_read () . will spin forever because : RXNE . will never be set . This causes the innermost loop to spin forever . Similar to #8915 , #7626 and commit 81cfdec3a9df54b400368211c70a9a1494a8c3da , but this issue is in polling mode , not interrupt .	1	0
1 1 1.6 2.0 1.4 1.5 1.5 2.0 1.6666666666666667 2.0 1.0953846153846154 975 1.0 4 10 29 101	extend tests/kernel/arm_irq_vector_table to other platforms . Reported by Andrew Boie : This test is currently specific to ARM , but really is applicable to all architectures that use an array-type vector table for interrupts : ARM , ARC , and Xtensa . The test proves that it's possible for the end user to override the vector table with their own creation . Extend this test to those architectures as well . The only arch-specific code is to trigger the interrupt from software . Rename the test so it is not ARM-specific . ( Imported from Jira ZEP-1642 )	2	1
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.267605633802817 71 1.0 3 9 20 56	tests : drivers/i2s/i2s_api : Build failed on 96b_argonkey . Describe the bug Not much more info for now To Reproduce sanitycheck -- ninja -- warnings-as-errors -- runtime-artifact-cleanup -b -p 96b_argonkey -T tests/drivers/i2s Expected behavior A clear and concise description of what you expected to happen . Impact What impact does this issue have on your progress ( e.g. , annoyance , showstopper ) Screenshots or console output If applicable , add a screenshot ( drag-and-drop an image ) , or console logs ( cut-and-paste text and put a code fence (```) before and after , to help explain the issue . Environment ( please complete the following information ): - OS : ( e.g. Linux , MacOS , Windows ) - Toolchain ( e . g Zephyr SDK , ... ) - Commit SHA or Version used Additional context Add any other context about the problem here .	1	0
1 1 1.4 1.0 0.9 1.0 0.85 1.0 1.3333333333333333 1.0 1.0778164924506388 861 1.0 1 8 22 115	Support for NXP KW2xD MCU . Reported by Johann Fischer : Add support for the KW2xD Kinetis Wireless Radio MCU (-KW21D256- , KW22D512 , KW24D512 ) ( Imported from Jira ZEP-1471 )	1	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3703703703703705 135 1.0 20 24 27 58	[ Coverity CID : 190617]Control flow issues in /subsys/net/lib/lwm2m/lwm2m_rw_json . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_rw_json . c Category : Control flow issues Function : do_write_op_json Component : Networking CID : 190617 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.0 0.0 0.1 0.0 0.2 0.0 0.0 0.0 0.9041095890410958 146 1.0 15 16 31 145	Convert tests/benchmarks/footprints/src/workq . c to new kwork API . Convert tests/benchmarks/footprints/src/workq . c to use new kwork API . See the following issue for details : 33104  	0	0
2 2 1.6 2.0 1.6 2.0 1.55 2.0 2.0 2.0 0.9528301886792453 212 1.0 4 7 32 96	When building out of the tree , application object files are not placed into outdir . Reported by Anas Nashif : When building out of the tree , application object files are not placed into outdir . This is now the result of ' fixing ' GH-1664 which resolved some other more severe issues , however the main issue remains with building out of tree how to reproduce : : # source zephyr-env.sh # cp -a samples/hello_world/microkernel/ /tmp/hello_world # make -C /tmp/hello_world build build build ... # ls -la /tmp/hello_world/src/ total 28 drwxrwxr-x . 2 nashif nashif 160 May 28 11:44 . drwxrwxr-x . 4 nashif nashif 160 May 28 11:44 .. -rw-rw-r -- . 1 nashif nashif 2900 May 28 11:44 built-in . o -rw-rw-r -- . 1 nashif nashif 240 May 28 11:44 . built-in . o . cmd -rw-rw-r -- . 1 nashif nashif 840 May 28 09:25 main . c -rw-rw-r -- . 1 nashif nashif 2900 May 28 11:44 main . o -rw-rw-r -- . 1 nashif nashif 5716 May 28 11:44 . main . o . cmd -rw-rw-r -- . 1 nashif nashif 15 May 19 22:30 Makefile . ( Imported from Jira ZEP-369 )	2	0
0 0 1.2 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.9676470588235294 340 1.0 1 4 18 51	MQTT QoS publisher sample application . Reported by Flavio Santes : Create a publisher sample application that demonstrates how to use the MQTT QoS functionality in Zephyr . ( Imported from Jira ZEP-593 )  	0	1
0 0 0.4 0.0 0.7 1.0 0.95 1.0 0.3333333333333333 0.0 1.0935672514619883 1197 1.0 1 3 10 106	Move app_kernel benchmark to unified kernel . Reported by Anas Nashif : the app_kernel benchmark still using legacy APIs , move it to unified kernel ( Imported from Jira ZEP-1980 )  	0	0
1 1 0.8 1.0 0.8 1.0 0.9 1.0 1.3333333333333333 1.0 1.0185185185185186 432 1.0 6 10 13 56	TCP . Reported by Gajinder Vij : The Zephyr IP stack shall support TCP as specified in RFC 793 . Applications should be able to initiate a connection ( client role ) , or register to receive connection requests ( server role ) . ( Imported from Jira ZEP-791 )  	0	1
0 0 1.2 2.0 1.3 2.0 1.25 1.5 1.3333333333333333 2.0 1.4 5 2.0 2 6 77 115	kernel . common . stack_sentinel fails on qemu_cortex_a9 . Describe the bug The : main . branch is broken in CI currently < URL > To Reproduce : twister -i -p qemu_cortex_a9 -s tests/kernel/fatal/exception/kernel . common . stack_sentinel . Expected behavior All tests in CI should pass Impact This breaks CI on : qemu_cortex_a9 . . Logs and console output < URL > Environment ( please complete the following information ): - OS : CI - Toolchain : Zephyr SDK 0.13.1 - Commit : 3f9f299499b6cf98ae72f7ee2cd9a28100a72935 Additional context Looks to be traced back to PR #36983 cc @ibirnbaum  	0	0
0 0 1.4 2.0 1.5 2.0 1.65 2.0 1.3333333333333333 2.0 1.069295101553166 837 1.0 2 6 17 129	make menuconfig . config easily overwritten . Reported by David Brown : If I do something like : { code } $ make $ make menuconfig Change things $ touch prj . conf $ make { code } All of the changes I may have made with menuconfig are discarded . This is different and unexpected behavior coming from the kernel . Kernel behavior would be to not use the prj . conf if there is a . config existing . Probably a better fix for Zephyr would be to use mergeconfig to combine the new prj . conf with the changes the user added to . config . ( Imported from Jira ZEP-1430 )	2	2
1 1 1.0 1.0 1.1 1.0 1.25 1.0 1.0 1.0 1.125 32 1.0 10 10 14 55	[ Coverity CID : 178787 ] Null pointer dereferences in /subsys/net/ip/net_context . c . Static code scan issues seen in File : /subsys/net/ip/net_context . c Category : Null pointer dereferences Function : tcp_backlog_find Component : Networking CID : 178787 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 0.6 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 1.0845070422535212 1278 1.0 4 11 16 72	Common API for networked applications for setting up network . Reported by Jukka Rissanen : The network sample applications in samples/net/* do the network setup each a bit differently although most of them need similar kind of setup . This leads to overly complex setup in these applications and also can introduce bad habits to out-of-tree applications if they follow how the initialization/setup is done in those sample apps . Thus it is necessary to try to figure out a common API that both the network sample apps and out-of-tree apps can use to initialize and setup the networking in the target device . The initial target release for this work would be 1.9 . ( Imported from Jira ZEP-2115 )	1	1
1 1 1.2 1.0 1.6 2.0 1.5 2.0 1.0 1.0 1.3571428571428572 14 1.0 1 1 1 41	Cannot disable Kconfig options from cmake command line . Describe the bug When setting a boolean option to ' n ' as an argument when invoking cmake the option is lost , but setting them to ' y ' works as expected . So for ex . : : cmake .. /samples/hello_world/ -DBOARD = native_posix -GNinja -DCONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME = y . works as expected , while : cmake .. /samples/hello_world/ -DBOARD = native_posix -GNinja -DCONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME = n . will not dump the option in CMakeCache . txt , and when calling ninja , cmake will be rerun , and the . config file will be regenerated , forgetting the selection . To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake .. /samples/hello_world/ -DBOARD = native_posix -GNinja -DCONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME = n 3 . #At this point , zephyr/ . config contains ( as it should ) a : # CONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME is not set . But CMakeCache . txt does not contain a line like : CONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME : STRING = n . 4 . ninja 5 . #You can see that cmake is rerun : [ 0/1 ] Re-running CMake ... . , and zephyr/ . config now has that option set to yes . Expected behavior * in step 3 before CMakeCache . txt would contain a line like : CONFIG_NATIVE_POSIX_SLOWDOWN_TO_REAL_TIME : STRING = n . * after calling ninja in the steps before , cmake would not be rerun , and the . config file would not be regenerated like if that command line option was never provided . Impact Not possible to disable configuration options from the command line when invoking cmake . Environment ( please complete the following information ): - OS : Ubuntu 18.04 - 3980e0cf642cd1d31b56bc8e7c15a99592548fd1 ( master ) ( The feature was introduced in #8487 )	2	1
2 2 1.6 2.0 1.6 2.0 1.35 1.0 2.0 2.0 0.9611829944547134 541 1.0 27 49 59 140	Adapt kernel sample & test projects . Reported by Benjamin Walsh : Revises the sample projects and test projects maintained by Wind River to the unified kernel model . ( i.e. Eliminates references to ' microkernel ' and ' nanokernel ' concepts , and eliminates use of deprecated legacy APIs . ) Note : It may make sense to keep the original projects around for a while so that the legacy APIs continue to be tested . In this case , the existing projects would be cloned and then modified to adapt them to the new model . ( And in some cases , some test applications would be consolidated or eliminated ; for example , in cases where both a nanokernel and microkernel version exists only a single version would be required . ) DONE CRITERIA : The following projects have been revised : . all projects under tests/kernel all projects under tests/benchmark ( maybe ... ) samples/hello_world samples/philosophers ( Imported from Jira ZEP-932 )  	0	1
2 2 1.2 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 2.0 1.3918918918918919 74 2.0 8 15 39 97	outdated recommendations for SYS_CLOCK_TICKS_PER_SEC . The documentation for Kconfig : SYS_CLOCK_TICKS_PER_SEC . assumes that the system clock runs at 1 MHz ; other values will not produce the granularity described . The recommendation should also be more clear that the optimal value is one that when multiplied by a power of two produces the frequency ; otherwise the reference to bit-shifting is incorrect . The specified values are very wrong for Nordic , as they not only require division operations but also accumulate error in the uptime clock . The recommendations related to tickless may not be entirely accurate , and the suggestion of using 0 to disable timer support should be validated .	2	2
1 1 1.0 1.0 1.1 1.0 1.4 1.0 1.0 1.0 1.4564315352697095 241 1.0 13 22 30 68	[ Coverity CID : 205630]Memory - illegal accesses in /drivers/pwm/pwm_mchp_xec . c . Static code scan issues seen in File : /drivers/pwm/pwm_mchp_xec . c Category : Memory - illegal accesses Function : xec_compare_params Component : Drivers CID : 205630 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.2 1.0 1.2 1.0 1.45 2.0 1.3333333333333333 1.0 0.0 1 0.0 2 6 12 53	Update Zephyr Licensing page . This is missing several of the components in : ext/ . < URL >	1	2
2 2 1.4 1.0 1.5 1.5 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 3 4 13 46	i2c : i2c_nrfx_twim Power Consumption rises after I2C data transfer . Describe the bug We are using a nrf52832 based board . There are some I2C devices like tsm12 and eeprom . The power consumption is 200ua when the I2C buses of the nrf52832 is enabled , but without data transfering . But when data transfer throw the I2C bus , the power consumption of the board increased by about 400ua . The power consumption will never fall back again , even when the data transfering is over . What have you tried to diagnose or workaround this issue ? 1 . When the issue is taking place , i have tried to disconnect the physical connection of all the i2c devices included the tsm12 and the eeprom . But it is useless . So the increase of the power consumption issue is caused by the chip of nrf52832 . 2 . But the i2c driver of nrf52832 has disabled the i2c bus after data transfering by calling this function : ' nrfx_twim_disable(&get_dev_config(dev ) -> twim ); ' . So it seems that the power consumption issue is not caused by the i2c bus of the nrf52832 . 3 . Then i tried to disable all the interupts of the i2c bus of the nrf52832 . The issue does not take place . 4 . I tried to delete the calling of the function : k_sem_take(&(get_dev_data(dev ) -> completion_sync ) , I2C_TRANSFER_TIMEOUT_MSEC ) . The issue does not take place . 5 . So it seems that the interupts conflict with this function_sem_take . Maybe the interupts affect the power saving strategy of the kernel . To Reproduce Steps to reproduce the behavior : 1 . Find a nrf52 based board with some i2c devices 2 . run the sample 3 . Test the power cosumpertion 4 . A nrf52832 based board without a i2c device is also can be used to reproduce the issue . Becase the errors can also trigger an interupt .	2	0
1 1 1.8 2.0 1.8 2.0 1.8 2.0 1.6666666666666667 2.0 1.1903765690376569 1912 1.0 15 24 46 106	[ Coverity CID : 214209 ] Dereference after null check in subsys/mgmt/osdp/src/osdp . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : osdp_init . Component : Other CID : < URL > Details : : 180 /* configure uart device to 8N1 */ 181 p -> dev_config . baudrate = CONFIG_OSDP_UART_BAUD_RATE ; 182 p -> dev_config . data_bits = UART_CFG_DATA_BITS_8 ; 183 p -> dev_config . parity = UART_CFG_PARITY_NONE ; 184 p -> dev_config . stop_bits = UART_CFG_STOP_BITS_1 ; 185 p -> dev_config . flow_ctrl = UART_CFG_FLOW_CTRL_NONE ; >>> CID 214209 : Null pointer dereferences ( FORWARD_NULL ) >>> Passing null pointer ' p -> dev ' to ' uart_configure ' , which dereferences it . 186 uart_configure(p -> dev , & p -> dev_config ); 187 188 uart_irq_rx_disable(p -> dev ); 189 uart_irq_tx_disable(p -> dev ); 190 uart_irq_callback_user_data_set(p -> dev , osdp_uart_isr , p ); 191 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 2.0 2.0 1.9 2.0 1.95 2.0 2.0 2.0 1.194588969823101 1922 1.0 7 9 30 134	[ Coverity CID : 214280 ] Unintentional integer overflow in tests/posix/common/src/nanosleep . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : common . Component : Tests CID : < URL > Details : : 196 req . tv_nsec , ns ); 197 zassert_equal(rem . tv_sec , 0 , ' actual : %d expected : %d ' , 198 rem . tv_sec , 0 ); 199 zassert_equal(rem . tv_nsec , 0 , ' actual : %d expected : %d ' , 200 rem . tv_nsec , 0 ); 201 >>> CID 214280 : Integer handling issues ( OVERFLOW_BEFORE_WIDEN ) >>> Potentially overflowing expression ' s * 1000000000U ' with type ' unsigned int ' ( 32 bits , unsigned ) is evaluated using 32-bit arithmetic , and then used in a context that expects an expression of type ' uint64_t ' ( 64 bits , unsigned ) . 202 uint64_t exp_ns = s * NSEC_PER_SEC + ns ; 203 uint64_t tolerance_ns = MAX(NSEC_PER_CYCLE , 204 ( TOLERANCE_PPC * exp_ns ) / 100U ); 205 uint64_t tck_ns = k_cyc_to_ns_ceil64((now = = then ) 206 ? 1U 207 : ( now - then )); . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.2 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 1.0296096904441454 743 1.0 2 8 17 123	Add DTS/DTB targets to build infrastructure . Reported by Andy Gross : The Makefile and Kbuild infrastructure will require changes to support the DTS/DTB . The DTS/DTB targets should handle checking for changes to keep from unnecessary re-building . Because the generated build information must be used in the offsets file , the most likely destination for the changes will be in the master Kbuild file . ( Imported from Jira ZEP-1305 )	1	1
2 2 2.0 2.0 2.0 2.0 1.8 2.0 2.0 2.0 1.0974137931034482 1160 1.0 24 36 47 162	Missing board documentation for arm/stm32373c_eval . Reported by David Kinder : Board documentation is expected for all supported boards found in the /boards folders ( Imported from Jira ZEP-1917 )	2	2
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 0.9428571428571428 140 1.0 9 10 25 139	Convert samples/drivers/led_sx1509b_intensity to new kwork API . Convert samples/drivers/led_sx1509b_intensity/src/main . c to use new kwork API . See the following issue for details : 33104  	0	0
0 0 1.2 2.0 1.0 1.0 0.9 0.5 0.6666666666666666 0.0 1.0111358574610245 449 1.0 23 27 30 73	Network Time Protocol v4 . Reported by Gajinder Vij : The Zephyr IP stack shall support Network Time Protocol v4 as specified in RFC 5905 ( Imported from Jira ZEP-810 )	1	1
1 1 1.4 2.0 0.9 0.5 0.95 1.0 1.0 1.0 1.0918032786885246 915 1.0 3 10 27 77	RISC V Port . Reported by Anas Nashif : Add support for RISC V architecture and integrate support for Qemu and other boards using this architecture ; - Qemu Board - Pulpino Board ( Imported from Jira ZEP-1557 )	1	1
1 1 1.2 1.0 1.2 1.0 1.4 1.0 1.0 1.0 1.4523809523809523 42 1.0 1 3 7 57	mimxrt1050_evk : tests/drivers/kscan/kscan_api failed . . To Reproduce Steps to reproduce the behavior : 1 . west build -b mimxrt1050_evk -p auto tests/drivers/kscan/kscan_api 2 . west flash 3 . See error Screenshots or console output E : Could not enable Booting Zephyr OS build zephyr-v 2.2.0 -1974-g4d7d3a25c127 Running test suite kscan_basic_test starting test - test_init_callback Cannot get KBSCAN device Assertion failed at WES T_T OPDIR/zephyr/tests/drivers/kscan/kscan_api/src/test_kscan . c : 87 : test_init_callback : test_kb_callback () = = TC_PASS is false FAIL - test_init_callback starting test - test_control_callback Cannot get KBSCAN device Assertion failed at WES T_T OPDIR/zephyr/tests/drivers/kscan/kscan_api/src/test_kscan . c : 97 : test_control_callback : test_disable_enable_callback () = = TC_PASS is false FAIL - test_control_callback Test suite kscan_basic_test failed . PROJECT EXECUTION FAILED Environment ( please complete the following information ): - OS : fedora28 - Toolchain : zephyr-sdk- 0.11.2 - Commit ID : 4d7d3a25c1	2	0
1 1 1.4 1.0 1.2 1.0 1.3 1.0 1.3333333333333333 1.0 0.0 0 0.0 12 14 86 139	bt_gatt_discover () retunrs incorrect handle ( offset by -1 ) . Describe the bug I am build a BLE central which scans for a custom BLE peripheral with it's own custom services and characteristics . The central scans for peripherals , scans their services and return their characterstic handles . The identification is done with 128bit UUIDs . bt_gatt_discover () returns the handle which are offset by -1 . E.g. The characteristic has the handle 0x20 but the returned handle is 0x19 . To Reproduce Steps to reproduce the behavior : 1 . Modify a central sample ( e.g. Central-HR ) with custom UUIDs instead of Hearttrate service . 2 . Observe console output of returned attribute handles in discover_func () , 3 . Compare with the actual handle ( e.g. using nRF Connect Desktop ) . Expected behavior bt_gatt_discover () returns the correct handle . Impact Potential showstopper , costed me a day of work debugging this . Logs and console output Add any other context about the problem here .	2	0
2 2 1.6 2.0 1.5 2.0 1.5 2.0 2.0 2.0 1.3333333333333333 6 1.0 3 7 9 56	SWO log backend clock frequency is off on some CPUs . When setting up SWO , : log_backend_swo . c . assumes that the trace port frequency is the same as the CPU clock frequency : < URL > This isn't true for devices like nRF52 , where CPU frequency is 64 MHz and the trace port frequency is set through : NRF_CLOCK -> TRACECONFIG . as 32 MHz , 16 MHz , 8 MHz , or 4 MHz . As a workaround , I need to double : CONFIG_LOG_BACKEND_SWO_FREQ_HZ . so that the real frequency matches what I want .	2	0
2 2 1.6 2.0 1.3 1.5 1.1 1.0 1.6666666666666667 2.0 0.9626436781609196 348 1.0 5 9 18 59	enable CONFIG_DEBUG_INFO . Reported by Andrew Boie : CONFIG_DEBUG_INFO is disabled for IAMCU targets , presumably due to the forked arch/ code . Now that the forked arch/ code is gone , get this working . ( Imported from Jira ZEP-601 )	2	0
2 2 1.2 2.0 1.2 1.5 1.2 1.0 0.6666666666666666 0.0 1.7142857142857142 7 2.0 1 6 9 22	Move SoC definition structure to root directory ( alongside boards ) . Move SoC definition from under : arch/ < arch > /soc . to : soc/ < arch >/< soc > . and follow the same structure as the boards . Reasoning : - SoCs are buried very deep under arch , not immediately visible - This will allow us to define the kernel+arch interface boundaries in easier terms , i.e. someone might choose to use the kernel + arch support only and maintain their own SoC without pulling everything else in Zephyr - creates boundaries between officially supported kernel code and contributed SoCs that might not be fully supported and not ' certifiable '  	0	1
2 2 1.6 2.0 1.6 2.0 1.4 2.0 1.6666666666666667 2.0 0.7142857142857143 7 0.0 7 9 18 50	Revert ' scripts : west build : default build . pristine to auto ' . This reverts commit c505ca38cff9c492f09c4cce196a572599c4cc81 . Fixes : #31358 Signed-off-by : Mart Bolvar < URL >  	0	0
1 1 1.2 1.0 1.4 2.0 1.25 1.5 0.6666666666666666 1.0 1.1923076923076923 78 1.0 71 82 99 208	x86 memory domain configuration not always applied correctly on context switch when partitions are added . Scenario : Supervisor thread X modifies the memory domain that it belongs to with k_mem_domain_add_partition () , to add access to region A Context switches to User thread Y which belongs to the same domain as thread X Thread Y attempts to access region A and faults Unlike k_mem_domain_remove_partition () , which invokes _arch_mem_domain_partition_remove () if the caller is in the same domain being worked on , k_mem_domain_add_partition () does not call into arch code at all when partitions are added , and there isn't an arch-level API for this even if we wanted to . x86 doesn't touch the page tables on context switch if the incoming and outgoing threads are in the same memory domain . This does not seem to be a problem on ARM or ARC .  	0	0
1 1 0.8 1.0 1.2 1.5 1.25 1.5 0.6666666666666666 1.0 1.5 2 1.5 4 9 18 206	Kernel Shared Memory . Is your enhancement proposal related to a problem ? Please describe . I would like to share memory from the kernel to user mode threads without copying , its clear from #17194 and my own PR #17434 both need shared memory to perform well . Describe the solution you'd like For my own PR #17434 it is ok if a supervisor thread sets up the shared memory space first before giving it to a user mode thread . Describe alternatives you've considered I've considered simply not supporting usermode . I have also looked at the memory domain API as a possible way to create shared memory , it seems plausible . Looking at some comments made by @andrewboie regarding memory domains the limited number of them currently available might not allow using it for this purpose , if there were an unlimited number then it would be ok .	2	1
2 2 1.0 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 2.0 0.9725274725274725 182 1.0 2 9 14 73	TCP Client/Server Implementation . Reported by Gajinder Vij : As a developer , I want a TCP library so that I can create TCP Client connections to remote servers to transfer locally sourced sensor data to the server to be aggregated and analyzed in support of my business . I may also use the connection to the server to configure other application components I may have in my product . As an example , I want to create a HTTP connection to a web server and use GET and POST to interact with the web server . As another example , I wish to use the MQTT protocol CONNECT and DISCONNECT APIs in communication with an MQTT broker . I may wish to create multiple connections at one time over a single bearer . If multiple bearers are available , I may decide to open independent connections on each bearer . Also , as a developer , I want a TCP library that will allow me to create TCP Server connections on my device so that I can process data received from other TCP clients . As an example , I may decide to host a small HTTP server on my device to accept incoming connection requests and respond accordingly . The TCP Library API should be bearer independent . ( Imported from Jira ZEP-309 )  	0	1
2 2 1.6 2.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 1.4 10 1.5 0 4 13 75	samples : cmsis_rtos_v1/philosophers faults with a FATAL EXCEPTION on esp32 . Describe the bug The test in samples/portability/cmsis_rtos_v1/philosophers runs into a FATAL EXCEPTION on esp32 platforms . To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = esp32 3 . make 4 . See error Screenshots or console output ``` * Booting Zephyr OS zephyr-v 1.13.0 -2782-g07eb5d1eaa ( delayed boot 1000ms ) *** [ 2J[15 ; 1HDemo Description An implementation of a solution to the Dining Philosophers problem ( a classic multi-thread synchronization problem ) using CMSIS RTOS V1 APIs . This particular implementation demonstrates the usage of multiple preemptible threads of differing priorities , as well as semaphores and thread sleeping . [ 6 ; 1HPhilosopher 5 [ P : 3 ] STARVING [ 6 ; 1HPhilosopher 5 [ P : 3 ] HOLDING ONE FORK FATAL EXCEPTION CPU 0 EXCCAUSE 28 PS 0x00060920 PC 0x40082e1b VADDR 0x00000064 A0 0x80080f9a SP 0x3ffb4060 A2 0x3ffb1e54 A3 0x00000006 A4 0x00000001 A5 0x00000000 A6 0x00000003 A7 0x00000000 ** A8 0x3ff ``` Environment ( please complete the following information ): - OS : Linux - Toolchain : Zephyr SDK 0.9.5	2	0
2 2 1.8 2.0 1.4 1.5 1.5 2.0 1.6666666666666667 2.0 0.0 0 0.0 5 7 15 134	Update getting started docs to reflect gdb python requirements . Describe the bug west debug fails with error : /home/user/zephyr-sdk- 0.12.4 /arm-zephyr-eabi/bin/arm-zephyr-eabi-gdb : error while loading shared libraries : libpython 3.8 . so . 1.0 : cannot open shared object file : No such file or directory FATAL ERROR : command exited with status 127 : /home/user/zephyr-sdk- 0.12.4 /arm-zephyr-eabi/bin/arm-zephyr-eabi-gdb /home/user/app/build/zephyr/zephyr . elf -ex ' target remote : 2331 ' -ex ' monitor halt ' -ex ' monitor reset ' -ex load . I followed the getting started guide and the application development steps to create a very simple hello world program outside of the zephyr base directory . It compiles and flashes fine however when trying to get debug functioning I get the above error . I am using a jlink and mimxrt1060_evk . Based on some stack exchange posts of other people missing that library I installed libpython 3.8 -dev and that solved the problem . Perhaps this should be added to the list of dependencies ? Or did I miss something in the documentation ? To Reproduce Steps to reproduce the behavior : 1 . west build 2 . west flash 3 . west debug Expected behavior GDB starts with no errors Environment ( please complete the following information ): - OS : Linux Ubuntu 18.04 - Toolchain : Zephyr SDK , West	2	2
1 1 1.2 1.0 1.1 1.0 1.3 1.0 1.3333333333333333 1.0 1.0 1 1.0 2 2 8 70	Kconfig . defconfig is undocumented and unclear . : Kconfig . defconfig . files were mysterious to me , meaning they're probably super mysterious to people who are less used to Kconfig . They ought to be documented , both to make the design clearer , and to prevent people from putting stuff in random places . The prefer-later-defaults behavior ( see < URL > could be documented at the same time . Here's an overview of what I think the thinking behind those files is , taken from < URL > Boards have some fixed setting/symbol X . If a user picks a particular board , they shouldn't be able to change X in e.g. : menuconfig . , so X has no : prompt . . Since X has no prompt , it can't be assigned its board-specific value via a : . config . ( : *_defconfig . in this case ) file . X still needs to get its board-specific value somehow though , and that's what those : Kconfig . defconfig . files are for . You could have a single symbol definition with all the : default . s too , but it would get spammy .	1	2
1 1 0.8 1.0 0.9 1.0 0.95 1.0 0.6666666666666666 1.0 0.959409594095941 542 1.0 28 50 60 141	Kernel logger support ( validation ) . Reported by Benjamin Walsh : Validate kernel logger still works . ( Imported from Jira ZEP-935 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.0 1.0 0.6666666666666666 1.0 1.0955414012738853 942 1.0 5 9 20 77	/scripts/sysgen should create output using SPDX licensing tag . Reported by David Kinder : Per GH-2929 , we're to use an SPDX licensing tag for Apache 2.0 licensing , so the /scripts/sysgen python script should create its files with the ' SPDX-License-Identifier : Apache- 2.0 ' tag rather then the Apache 2.0 boilerplate comment header . ( Imported from Jira ZEP-1593 )	2	0
2 2 2.0 2.0 1.8 2.0 1.45 2.0 2.0 2.0 1.006269592476489 638 1.0 6 9 23 69	Samples/drivers/dma fail in Quark SE C1000 . Reported by cai xiaox : Configuration < Arch > x86 Bug detailed description ' make BOARD = quark_se_c1000_devboard flash ' to flash success . but the serial print ' Error : configuration ' Steps to Reproduce 1 . open minicom 2.cd samples/drivers/dma 3 . make BOARD = quark_se_c1000_devboard flash Expected Result No Warning is threw out . Actual Result on the minicom print { code } DMA memory to memory transfer started on DMA_0 Preparing DMA Controller Error : configuration { code } ( Imported from Jira ZEP-1128 )	2	0
2 2 2.0 2.0 1.9 2.0 1.9 2.0 2.0 2.0 1.1325369738339022 1758 1.0 4 4 9 65	[ Coverity CID : 209382 ] Pointless string comparison in tests/lib/devicetree/src/main . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : test_chosen . Component : Tests CID : < URL > Details : : 1058 } 1059 1060 static void test_chosen(void ) 1061 { 1062 zassert_equal(DT_HAS_CHOSEN(ztest_xxxx ) , 0 , ' ztest_xxxx ' ) ; 1063 zassert_equal(DT_HAS_CHOSEN(ztest_gpio ) , 1 , ' ztest_gpio ' ) ; >>> CID 209382 : Incorrect expression ( CONSTANT_EXPRESSION_RESULT ) >>> ' strcmp('DT_N_S_test_S_gpio_deadbeef ' , ' DT_N_S_test_S_gpio_deadbeef ' )' is always 0 because ' DT_N_S_test_S_gpio_deadbeef ' is compared against itself . 1064 zasser t_t rue ( ! strcmp(TO_STRING(DT_CHOSEN(ztest_gpio )) , 1065 ' DT_N_S_test_S_gpio_deadbeef ' ) , 1066 ' chosen ' ) ; 1067 } 1068 1069 static void test_enums(void ) . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.0666666666666667 15 1.0 1 3 18 110	Kernel memdomain fixes . First commit is a bug fix , IMHO ; it is about the end-boundaries of the partitions The second commit is an acceleration of the sanity check for the added partitions , so the one-t o-o ne partition checking is not performed twice , and added partitions are not sanity-checked against themselves	1	0
0 0 0.2 0.0 0.1 0.0 0.4 0.0 0.0 0.0 0.9561752988047809 251 1.0 0 2 10 81	Add driver API reentrancy support to PWM shim driver . Reported by Kuo-Lang Tseng : Global data and device IO registers being set by the driver API can be messed up in the middle of the API call when a concurrent call ( from other fiber/task ) to the same API is made . ( Imported from Jira ZEP-430 )	1	1
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.467741935483871 124 2.0 7 15 27 82	[ Coverity CID : 203497]Memory - corruptions in /drivers/espi/espi_mchp_xec . c . Static code scan issues seen in File : /drivers/espi/espi_mchp_xec . c Category : Memory - corruptions Function : espi_xec_send_vwire Component : Drivers CID : 203497 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 0.4 0.0 1.1 1.0 0.95 1.0 0.6666666666666666 1.0 1.0066371681415929 452 1.0 26 30 33 76	RPL : IPv6 Routing Protocol . Reported by Gajinder Vij : The Zephyr IP stack shall support RPL : IPv6 Routing Protocol as specified in RFC 6550 ( Imported from Jira ZEP-813 )  	0	1
2 2 1.0 1.0 0.9 1.0 0.95 1.0 1.0 1.0 1.5238095238095237 42 2.0 13 19 42 271	[ Coverity CID : 197464]Memory - corruptions in /subsys/bluetooth/host/gatt . c . Static code scan issues seen in File : /subsys/bluetooth/host/gatt . c Category : Memory - corruptions Function : bt_gatt_discover Component : Bluetooth CID : 197464 Please fix or provide comments to square it off in coverity in the link : < URL >  	0	0
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 1.4157303370786516 89 1.0 22 22 32 86	[ Coverity CID : 188733]Error handling issues in /drivers/sensor/lis2dh/lis2dh_trigger . c . Static code scan issues seen in File : /drivers/sensor/lis2dh/lis2dh_trigger . c Category : Error handling issues Function : lis2dh_thread_cb Component : Drivers CID : 188733 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.4 1.5 1.35 1.0 1.3333333333333333 1.0 0.9604863221884499 329 1.0 7 7 10 57	Ethernet/IPv4/UDP : ip_buf_appdatalen returns wrong values . Reported by Flavio Santes : Use case : In order to ' activate ' the IP stack in TCP client mode , something must be sent by using the net_send function . In TCP mode , sending ' 0 ' bytes works . However , in UDP client mode sending ' 0 ' bytes breaks internally something in the IP stack , so this error appears . In UDP client mode , with the described conditions , after sending 0 bytes and receiving some data from the server , ip_buf_appdatalen returns wrong values . Justification : For some IoT protocols the client must wait until the server sends some data . If the client sends something before the server , the server closes the connection . The described scenario only applies to TCP but in the netz API we were trying to reuse our code-base . So , by doing that , this issue was discovered . Main concern here is related to validations inside the UDP code that may alter the stack behavior . Final remarks : Priority or even issue type may be changed if it is considered that this report is out of scope for 1.5 . ( Imported from Jira ZEP-575 )  	0	0
1 1 1.4 1.0 1.6 2.0 1.6 2.0 1.3333333333333333 1.0 1.6666666666666667 9 2.0 5 16 53 225	ieee802154 : Configuration for CC2520 is not working . When enabling CC2520 configuration I have error in : cc2520_init () . function net/sockets/echo_server + : -DOVERLAY_CONFIG = overlay-cc2520 . conf . : [ 00:00:00 . 000,000 ] < dbg > ieee802154_cc2520 . configure_spi : SPI GPIO CS configured on GPIO_ 0:11 [ 00:00:00 . 010,000 ] < dbg > ieee802154_cc2520 . cc2520_init : GPIO and SPI configured [ 00:00:00 . 030,000 ] < err > ieee802154_cc2520 : Configuring CC2520 failed . wpanusb + : -DOVERLAY_CONFIG = overlay-cc2520 . conf . : [ 00:00:00 . 000,000 ] < dbg > ieee802154_cc2520 . configure_spi : SPI GPIO CS configured on GPIO_ 0:11 [ 00:00:00 . 000,000 ] < dbg > ieee802154_cc2520 . cc2520_init : GPIO and SPI configured [ 00:00:00 . 010,000 ] < err > ieee802154_cc2520 : Configuring CC2520 failed [ 00:00:00 . 020,000 ] < inf > wpanusb : Starting wpanusb [ 00:00:00 . 020,000 ] < err > wpanusb : Cannot get IEEE 802.15.4 device .	2	0
1 1 1.2 1.0 0.9 1.0 1.15 1.0 1.0 1.0 0.0 0 0.0 1 3 21 56	HCI-UART : Bluetooth ACL data packets with 251 bytes not acknowledged . Describe the bug I'm using the Zephyr HCI UART sample on an PCA10040 board as a HCI controller . As HCI host I've written an application on Windows that communicates over the HCI UART with the PCA10040 board and acts as a BLE host . When a BLE peripehral is connected and data length extentions are activated ( MTU => 251 bytes ) sent ACL data packets with size of 251 bytes are not confirmed . If only 250 bytes are sent the confirmation is received by getting an HCI event ' Number Of Completed Packets Event ' . To Reproduce Steps to reproduce the behavior : 1 . Modify the configuration for the HCI UART sample with the following values : BT_RX_BUF_LEN = 260 BT_CTLR_TX_BUFFER_SIZE = 251 BT_CTLR_DATA_LENGTH_MAX = 251 Screenshot of the configuration and a . config file is attached . < URL > Create Bluetooth Low Energy connection to a peripheral with DLE support for 251 bytes . Trigger data length update to enhance the MTU to 251 bytes . Send ACL data with a length of 250 bytes ( e.g. an ATT write command with 243bytes data . The sent ACL data is confirmed by a ' Number Of Completed Packets Event ' HCI event . Send ACL data with a length of 251 bytes ( e.g. an ATT write command with 244bytes data . The sent ACL data is NOT confirmed by a ' Number Of Completed Packets Event ' HCI event . Expected behavior It is expected that the HCI UART device sends back an ' Number Of Completed Packets Event ' HCI event after sending the data to the peer device . Environment : - OS : Windows - Toolchain : Zephyr SDK - Commit : d24e5e520c0649b1902c86ec6415384149776085	1	0
1 1 0.6 1.0 0.7 1.0 0.65 1.0 0.3333333333333333 0.0 1.0818767249310028 1087 1.0 0 4 27 108	Update external mbed TLS library to latest version ( 2.4.2 ) . Reported by Marcus Shawcroft : Update external mbed TLS library to latest version ( 2.4.2 ) ( Imported from Jira ZEP-1800 )  	0	1
2 2 2.0 2.0 2.0 2.0 1.65 2.0 2.0 2.0 1.358695652173913 184 1.0 46 59 79 185	[ Coverity CID : 190946]Null pointer dereferences in /tests/net/utils/src/main . c . Static code scan issues seen in File : /tests/net/utils/src/main . c Category : Null pointer dereferences Function : test_utils Component : Tests CID : 190946 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0205580029368575 681 1.0 9 20 28 87	Create test for Memory slabs kernel object using native unified kernel API . Reported by Anas Nashif : Verify memory slabs object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . The new test should utilise the ztest framework . ( Imported from Jira ZEP-1209 )  	0	1
1 1 1.0 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.4461538461538461 130 1.5 13 21 33 88	[ Coverity CID : 203434]Control flow issues in /drivers/timer/xlnx_psttc_timer . c . Static code scan issues seen in File : /drivers/timer/xlnx_psttc_timer . c Category : Control flow issues Function : xttc_calculate_interval Component : Drivers CID : 203434 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.2 1.0 1.4 1.5 1.15 1.0 1.0 1.0 1.0946236559139786 930 1.0 7 18 36 80	Simple Network Time Protocol support . Reported by Andrei Laperie : Zephyr should have SNTPv4 supported as specified RFC4330 in < URL > ( Imported from Jira ZEP-1576 )	1	1
2 2 1.2 1.0 1.2 1.0 1.0 1.0 1.0 1.0 1.5 4 2.0 3 38 51 128	arch : arm : fix fault status register bitfield masks . This commit fixes the bitfield masks for the Cortex-M fault status registers . Signed-off-by : Ioannis Glaropoulos < URL >  	0	0
1 1 0.6 1.0 0.7 1.0 0.9 1.0 1.0 1.0 1.073846153846154 1300 1.0 2 15 17 70	Move all X86 boards and related SoCs to device tree . Reported by Anas Nashif : Move all X86 boards and any related SoCs and configuration to use Device tree the same way we have them now for all ARM boards . [ ] GH-3704 : Move all X86 boards to device tree [ x ] GH-3590 : Move Quark D2000 to device tree [ x ] GH-3589 : Move Arduino 101 to Device Tree ( Imported from Jira ZEP-2149 )  	0	1
2 2 1.2 1.0 1.5 2.0 1.45 1.5 1.0 1.0 0.0 0 0.0 2 6 13 132	drivers : can : CAN configure fails when CONFIG_CAN_FD_MODE is enabled . The can_configure API fails when CONFIG_CAN_FD_MODE is enabled . Below API passes the speed for the FD mode as 0 which returns an ERROR computed by can_set_bitrate and can_calc_timing_data : static inline int can_configure(const struct device * dev , enum can_mode mode , uint32_t bitrate ) { if ( bitrate > 0 ) { int err = can_set_bitrate(dev , bitrate , 0 ); if ( err ! = 0 ) { return err ; } } return can_set_mode(dev , mode ); } . To Reproduce Always reproducible Expected behavior API should add a provision for specifying the FAST bit rate or possibly use the ARBITRATION bit rate for DATA phase(if API changes is not possible ) Impact can_configure API cannot be used if CONFIG_CAN_FD_MODE mode is enabled .	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2458937198067632 2070 1.0 19 85 93 157	[ Coverity CID : 219647 ] Untrusted value as argument in samples/net/sockets/coap_server/src/coap-server . c . Static code scan issues found in file : < URL > Category : Insecure data handling Function : : test_put . Component : Samples CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 2.0 2.0 1.8 2.0 1.8 2.0 2.0 2.0 1.2973558734286952 2307 1.0 6 9 15 67	[ Coverity CID : 238382 ] Dereference before null check in subsys/bluetooth/mesh/cfg_cli . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : lpn_timeout_status . Component : Bluetooth CID : < URL > Details : < URL > : 862 polltimeout = net_buf_simple_pull_le24(buf ); 863 864 if ( param -> unicast_addr ! = unicast_addr ) { 865 return -ENOENT ; 866 } 867 868 if ( param && param -> polltimeout ) { 869 * param -> polltimeout = polltimeout ; 870 } 871 872 bt_mesh_msg_ack_ctx_rx(&cli -> ack_ctx ); 873 . For more information about the violation , check the < URL > . ( < URL > ) Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.0 1.0 0.6 0.5 0.5 0.0 0.6666666666666666 1.0 1.0850467289719625 1070 1.0 9 10 33 105	re-introduce controller to host flow control . Reported by Szymon Janc : It turned out that we need to re-introduce controller to host flow control to avoid deadlock on bursts of incoming ACL data . ( Imported from Jira ZEP-1772 )	1	1
2 2 1.8 2.0 1.8 2.0 1.7 2.0 1.6666666666666667 2.0 1.6 10 2.0 4 9 22 170	ISO broadcast cannot send with callback if CONFIG_BT_CONN = n . Describe the bug < URL > introduced a bug for ISO broadcast if CONFIG_BT_CONN = n . If CONFIG_BT_CONN = n then the : free_tx . FIFO is never intiialized , causes the FIFO to be empty and thus no able to use the : bt_conn_send_cb . function that : bt_iso_chan_send . now relies on . Update : It seems that TX still works , but the callback is missing . To Reproduce Steps to reproduce the behavior : Build and run : samples/bluetooth/iso_broadcast/ . and see the : < err > bt_conn . bt_conn_send_cb : Unable to allocate TX context . error Expected behavior Expect broadcast ISO to be fully independent on CONFIG_BT_CONN . Impact Showstopper for specific builds . Increased memory usage as a work around . Logs and console output N/A Environment ( please complete the following information ): - Commit SHA or Version used : cd5357ca56c2629b957a3a79a3dd71fe528e2626 Additional context Add any other context about the problem here .	2	0
0 0 1.0 1.0 0.6 0.0 0.5 0.0 0.6666666666666666 0.0 1.0782945736434109 1290 1.0 5 7 16 69	Static code scan ( coverity ) issues seen . Reported by Shilpashree L C : As per the Coverity last analyses on April 18 , 2017 , there were potential defects that were found in /drivers/spi/ file has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type|| ||Category|| ||File|| ||Function|| |160954| |Division or modulo by zero| |Integer handling issues| |/drivers/spi/spi_mcux_dspi . c| |spi_mcux_configure| ( Imported from Jira ZEP-2135 )  	0	0
1 1 0.8 1.0 0.6 1.0 0.7 1.0 0.6666666666666666 1.0 0.9609665427509294 538 1.0 24 46 56 137	Verify the preemp t-t hread-only and coop-thread-only configurations . Reported by Benjamin Walsh : Mostly an audit and testing exercise . We expect a user to be able to configure the system with only preempt threads ( tasks ) or only coop threads ( fibers ) . In the second case , the scheduler , especially the interrupt exit code should never have to even check if it has to do a context switch . [ Ben : there's probably a bit more work than just testing involved here , like completely disabling the preemptive scheduler when there are only coop threads ] ( Imported from Jira ZEP-929 )	1	1
1 1 1.8 2.0 1.5 2.0 1.65 2.0 1.6666666666666667 2.0 1.2966101694915255 118 1.0 3 8 27 182	nucleo_wb55rg : Flash space left to M0 binary is not sufficient anymore . Describe the bug Since V 1.11.0 version of Cube package , Full stack M0 BLE f/w ( stm32wb5x_BLE_Stack_full_fw . bin ) should be installed at location 0x080CA000 ( vs 0x080CB000 previously ) . As a consequence , board flash partition should be updated to take this into account . If not done , a bus fault happens when running BLE sample that involves flash access ( where the conflict happens ) . To Reproduce 0- Update M0 binary using latest version provided by Cube ( BLE_Stack_full_fw , version => v 1.11.0 ) 1- west build -b nucleo_wb55rg samples/bluetooth/peripheral 2- west flash Expected behavior Zephyr BLE application should be compatible with latest vesrion of M0 binaries provided by Cube package Impact Prevents use of latest Cube package M0 binaries Logs and console output : [ 00:00:00 . 133,000 ] < err > os : ***** BUS FAULT ***** [ 00:00:00 . 133,000 ] < err > os : Precise data bus error [ 00:00:00 . 133,000 ] < err > os : BFAR Address : 0x80caff8 [ 00:00:00 . 133,000 ] < err > os : r0/a1 : 0x20002a48 r1/a2 : 0x080caff8 r2/a3 : 0x080cb000 [ 00:00:00 . 133,000 ] < err > os : r3/a4 : 0x20002a47 r12/ip : 0x00000001 r14/lr : 0x0800cc13 [ 00:00:00 . 133,000 ] < err > os : xpsr : 0x81000000 [ 00:00:00 . 133,000 ] < err > os : Faulting instruction address ( r15/pc ): 0x0801150e [ 00:00:00 . 133,000 ] < err > os : >>> ZEPHYR FATAL ERROR 0 : CPU exception on CPU 0 [ 00:00:00 . 133,000 ] < err > os : Current thread : 0x20001100 ( unknown ) [ 00:00:00 . 195,000 ] < err > os : Halting system .	1	0
2 2 1.6 2.0 1.8 2.0 1.7 2.0 1.6666666666666667 2.0 1.7916666666666667 24 2.0 8 19 26 125	iotdk : running tests/kernel/mem_pool/ failed sometimes for v 1.14 -branch . To Reproduce I used a script to run this case a lot of times(total : 20 , failed : 4 ) on github 1.14 branch , it is reproduced . Steps to reproduce the behavior : export ZEPHYR_SDK_INSTALL_DIR =~/ zephyr-sdk- 0.10.3 sanitycheck -p iotdk -- device-testing -- device-serial /dev/ttyUSB0 -T tests/kernel/mem_pool/mem_pool_api/ see error Booting Zephyr OS zephyr-v 1.14.2 -intel-rc3-ww 02.2 * Running test suite mpool_api = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_mpool_alloc_free_thread Exception vector : 0x6 , cause code : 0x2 , parameter 0x4 Address 0x644 Current thread ID = 0x8000047c Faulting instruction address = 0x20000bd8 Fatal fault in thread 0x8000047c ! Aborting . Environment OS : Fedora33 Toolchain : zephyr-sdk- 0.10.3 Commit ID : a980762f70d704	2	0
1 1 1.2 1.0 1.1 1.0 1.4 1.5 1.3333333333333333 1.0 1.0921696574225122 1226 1.0 2 10 16 64	A101 can't use BMI160 sensor and GPIO input at the same time . Reported by Brian Jones : If you are using GPIO input in a program on the x86 side of an Arduino101 , and the BMI160 sensor on the arc side , the GPIO input will fail . To reproduce : Add ' CONFIG_ARC_INIT = y ' to the samples/drivers/gpio sample , and make BOARD = arduino_101 . Flash it to the board . Build samples/sensor/bmi160 and flash it to the arc . Now in your output you'll see the BMI160 data and ' Toggling GPIO_16 ' . But if you press the button wired to IO4 , you get no output . You should see ' GPIO_19 triggered ' ( Imported from Jira ZEP-2024 )	1	0
1 1 1.4 1.0 1.5 1.5 1.45 1.5 1.0 1.0 1.0811470408785846 1639 1.0 7 8 13 66	Failed test : kernel . timer . timer_periodicity on nrf51/nrf52 . Test tests/kernel/timer/timer_api/kernel . timer failing on nrf51 : : ***** delaying boot 1000ms ( per build configuration ) ***** ***** Booting Zephyr OS 1.12.99 ( delayed boot 1000ms ) ***** Running test suite timer_api = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_duration_period PASS - tes t_t imer_duration_period = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_period_0 PASS - tes t_t imer_period_0 = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_expirefn_null PASS - tes t_t imer_expirefn_null = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_periodicity Assertion failed at zephyr . git/tests/kernel/timer/timer_api/src/main . c : 171 : tes t_t imer_periodicity : ((( delta ) > = ( 50 )) && (( delta ) <= ( 50 ) + ( 1 ))) is false FAIL - tes t_t imer_periodicity = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_status_get PASS - tes t_t imer_status_get = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_status_get_anytime PASS - tes t_t imer_status_get_anytime = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - tes t_t imer_status_sync Assertion failed at zephyr . git/tests/kernel/timer/timer_api/src/main . c : 53 : duration_expire : k_uptime_delta(&tdata . timestamp ) > = 50 is false ASSERTION FAIL [ ! ( thread -> base . user_options & ( 1 << 0 ))] @ zephyr . git/arch/arm/core/thread_abort . c : 37 : essential thread aborted .	1	0
2 2 1.4 1.0 1.6 2.0 1.5 2.0 1.6666666666666667 2.0 1.125 8 1.0 4 8 14 90	tests/kernel/sched/schedule_api does not start with stm32wb55 on nucleo . Describe the bug when testing the tests/kernel/sched/schedule_api on the nucleo_wb55rg board form STMicroelectronics , the test does not start . To Reproduce Steps to reproduce the behavior : 1 . west build -p auto -b nucleo_wb55rg tests/kernel/sched/schedule_api/ 2 . west flash Expected behavior test PASSED Logs and console output none Environment ( please complete the following information ): - Commit SHA 6eb6c88554ad0c4c55c96cb940442665a53769ee Additional context The kernel is falling in the : __ASSERT((CoreDebug -> DHCSR & CoreDebug_DHCSR_C_DEBUGEN_Msk ) = = 0 , . of the arch/arm/include/aarch32/cortex_m/dwt . h This is a new ASSERT command which is added by the commit ' arm : cortex_m : assert if DebugMonitor exc is enabled in debug mode ' ( 2c45c8286386722d9b13d5cd0e9ca19a054fa88d ) from PR #31481 ' Implement null-pointer de-referencing detection for Cortex-M '  	0	0
1 1 1.6 2.0 1.5 2.0 1.3 1.0 1.3333333333333333 1.0 1.0704225352112675 1491 1.0 3 3 12 78	To optimize the layout of the meta data of mem_slab & mem_pool . Reported by Quanwen Du : The suggestions here : 1 . For : mem_slab . , current logic is using the first 4bytes of the free buffer as NEXT pointer of free_list , then link all the free buffers together . But I suggest to use the tail 4bytes as NEXT pointer of free_list . As we know there are issues of memory overflow/corruption . If we move the NEXT to the tail 4bytes , then we have a bigger guard space , then even when memory overflow writing happens , it is lower possibility that the NEXT pointer will be corrupted . I know there is argument that we should let the corruption be visible earlier , but I think it shall be always right to reduce the impact of the overflow corruption 2 . There is similar suggestion for : mem_pool . , which puts the bitmap and level info at the end of the buffer . So the suggestion here is to change : K_MEM_POOL_DEFINE . : to move : _mpool_lvls_# #name . before : mpool_buf_# #name . ; also to define the bitmap of block availability before _mpool_buf # #name . Of cause this suggestion assumed the toolchain will layout these arrays per its definition sequence , I will assume this is the most case , so shall be OK to re-layout these arrays . ( Imported from Jira ZEP-2435 )	2	1
0 0 0.4 0.0 0.8 1.0 0.85 1.0 0.6666666666666666 0.0 1.0048780487804878 410 1.0 1 5 7 65	nRF5x Series : System Clock driver using NRF_RTC . Reported by Vinayak Kariappa Chettimada : nRF5x Series : System Clock driver using NRF_RTC . As an OS kernel i want a low power system clock driver using a dedicated RTC on nRFx series so that i can have time awareness while the kernel sleeps during cpu idle . SysTick on nRF5x Series are absent or off during CPU sleep , hence the kernel should use NRF_TIMER ( high current consumption ) or NRF_RTCx ( low power low precision ) as system clock . ( Imported from Jira ZEP-742 )  	0	1
1 1 1.0 1.0 0.8 1.0 0.75 1.0 1.0 1.0 1.0121028744326777 661 1.0 4 8 19 75	Running SanityCheck in Windows . Reported by Inaky Perez-Gonzalez : A developer working under the Windows environment shall be able to run SanityCheck under said Windows environment to verify basic operation of his/her modifications . SanityCheck has been developed and it is mainly operated under Linux ; a comprehensive porting effort has to be undergone and the following points were identified as possibly initial contention : Python package dependencies issues CR/LF issues Qemu glitches makefile jobserver ( minor ) ( Imported from Jira ZEP-1174 )	2	1
2 2 1.4 1.0 1.1 1.0 0.9 1.0 1.3333333333333333 1.0 1.0857142857142856 140 1.0 14 17 18 37	Provide an interface for cpu/soc id and version . Reported by Anas Nashif : Zephyr shall provide a generic interface for getting the cpu id and any other identifying data from the underlying hardware using the HAL supported by the device . Acceptance Criteria : - Add this functionality on all supported MCUs in zephyr using the HALs provided for such MCUs - Provide a test cases - Provide a sample application For reference , look at qm_identification . h in QMSI , other SoCS from different architecture might have different identifying parts that need to be exposed . ( Imported from Jira ZEP-235 )	1	1
1 1 1.4 1.0 1.3 1.5 1.3 1.0 1.3333333333333333 1.0 0.813953488372093 172 1.0 7 43 116 166	xtensa builds fail in CI due to running out of ram to link . The following commit causes the amount of memory the linker needs to grow drastically such that linking on xtensa builds fails : 9505ee89a3401af93ffddc68e7b04fc948e2f89a See logs here : < URL >  	0	0
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.0150829562594268 663 1.0 5 10 20 77	kernel . h doxygen show unexpected ' asm ' blocks . Reported by Sharron LIU : Create kernel API with doxygen , noticed ' asm ' blocks are shown unexpectedly . See screen snapshot . : # cd # doxygen doxygen . config # check generated files from ' doc/html/d0/daa/kernel_8h . html ' # verify unexpected ' asm ' blocks shown edit doxygen . config INPUT = .. /include/kernel . h .. /include/legacy . h GENERATE_HTML = YES . ( Imported from Jira ZEP-1182 )	2	2
0 0 1.0 1.0 1.3 1.5 1.25 1.0 1.0 1.0 1.0737951807228916 1328 1.0 6 10 19 78	Stack declarations for memory protection . Reported by Andrew Boie : We need a good method for defining stack memory regions . Right now the typical way to do it is with __stack __noinit . We may need something more generic so that we can have fine , architecture-specific control on how the stacks are declared . For example , on x86 all the stacks are going to need to be aligned to 4096 byte boundaries , AND any given stack area should be immediately preceded by some memory which cannot be written to by the current thread . So I think we will need to position all the stacks in between rodata ( which can't be written to ) and the data section . Other arches have much less in the way of constraints on the alignment/size of stacks , but the general requirement is that if the thread attempts to write RAM immediately before the stack ( i.e. it overflows ) we get an exception . ( Imported from Jira ZEP-2185 )  	0	1
1 1 1.2 1.0 1.3 1.0 1.4 1.0 1.0 1.0 0.0 0 0.0 0 5 20 47	timers : platforms using cortex_m_systick does not enter indefinite wait on SLOPPY_IDLE . Describe the bug There is a spot in the SLOPPY_IDLE handling , which allows you to wait indefinite when idle , that has code that can never be reached . To Reproduce Steps to reproduce the behavior : 1 . west build -p -b frdm_k64f zephyr/samples/hello_world/ -- -DOPENDSA_FW = jlink 2 . west build -t menuconfig 3 . enable SLOPPY_IDLE 4 . west debug 5 . b sys_power_save_idle 6 . step to z_se t_t imeout_expiry 7 . with CONFIG_TIMEOUT_64BIT set : K_TICKS_FOREVER = = -1 . 8 . : -1 < IDLE_THRESH . makes : ticks = 1 . 9 . : z_clock_se t_t imeout(ticks , idle ); . cannot be reached inside : z_se t_t imeout_expiry . Expected behavior It is expected that the system enters SLOPPY_IDLE sleep and waits indefinitely . Impact Power Management modules with Cortex_m_systick . c timer can never go to sleep indefinitely . More power usage than needed . Environment ( please complete the following information ): - OS : Ubuntu 18.04 - Toolchain : Zephyr SDK 11.2 - Commit : b5fb9497b6 ( zephyr/master ) as of 29/6 - 2020	1	0
2 2 1.4 1.0 1.0 1.0 1.2 1.0 1.6666666666666667 2.0 1.081904761904762 1050 1.0 7 18 36 113	ARC : Boo t_t ime test not functioning . Reported by Chuck Jordan : The following tests malfunction for ARC cpu targets : tests/benchmarks/boo t_t ime legacy/benchmark/boo t_t ime/ When CONFIG_BOO T_T IME_MEASUREMENT is defined , some very early initialization is supposed to assign the value __star t_t sc . This can't be done with ARC because _tsc_read is implemented to rely on tick interrupts , and that hasn't come alive during this early time . What could be done , is the ARC timer0 could be activated very early , w/o it causing an interrupt , just so that COUNT register increments . __star t_t sc could be initialized to zero early ( but after bss zeroed if this is in bss ) . Or perhaps just let the bss zeroing zero it . Then later , when the timer0 is to be activated for interrupts , to the necessary math to keep the COUNT up to that point as part of the TIME being maintained by the sys_clock . c implementation . In this way , 64-bit time , as returned by _tsc_read () , can be functional from very early init . ( Imported from Jira ZEP-1747 )	2	0
2 2 1.0 1.0 0.7 1.0 0.7 1.0 1.3333333333333333 1.0 1.0874861572535992 903 1.0 10 16 25 68	Create documentation in RST for all networking samples . Reported by Anas Nashif : Each of the samples we have under samples/net needs to have its own detailed documentation in the source tree per the related Epic . In the case of networking , we also need to document how to use the ne t-t ools and reference it in each of the samples . Move away for a single document under samples/net/README to more detailed and updated documentation per sample and demo . Samples that are used for testing should move out of samples and into tests/net . ( Imported from Jira ZEP-1539 )	1	2
0 0 0.8 0.0 0.9 0.5 1.2 1.5 0.6666666666666666 0.0 0.0 0 0.0 3 9 13 89	Have Sphinx search display txt not ReST as results . We had this issue in our own documentation once and managed to fix it by some clever Makefile tricks so I thought I'd take this up . If you make a search in the Zephyr docs , like : < URL > You get results in unrendered ReST , which is kind of unreadable ( especially for headers ) . This is because the search looks in the sources directory which contains ReST files and outputs content directly from them . This can be worked around by producing text files instead . I think @dbkinder is probably the right person to mention here , I saw you are involved in most Sphinx-related stuff .	1	2
1 1 0.6 1.0 0.5 0.5 0.65 1.0 0.3333333333333333 0.0 0.9487179487179487 195 1.0 11 15 23 81	Javascript . Reported by Gajinder Vij : Enablement of an external Javascript programming environment that may wish to use Zephyr ( Imported from Jira ZEP-330 )	1	1
0 0 0.0 0.0 0.4 0.0 0.4 0.0 0.0 0.0 0.9623430962343096 239 1.0 7 8 14 116	Add driver API reentrancy support to flash driver . Reported by Kuo-Lang Tseng : Use locking mechanism to guard critical regions in the driver API so that it will allow the driver to be safe from fibers and task . ( Imported from Jira ZEP-413 )  	0	1
2 2 1.6 2.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 0.988394584139265 517 1.0 3 25 35 116	[ unified ] Add scheduler time slicing support . Reported by Benjamin Walsh : Adapt task time slicing support to unified kernel model . Strategy : : As described in the Kernel Primer ( v2 ) . Must ensure that time slicing doesn't have any effect when the current thread is cooperative OR when it has locked the scheduler . ( Note : Should double check all places that make decisions based on whether a thread is cooperative to determine if it also needs to take the scheduler lock into consideration . ) . Done criteria : : Thread scheduler API(s ? ) are operational . Underlying code follows the revised kernel naming conventions . Legacy scheduler APIs are operational . . ( Imported from Jira ZEP-906 )  	0	1
0 0 0.6 1.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 1.0 1 1.0 0 3 7 122	tcp : low bulk receive performance due to window handling . If the remote device sends a burst of data that fills the TCP receive window , then reception halts until the remote sends a keep-alive . This reduces the peak receive throughput by > 10x . The sequence is : Zephyr advertises a receive window of 1280 bytes Remote sends one packet of 640 bytes Remote sends another packet of 640 bytes Zephyr acknowledges with a receive window of 0 bytes The Zephyr app reads the data Later , the remote sends a TCP keep-alive Zephyr acknowledges with a receive window of 1280 bytes The remote waits ~ 100 of ms before sending the keep-alive , which limits the throughput to ~ 12800 B/s . Ideally , if the window was full , then Zephyr would send a packet with the updated window once the app starts reading data . This might be related to #23302 Context : I'm writing a VNC client using Zephyr . The VNC server sends large bitmaps down to Zephyr over a IPv4 over a USB ECM connection . I'm testing on the Arduino Zero .	1	0
2 2 1.8 2.0 1.6 2.0 1.4 2.0 2.0 2.0 1.0 2 1.0 4 10 12 63	commit 2fb616e broke I2C on Nucleo F401RE + IKS01A2 shield . I2C is not working on IKS01A2 shield when the 2fb616e commit is there . If I revert it then starts to work again . To reproduce it you need to use theIKS01A2 shield on top of a Nucleo board . The test to be used is currently not merged ( #12398 )  	0	0
2 2 2.0 2.0 1.9 2.0 1.85 2.0 2.0 2.0 1.4871794871794872 117 2.0 34 35 39 73	[ Coverity CID : 183034 ] Error handling issues in /tests/net/websocket/src/main . c . Static code scan issues seen in File : /tests/net/websocket/src/main . c Category : Error handling issues Function : test_v6_init Component : Tests CID : 183034 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
2 2 1.8 2.0 1.8 2.0 1.65 2.0 2.0 2.0 1.5714285714285714 7 2.0 1 2 4 28	net : ARP/ND : Possibility for deadlocks and DoS . Reviewing < URL > , I see following : prepare_arp () , which is on TX path , calls : net_pkt_get_reserve_tx ( ..., K_FOREVER ) . , : net_pkt_get_frag ( ..., K_FOREVER ) . . This can lead to a deadlock . Consider that all TX packets/bufs were allocated ( can easily happen with patches like < URL > and that's why I'm arguing against it ) , but there's no ETH address known for some pkt , deadlock . prepare_arp_reply () , which is on RX path , likewise calls the above functions with K_FOREVER timeout . Not only that can lead to deadlock , such deadlock can be caused externally ( thus an easy road to DoS ) . I don't see any request timeout functionality present . I.e. , if ARP request was sent and no reply received , it won't be retried , and the pending payload packet can potentially sit in the queue infinitely long .  	0	0
2 2 2.0 2.0 1.8 2.0 1.8 2.0 2.0 2.0 1.223053892215569 2004 1.0 12 16 23 100	[ Coverity CID : 219536 ] Dereference before null check in drivers/ieee802154/ieee802154_nrf5 . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : nrf5_rx_thread . Component : Drivers CID : < URL > Details : < URL > : 196 continue ; 197 198 drop : 199 nrf_802154_buffer_free_raw(rx_frame -> psdu ); 200 rx_frame -> psdu = NULL ; 201 >>> CID 219536 : Null pointer dereferences ( REVERSE_INULL ) >>> Null-checking ' pkt ' suggests that it may be null , but it has already been dereferenced on all paths leading to the check . 202 if ( pkt ) { 203 net_pkt_unref(pkt ); 204 } 205 } 206 } 207 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.2 2.0 0.9 1.0 0.9 1.0 0.6666666666666666 0.0 1.3278688524590163 61 1.0 3 5 19 65	warning about images when building docs . Describe the bug when building docs we get those now : : [ 1/4 ] cd /home/nashif/Work/github/zephyr/&& /home/nashif/ ... rst : boards : /home/nashif/Work/github/zephyr/doc/_build/rst/File not found : /home/nashif/Work/github/zephyr/doc/documentation/images/mypicture . jpg referenced by : /home/nashif/Work/github/zephyr/doc/documentation/doc-guidelines . rst File not found : /home/nashif/Work/github/zephyr/doc/documentation/images/mypicture . jpg referenced by : /home/nashif/Work/github/zephyr/doc/documentation/doc-guidelines . rst . To Reproduce make htmldocs with latest master Expected behavior no errors Impact confusing messages Screenshots or console output : [ 1/4 ] cd /home/nashif/Work/github/zephyr/&& /home/nashif/ ... rst : boards : /home/nashif/Work/github/zephyr/doc/_build/rst/File not found : /home/nashif/Work/github/zephyr/doc/documentation/images/mypicture . jpg referenced by : /home/nashif/Work/github/zephyr/doc/documentation/doc-guidelines . rst File not found : /home/nashif/Work/github/zephyr/doc/documentation/images/mypicture . jpg referenced by : /home/nashif/Work/github/zephyr/doc/documentation/doc-guidelines . rst .	2	2
0 0 1.4 2.0 1.1 1.0 1.1 1.0 1.3333333333333333 2.0 0.9746478873239437 355 1.0 1 5 16 59	TCP/UDP client and server mode functionality . Reported by Flavio Santes : Zephyr must provide the following routines for TCP : connect This function will allow a tcp-client application to connect to the server disconnect This function will allow a tcp-client application to disconnect from the server send This function will allow a udp/tcp-client application to send application-level data This function must also allow a udp/tcp server application to send application-level data to a client receive This function will allow a udp/tcp-client/server application to receive application-level data listen This function will allow a tcp-server application to listen for connections status This function will allow any network application ( tcp/udp ) to know the current status of the IP stack for the current execution context . ( Imported from Jira ZEP-613 )  	0	1
2 2 2.0 2.0 1.9 2.0 1.9 2.0 2.0 2.0 1.2181360201511335 1985 1.0 43 48 61 102	[ Coverity CID : 216794 ] Pointless string comparison in tests/lib/devicetree/api/src/main . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : test_path . Component : Tests CID : < URL > Details : : 1538 } 1539 } 1540 1541 static void test_path(void ) 1542 { 1543 zasser t_t rue ( ! strcmp(DT_NODE_PATH(DT_ROOT ) , ' /') , ' ) ; >>> CID 216794 : ( CONSTANT_EXPRESSION_RESULT ) >>> ' strcmp('/test/gpio@deadbeef ' , ' /test/gpio @deadbeef ' )' is always 0 because ' /test/gpio @deadbeef ' is compared against itself . 1544 zasser t_t rue ( ! strcmp(DT_NODE_PATH(TEST_DEADBEEF ) , 1545 ' /test/gpio @deadbeef ' ) , ' ) ; 1546 } 1547 1548 static void test_same_node(void ) 1549 { 1537 zasser t_t rue(ORD_IN_ARRAY(inst_supports[i ] , children_ords ) , ' ) ; 1538 } 1539 } 1540 1541 static void test_path(void ) 1542 { >>> CID 216794 : ( CONSTANT_EXPRESSION_RESULT ) >>> ' strcmp('/' , ' /')' is always 0 because ' /' is compared against itself . 1543 zasser t_t rue ( ! strcmp(DT_NODE_PATH(DT_ROOT ) , ' /') , ' ) ; 1544 zasser t_t rue ( ! strcmp(DT_NODE_PATH(TEST_DEADBEEF ) , 1545 ' /test/gpio @deadbeef ' ) , ' ) ; 1546 } 1547 1548 static void test_same_node(void ) . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.5 2.0 1.25 1.0 1.6666666666666667 2.0 1.0 1 1.0 3 4 11 51	Thread suspend only works if followed by k_sleep in thread that is performing the suspension . In our Zephyr app we have a task handler that suspends all threads used by the app . If k_thread_suspend is not followed by k_sleep () threads do not get suspended . Same behavior can be reproduced by modifying the following test code zephyr/tests/kernel/threads/thread_apis/src/tes t_t hreads_suspend_resume . c : /* checkpoint : suspend current thread */ k_thread_suspend(tid ); /* k_sleep(K_MSEC(100 )); */ k_busy_wait(100*1000 ); . To Reproduce Steps to reproduce the behavior : 0 . cd zephyr/tests/kernel/threads/thread_apis 1 . mkdir build ; cd build 2 . cmake -DBOARD = board_xyz 3 . make starting test - tes t_t hreads_suspend_resume_cooperative Assertion failed at ZEPHYR_BASE/tests/kernel/threads/thread_apis/src/tes t_t hreads_suspend_resume . c : 41 : threads_suspend_resume : last_prio = = create_prio is false Expected behavior Thread suspension should occur without sleeping in the thread that performs the suspension Impact This adds latency to enter low power management .  	0	0
1 1 0.6 1.0 0.5 0.5 0.6 1.0 1.0 1.0 1.0693000693000694 1443 1.0 10 24 26 88	ESP32 : Random number generator . Reported by Leandro Pereira : Implement a driver for the random number generator present in ESP32 . ( Imported from Jira ZEP-2354 )	2	1
2 2 1.2 1.0 1.3 1.0 1.45 1.5 1.0 1.0 2.0 2 2.0 1 4 41 268	tests/posix/fs test show messages dropped in the logs . Describe the bug suddenly , running tests/posix/fs test cases shows messages dropped in logs . I can see the issue for nrf52840_pca10056 board , but the same test passes for qemu_x86 . To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = nrf52840_pca10056 3 . make 4 . See error Expected behavior all test cases should be reported pass/fail Impact cannot judge if the test cases result is pass/fail ? : ** Screenshots or console output ** ^[[1 ; 31m --- 40 messages dropped --- ^[[0mPASS - test_fs_mkdir = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_fs_readdir readdir test : Listing dir /RAM : /testdir : [ FILE ] TESTFILE . TX PASS - test_fs_readdir = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Test suite posix_fs_test succeeded = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = RunID : : bhdk PROJECT EXECUTION SUCCESSFUL . Environment ( please complete the following information ): - OS : Fedora29 - Toolchain : Zephyr SDK 0.10.0 - Commit SHA or Version used : [ 2d43d181bf ] Additional context If I change to commit with the SDK v 0.9.5 , say [ 2320973fea ] , i don't see this issue and all test cases are reported pass .  	0	0
1 1 1.0 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.3676470588235294 136 1.0 21 25 28 59	[ Coverity CID : 190616]Integer handling issues in /subsys/net/lib/lwm2m/lwm2m_engine . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_engine . c Category : Integer handling issues Function : atof32 Component : Networking CID : 190616 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.2 1.0 1.1 1.0 1.3 1.5 1.3333333333333333 1.0 1.1 30 1.0 2 17 23 107	Build failed when CONFIG_STM32_ARM_MPU_ENABLE = y . Following merge of #9776 , building STM32 platform is failed when STM32_ARM_MPU_ENABLE is enabled . Build error reported : : zephyr/arch/arm/core/cortex_m/mpu/libarch__arm__core__cortex_m__mpu . a(arm_mpu . c . obj ): In function `arm_mpu_init ' : /local/mcu/zephyr/zephyr-project/arch/arm/core/cortex_m/mpu/arm_mpu . c : 368 : undefined reference to `mpu_config ' . : mpu_config . is defined in : soc/arm/st_stm32/common/arm_mpu_regions . c . which is not compiled since soc/arm/st_stm32/common/CMakeLists . txt is not parsed anymore  	0	0
2 2 1.4 1.0 1.3 1.0 1.1 1.0 1.6666666666666667 2.0 0.960431654676259 278 1.0 6 6 9 49	ND : Neighbor cache is not getting cleared . Reported by Biswanath Goswami : Neighbor cache is not getting cleared/NS packets are not being sent in some cases . This is due to two reasons : Periodic function ( uip_ds6_periodic ) is not being called as timer condition is not correct In uip_ds6_neighbour_periodic () function , uip_len(buf ) is called even on null buffer Please look at the attached patch which fixes the issue ( Imported from Jira ZEP-474 )	1	0
1 1 1.2 1.0 1.2 1.0 1.35 1.5 1.0 1.0 0.0 0 0.0 3 17 27 86	 Getting Started Guide : reel board blinky gif is outdated . Describe the bug If setting up Zephyr according to the Getting Started Guide including build and flash of blinky sample on reel_board / real_board_v2 , one can see blinking of red LED D3 ( GPIO P 0.11 ) at the front side . However , the Getting Starting Guide shows blinking of another led : LED D13 ( P 0.13 ) at the back side . To Reproduce Steps to reproduce the behavior : 1 . build and flash blinky sample for reel_board or reel_board_v2 2 . compare blinking led on the board with blinking led in the Getting Started Guide gif 3 . observe difference : board blinking on front side , gif blinging on back side Expected behavior Gif shall show blinking of front LED D3 ( GPIO P 0.11 ) . Impact Could confuse new users setting up Zephyr on reel_board / reel_board_v2 according to Getting Started Guide . Environment : - OS : Windows - Toolchain : GNU ARM embedded - Version used : 2.4.0 -rc1 Additional context Root cause : blinky controls led0 . led0 has been reallocated on the reel_board from the back side led to the front side led . For example , version of 18 Sep 2019 still has ' old ' mapping which matches the Getting Started Guide blinking .	2	2
0 0 1.0 1.0 1.3 2.0 1.15 1.0 1.3333333333333333 2.0 1.263157894736842 19 1.0 3 9 18 89	native_posix  Add mention of virtual USB . Is your enhancement proposal related to a problem ? Please describe . In #9877 a USB driver for native_posix was added , together with a small description in the USB subsystem documentation . This is very nice . But no mention of this driver was added to the native_posix board documentation itself . Describe the solution you'd like It would be nice having a small paragraph ( similar to the one for ethernet*1 ) in the peripherals section of native_posix , which would link to the already existing section in the USB subsys . * 1 : < URL > Describe alternatives you've considered None .	2	2
1 1 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 0.0 0 0.0 4 6 29 85	images for the wiki . Use this issue to add images that can be linked from the wiki . There is no way to upload images to the wiki right now .	2	2
2 2 2.0 2.0 1.8 2.0 1.65 2.0 2.0 2.0 0.8333333333333334 6 1.0 1 9 15 202	Add 3-wire support to SPI protocol . Some chips provides SPI with a half-duplex single data line ( MISO and MOSI shares the same wire ) . Interfaces like this are commonly called ' 3-wire SPI ' . It seems that zephyr is missing the SPI 3-wire mode feature . I think that ' struct spi_config ' should be enhanced to provide the possibility to pass SPI-3-WIRE-MODE . Then drivers would accept or discard the option according to their capabilities .	2	1
1 1 1.0 1.0 1.3 1.0 1.25 1.0 1.0 1.0 1.0 2 1.0 3 4 15 96	MISRA C Do not have dead code . According with Wikipedia , ' In computer programming , dead code is a section in the source code of a program which is executed but whose result is never used in any other computation . ' . The presence of dead code is specially bad in embedded systems - like Zephyr - because it wasting resources and , possibly , affecting timing constraints . Dead code is also doomed by several ' process ' standards like IEC 61508 and ISO 26262 . Static analysis tools like coverity can be used to check it . part of #9552	1	1
1 1 1.8 2.0 1.7 2.0 1.6 2.0 1.6666666666666667 2.0 2.0 5 2.0 2 3 9 47	power_init for STM32L4 and STM32G0 in POST_KERNEL . Describe the bug For STM32L4 and STM32G0 stm32_power_init is executed in POST_KERNEL . Expected behavior For STM32L4 and STM32G0 stm32_power_init should be executed in PRE_KERNEL_1 . Impact Did not stumble upon any problems , it just came up during the review of #41439 .	2	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.371900826446281 121 1.0 6 10 13 44	[ Coverity CID : 190637]Null pointer dereferences in /subsys/net/lib/lwm2m/lwm2m_rw_plain_text . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_rw_plain_text . c Category : Null pointer dereferences Function : plain_text_read_number Component : Networking CID : 190637 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 0.6 0.0 0.3 0.0 0.6 0.0 1.0 1.0 0.8 5 1.0 4 21 38 114	Function documentation is missing for BSD sockets . The BSD socket API function documentation is missing in include/net/socket . h	1	2
2 2 1.4 2.0 1.6 2.0 1.4 2.0 2.0 2.0 0.0 0 0.0 0 19 33 148	Invalid link in Zephyr document to ACRN page . There's one invalid link in document page for ' Getting started guide for Intel NUC ' < URL > The latest ACRN GSG guide link should be : < URL >	2	2
1 1 0.8 1.0 0.9 1.0 1.0 1.0 1.3333333333333333 1.0 0.8 10 1.0 7 14 19 142	Bluetooth : controller : legacy : Fix Tx Ctrl PDU leak . Overlapping Feature Exchange requested by host with Encryption Setup requested by the application caused the controller to corrupt its Tx queue leading to Tx Ctrl PDU buffers from leaking from the system . Relates to #21299 . Signed-off-by : Vinayak Kariappa Chettimada < URL >	1	0
0 0 0.8 1.0 0.6 0.5 0.75 1.0 0.3333333333333333 0.0 0.9865771812080537 596 1.0 2 3 10 116	Adapt to new PM related boot flow changes in QMSI boot loader . Reported by Ramesh Thomas : QMSI bootloader will be directly jumping to a resume vector . Currently in Zephyr there is code in crt0 . S which assumes resume happens from _start . This needs to be adjusted according to the final bootloader behavior and the corresponding deep sleep implementations in Zephyr . ( Imported from Jira ZEP-1047 )  	0	1
2 2 2.0 2.0 2.0 2.0 1.95 2.0 2.0 2.0 1.3099191145168156 2349 1.0 48 51 57 109	[ Coverity CID : 238376 ] Logically dead code in tests/bluetooth/tester/src/mesh . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : config_node_reset . Component : Tests CID : < URL > Details : < URL > : 2114 2115 tester_send(BTP_SERVICE_ID_MESH , MESH_CFG_NODE_RESET , CONTROLLER_INDEX , 2116 ( uint8_t *)& status , sizeof(status )); 2117 return ; 2118 2119 fail : 2120 tester_rsp(BTP_SERVICE_ID_MESH , MESH_CFG_NODE_RESET , CONTROLLER_INDEX , 2121 err ? BTP_STATUS_FAILED : BTP_STATUS_SUCCESS ); 2122 } 2123 2124 static void config_lpn_timeout_get(uint8_t * data , uint16_t len ) 2125 { . For more information about the violation , check the < URL > . ( < URL > ) Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.4 2.0 1.2 1.0 0.9 1.0 1.0 1.0 1.0718907260963335 1391 1.0 6 6 16 89	BSD Sockets API : Offloading support . Reported by Paul Sokolovsky : Users of devices which provide socket and TCP/IP offload engines would benefit in memory and power efficiency by enabling full offload of the Zephyr BSD socket APIs to a dedicated co-processor . The TI CC3220SF SoC , part of the CC32XX SimpleLink SoC family of WiFi enabled devices , will be used as the initial socket offload implementation . ( Imported from Jira ZEP-2271 )	1	1
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.5714285714285714 7 2.0 13 18 44 222	[ Coverity CID : 195872]Error handling issues in /drivers/serial/uart_native_posix . c . Static code scan issues seen in File : /drivers/serial/uart_native_posix . c Category : Error handling issues Function : open_tty Component : Drivers CID : 195872 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 1.2 1.0 1.1 1.0 0.6666666666666666 1.0 1.2685185185185186 216 1.0 1 8 18 90	core kernel depends on minimal libc `z_prf()` . Describe the bug Some dependencies have accumulated on the internal minimal libc function : z_prf () . , to the point where the function was moved out of minimal libc and into lib/os . This is not good , lib/os now has two completely orthogonal printf()-like implementations that we will have to maintain in perpetuity , even if minimal libc is not used , and especially if we ever settle on a different third-party small-footprint C library and remove minimal libc entirely . Any kernel subsystem dependency on : z_prf () . needs to use the : printk () . family of functions instead . If : printk () . needs to support some functionality that is only offered by : z_prf () . ( like printing floating point values ) add non-default Kconfigs against printk () code which adds this and has negligible footprint or stack space impact on users who don't enable it . : z_prf () . itself needs to be moved back to minimal libc where it belongs .  	0	0
1 1 0.8 1.0 0.8 1.0 1.1 1.0 0.6666666666666666 1.0 1.5 2 1.5 3 5 21 81	Align PS/2 handlers with the handlers found in other drivers . The PS/2 handlers were implemented before the new marshaling APIs were introduced . It would be great if the same person who is updating the handlers helps us to update these too .	1	0
0 0 1.4 2.0 1.6 2.0 1.55 2.0 1.0 1.0 1.25 12 1.5 5 9 12 56	Interrupts on Cortex-M do not work with CONFIG_MULTITHREADING = n . Describe the bug When : CONFIG_MULTITHREADING = n . then interrupts are initially disabled ( see bug #8393 ) when they are enabled then usage fault happens immediately ( seems that it happens during returning from interrupt ) . To Reproduce Steps to reproduce the behavior : 1 . modify hello_world : : void main(void ) { /* enable interrupts */ irq_unlock(0 ); printk('Hello World ! %s/n ' , CONFIG_BOARD ); /* wait for interrupt coming from LF clock being started . */ k_busy_wait(1000000 ); } . prj . conf : : CONFIG_MULTITHREADING = n CONFIG_LOG = y . buid and run . I used nrf52840dk_nrf52840 board See error : *** Booting Zephyr OS build zephyr-v 2.3.0 -979-ga043d48c5472 *** [ 00:00:02 . 426,116 ] < err > os : ***** USAGE FAULT ***** [ 00:00:02 . 426,116 ] < err > os : Illegal load of EXC_RETURN into PC [ 00:00:02 . 426,116 ] < err > os : r0/a1 : 0x00000004 r1/a2 : 0x00000001 r2/a3 : 0x00000001 [ 00:00:02 . 426,116 ] < err > os : r3/a4 : 0x00000000 r12/ip : 0x00000020 r14/lr : 0x000029db [ 00:00:02 . 426,116 ] < err > os : xpsr : 0x00000000 [ 00:00:02 . 426,147 ] < err > os : Faulting instruction address ( r15/pc ): 0xe000ed00 [ 00:00:02 . 426,147 ] < err > os : >>> ZEPHYR FATAL ERROR 0 : CPU exception on CPU 0 [ 00:00:02 . 426,147 ] < err > os : Current thread : 0x00000000 ( unknown ) [ 00:00:03 . 378,143 ] < err > os : Halting system . Expected behavior No error should appear . Impact Interrupts cannot be used when multithreading is off . User cannot use any driver ( even out of tree which does not use kernel synchronization apis ) . Environment ( please complete the following information ): - Commit a043d48c54726082521f3e335d807dc649cc02f3	1	1
2 2 1.0 1.0 1.5 2.0 1.5 2.0 1.3333333333333333 2.0 1.0834879406307978 1078 1.0 2 18 33 111	Tinytile : Flashing not supported with this board . Reported by Qiu Peiyang : Flashing not supported with this board . Tinytile cannot use ' make BOARD = tinytile flash ' to flash image , but ' make BOARD = arduino_101 flash ' can work on it . This is weird and unreasonable . ( Imported from Jira ZEP-1785 )	2	0
2 2 1.6 2.0 1.7 2.0 1.2 1.0 2.0 2.0 0.9591836734693877 245 1.0 2 2 15 99	i2c not working with re-enterancy changes . Reported by Anas Nashif : Just found out I2C is not working as expected with at least 2 of the samples , bisected and found this to be the culprit .. : core : zephyr((no branch , bisect started on master )): git bisect good bf45b0bd870b57433ef5b5ef62859302416d0ca8 is the first bad commit commit bf45b0bd870b57433ef5b5ef62859302416d0ca8 Author : Sergio Rodriguez < sergio.sf.rodriguez@intel.com > Date : Tue May 10 16:28:11 2016 -0700 i2c : Use locking mechanism to guard critical regions . This will allow the driver to be safe from fibers and task Change-Id : I6c4c4fc387cf334f0287b8a02982be1941a311fd Signed-off-by : Sergio Rodriguez < sergio.sf.rodriguez@intel.com > : 040000 040000 b9f4876f58c9959efbf4f31d23d19209275c52eb d5aa442cae837e79612b6be7c6faafa65351fc50 M drivers . ( Imported from Jira ZEP-419 )  	0	0
1 1 0.6 1.0 0.9 1.0 1.25 1.0 1.0 1.0 1.0263157894736843 38 1.0 5 5 8 84	Convert CMSDK APB Watchdog driver to new API . We have a new driver API for watchdog , the old API has been deprecated for several releases now . We need to convert the driver to use the API or remove it	1	0
2 2 1.2 2.0 1.4 2.0 1.55 2.0 0.6666666666666666 0.0 1.092479674796748 984 1.0 1 5 7 102	BLE Controller assert . Reported by Carles Cufi : { code } bt : ticker_success_assert : assert : ' status = = 0 ' failed Note : Fatal fault in ISR ! Spinning ... { code } Sample : peripheral_sc_only Config : DEBUG_MONITOR = y Hardware : nRF51 dongle ( Imported from Jira ZEP-1661 )  	0	0
2 2 1.6 2.0 1.6 2.0 1.45 2.0 2.0 2.0 1.5 18 2.0 0 7 19 84	The ' app ' library and additional application libraries created are linked differently . Users should be able to describe complex applications that are organized into a hierarchy of libraries with different build properties . To this end , it must be documented and exemplified how to create and use new app CMake libraries . The desired model for application libraries is that they be organized as pure CMakeLists . txt libraries that could in theory be copied verbatim from a CMake project . So , no reliance on Zephyr CMake extensions or conventions . This is believed to lower the barrier of entry for application developers as they do not have to learn about Zephyr's CMake model and can instead use the standard CMake API to describe their application . But it is not clear how to achieve this goal . One problem relates to linking . In the zephyr model , libraries are -- whole-archive'd together to resolve unresolved references . But in the CMake model libraries should instead be explicitly linked together . There exists build script code that is aware of the ' app ' library and ensures that it is whole-archived , but there is no mechanism to ensure that extra application libraries are linked in ( and it is not clear if it desirable to use whole-archive on these libraries ) .	1	1
1 1 0.6 1.0 0.8 1.0 1.05 1.0 0.3333333333333333 0.0 1.2 25 1.0 4 5 15 84	buffer management issues with k_msgq syscalls . The init systemcall for the k_msg_q allows passing in a userspace buffer that is then written/read from the threads using the kernel object . If this buffer was to be relinquished for example because the userspace process released it from the heap or a stack frame unwound , subsequent reads/writes through the queue object would result in using the dangling pointer . The same holds for the put , get systemcalls that allow delayed writes/reads from the msg_q buffer ( through the base . swap_data ) . The issue here is that the current thread's permission to access pending_thread -> base . swap_data is not checked at the system call handler .	1	0
0 0 0.0 0.0 0.4 0.0 0.75 0.5 0.0 0.0 1.087719298245614 114 1.0 4 10 25 88	sanitycheck fails for tests/bluetooth/init/bluetooth . ini t.t est_ctlr_per_sync . : . /scripts/sanitycheck -s tests/bluetooth/init/bluetooth . ini t.t est_ctlr_per_sync -p nrf51dk_nrf51422 . FAILs with : : /opt/zephyr-sdk- 0.12.0 -beta-1/arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 10.2.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld : subsys/bluetooth/host/libsubsys__bluetooth__host . a(hci_core . c . obj ): in function `le_past_received ' : /home/galak/git/zephyr/subsys/bluetooth/host/hci_core . c : 4794 : undefined reference to `bt_conn_lookup_handle ' Memory region Used Size Region Size %age Used FLASH : 71164 B 256 KB 27.15% SRAM : 15485 B 32 KB 47.26% IDT_LIST : 136 B 2 KB 6.64% collect2 : error : ld returned 1 exit status gmake[2 ]: *** [ zephyr/CMakeFiles/zephyr_prebuilt . dir/build . make : 126 : zephyr/zephyr_prebuilt . elf ] Error 1 gmake[1 ]: *** [ CMakeFiles/Makefile 2:2841 : zephyr/CMakeFiles/zephyr_prebuilt . dir/all ] Error 2 gmake : *** [ Makefile : 103 : all ] Error 2 .  	0	0
1 1 1.4 2.0 1.0 1.0 0.95 1.0 1.6666666666666667 2.0 1.236842105263158 38 1.0 4 4 15 58	nrf : clock reimplementation breaks test . : tests/arch/arm/arm_irq_vector_table . fails to build on nrf52_pca20020 , nrf52_pca10040 , and nrf52840_pca10056 starting at 6700f2f1940c645c5cd1eb23baad8bd0c8041b81 with this error : : make[3 ]: Leaving directory ' /scratch/zephyr/zp1/zephyr/sanity-out/nrf52_pca20020/tests/arch/arm/arm_irq_vector_table/arch . interrupt ' make[3 ]: Entering directory ' /scratch/zephyr/zp1/zephyr/sanity-out/nrf52_pca20020/tests/arch/arm/arm_irq_vector_table/arch . interrupt ' [ 98%] Building C object zephyr/CMakeFiles/zephyr_prebuilt . dir/misc/empty_file . c . obj [ 100%] Linking C executable zephyr . elf Memory region Used Size Region Size %age Used FLASH : 25964 B 512 KB 4.95% SRAM : 5164 B 64 KB 7.88% IDT_LIST : 0 GB 2 KB 0.00 /usr/local/zephyr-sdk- 0.10.3 /arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 8.3.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld : .. /app/libapp . a(arm_irq_vector_table . c . obj ): /scratch/zephyr/zp1/zephyr/tests/arch/arm/arm_irq_vector_table/src/arm_irq_vector_table . c : 167 : undefined reference to `nrf_power_clock_isr ' collect2 : error : ld returned 1 exit status % make[3 ]: *** [ zephyr/CMakeFiles/zephyr_prebuilt . dir/build . make : 101 : zephyr/zephyr . elf ] Error 1 . This < URL > of #19650 .  	0	0
0 0 1.0 1.0 1.3 1.5 1.25 1.0 1.0 1.0 1.2 5 1.0 3 16 21 80	STM32 : Drivers : Document series support for each driver . It is not clear today which drivers are validated on a specific STM32 series . I propose to document this is in Kconfig , in the help section of ' XDRIVER_STM32 ' flag . This is done for instance in : drivers/i2c/Kconfig . stm32 . ( but could be even further clarified )	2	1
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.0689655172413792 1363 1.0 8 16 22 93	timeslice reset is not tested for interrupt-induced swaps . Reported by Andrew Boie : The schedule_api test_sched_timeslice_reset code currently only evaluates two cases : 1 ) Cooperative context switches 2 ) Timeslice expiry However there is a third case , if thread X is timeslicing , gets an interrupt which causes thread Y to be scheduled , AND Y is also timeslicing , then Y's timeslice needs to be reset . This requires modification to the interrupt handling code and is currently only implemented on ARM and X86 . Extend this test case to simulate and test this scenario . ( Imported from Jira ZEP-2232 )	2	1
1 1 1.6 2.0 1.6 2.0 1.55 2.0 1.3333333333333333 1.0 1.4 5 1.0 1 8 18 207	C++ New allocates memory from kernel heap . Describe the bug The current Zephyr C++ : new . implementation allocates memory from the kernel heap instead of using the same heap used by : malloc . . In case a system would be configured with none , or a small , kernel heap and a large libc heap the call to : new . will fail even when sufficient memory is available in the libc heap . To Reproduce Steps to reproduce the behavior : - Problem was hit on private project . - Todo : reproduce with libcxx tests Expected behavior : new . / : delete . should use same memory pool as : malloc . / : free . Impact None useable system due to memory allocation failure . Environment - OS : Linux - Toolchain : Zephyr - f9c94d49e84def297c29f800b8733e5763b8d002 ( 2.0 -rc3 ) Additional context PR ( #18464 ) was created to provide the option to disable Zephyr : new . / : free . implementation and falback to libcxx implementation which uses : malloc . and : free . internally . One open question from the code review on PR #18464 is why zephyr provides its own implementation of : new . / : free . that specifically depends on kernel heap	1	0
1 1 1.4 2.0 1.2 1.0 1.05 1.0 1.0 1.0 1.0881188118811882 1010 1.0 13 18 25 98	Add support for ADXRS290 . Reported by Anas Nashif : The ADXRS290 is a pitch and roll ( dual-axis in-plane ) angular rate sensor ( gyroscope ) designed for use in stabilization applications . ( Imported from Jira ZEP-1696 )  	0	1
2 2 2.0 2.0 1.9 2.0 1.85 2.0 2.0 2.0 1.1818663838812302 1886 1.0 7 9 20 80	[ Coverity CID : 211584 ] Logically dead code in drivers/wifi/eswifi/eswifi_core . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : __parse_ipv4_address . Component : Drivers CID : < URL > Details : : 178 static int __parse_ipv4_address(char * str , char * ssid , uint8_t ip[4 ]) 179 { 180 unsigned int byte = -1 ; 181 182 /* fmt => [ JOIN ] SSID , 192.168.2.18 , 0 , 0 */ 183 while (* str && byte < 4 ) { >>> CID 211584 : Control flow issues ( DEADCODE ) >>> Execution cannot reach this statement : ' if ( byte = = 4294967295U ) { 184 if ( byte = = -1 ) { 185 if ( ! strncmp(str , ssid , strlen(ssid ))) { 186 byte = 0U ; 187 str + = strlen(ssid ); 188 } 189 str++ ; . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 0.6 0.0 0.9 1.0 1.2 1.0 1.0 1.0 1.15625 64 1.0 1 6 11 64	We need a way to track owners and improve reviewer selection . Reported by Anas Nashif : Right now there is no easy way to identify who owns which subsystem , driver or any feature in the kernel . We need a way to track ownership and be able to use the data to select reviewers for a specific change . Options : 1 . MAINTAINERS file 2 . Off-source list of maintainers , i.e. on Wiki 3 . OWNERS files such as < URL > 4 . Other options ... ( Imported from Jira ZEP-90 )  	0	1
1 1 1.0 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.4508196721311475 244 1.0 16 25 33 71	[ Coverity CID : 205625]Error handling issues in /drivers/sensor/lsm6dso/lsm6dso_shub . c . Static code scan issues seen in File : /drivers/sensor/lsm6dso/lsm6dso_shub . c Category : Error handling issues Function : lsm6dso_shub_embedded_en Component : Drivers CID : 205625 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.1 1.0 0.95 1.0 1.3333333333333333 1.0 0.9749303621169917 359 1.0 1 5 17 59	Move some configuration items in file system to header files . Reported by Kuo-Lang Tseng : Some configuration items in fs/Kconfig may be moved to a header file . This is based on review comment from < URL > ( Imported from Jira ZEP-619 )	1	1
1 1 1.0 1.0 0.9 1.0 0.95 1.0 1.0 1.0 1.1666666666666667 12 1.0 1 2 6 57	missing test for kernel event logger . while we have a sample for the kernel event logger , we are missing a test that verifies the implementation and values . A test that verifies all functionality and options is needed to improve kernel code coverage . Options to verify : [ ] KERNEL_EVENT_LOGGER [ ] KERNEL_EVENT_LOGGER_BUFFER_SIZE [ ] KERNEL_EVENT_LOGGER_DYNAMIC [ ] KERNEL_EVENT_LOGGER_CUSTOM_TIMESTAMP [ ] KERNEL_EVENT_LOGGER_CONTEXT_SWITCH [ ] KERNEL_EVENT_LOGGER_INTERRUPT [ ] KERNEL_EVENT_LOGGER_SLEEP [ ] KERNEL_EVENT_LOGGER_THREAD	1	0
1 1 1.0 1.0 0.9 1.0 0.95 1.0 1.0 1.0 1.3018867924528301 53 1.0 5 7 9 86	Declaring an API Stable . from the API meeting in November 2017 this was the definition of stable APIs : When introduced : unstable by default At least 2 (?) implementations of the API for different HW -> generic . ( Multiple ) Applications in the case of HW agnostic APIs Dedicated model still valid , declare API for HW features ( no catch-all API functions for HW specific features ) Stable : basic requirements for an API + at least one (?) release a generic We need to formalise this and make it as part of the documentation .  	0	1
2 2 1.8 2.0 1.9 2.0 1.95 2.0 2.0 2.0 1.103244837758112 1695 1.0 55 63 71 185	[ Coverity CID : 205826 ] Memory - corruptions in tests/subsys/fs/nffs_fs_api/common/nffs_test_utils . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : nffs_test_assert_child_inode_present . Component : Tests CID : 205826 Please fix or provide comments in coverity using the link : < URL >	2	0
1 1 1.2 1.0 0.8 1.0 0.55 0.0 1.3333333333333333 1.0 1.0 23 1.0 9 18 28 101	Missing LwM2M protocol information in the network section of docs . Describe the bug Need documentation for the LwM2M feature in Zephyr	2	2
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.4602510460251046 239 1.0 11 20 28 66	[ Coverity CID : 205617]Memory - corruptions in /drivers/kscan/kscan_mchp_xec . c . Static code scan issues seen in File : /drivers/kscan/kscan_mchp_xec . c Category : Memory - corruptions Function : check_key_events Component : Drivers CID : 205617 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 1.1 1.5 1.2 1.0 1.3333333333333333 2.0 1.0718309859154929 1420 1.0 1 3 8 74	[ PTS ] All TC's of SM/GATT/GAP failed due to BTP_TIMEOUT error . . Reported by vikram Shekhawat : Test Env : Zephyr revision : master/0f0c45ce7c17d4a37dd1d5bb1b9e8f918de23db1 PTS : 7.0 Host : Windows Host : Win10 64bit Enterprise , HP Elitebook with Intel Core i5-5300 @2 . 30GHZ , 8GB Memory BT USB dongle : CSR All SM , GATT , GAP related TC's are failed due to BTP_TIMEOUT error . Please see attachment log for more information . ( Imported from Jira ZEP-2321 )  	0	0
0 0 1.2 1.0 1.4 1.5 1.5 2.0 1.0 1.0 1.1492537313432836 67 1.0 1 17 51 222	Fix builds w/o modules . Builds fail if Kconfig . modules doesn't exist . This is a change of build behavior late in the 1.14 process due to commit bd7569f . We need to restore the ability to build as things where if no west/no modules needed .  	0	0
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.0 1.0 1.0 2 1.0 5 12 22 84	Zephyr Networking Stack Architectural Updates . This is an umbrella issue , covering all works we currently do on Zephyr networking arch updates : [ x ] Implement setsockopt for TLS ( < URL > [ x ] Core stack to use new buffers : #7578 Port protocols to use sockets - [ x ] CoAP to use sockets #7584 ~~- [ ] HTTP to use sockets #7585 ~ ~ HTTP API was removed from Zephyr - [ x ] LWM2M to use sockets #7586 - [ x ] DNS to use sockets #7587 - [ x ] SNTP to use sockets #7588 ~~- [ ] Websocket to use sockets #7589 ~ ~ Websocket API was removed from Zephyr - [ x ] MQTT PR < URL > [ ] Reduce engineering debt for the stack , #8723 [ x ] Port sockets to new buffers : #7590 [ x ] Implement system calls for socket API : #8203 [ x ] Port sample networking apps to user mode : #8204  	0	1
1 1 1.4 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.3448275862068966 29 2.0 4 15 18 85	Provide Reviewer Guidelines as part of the documentation . Provide Reviewer Guidelines as part of the documentation as discussed in the TSC .	1	2
0 0 0.6 1.0 0.7 1.0 0.95 1.0 0.6666666666666666 1.0 1.0952380952380953 1176 1.0 5 8 13 116	Time to Next Event . Reported by Robert Beatty : Require to obtain time to next event to efficiently handle power management . ( Imported from Jira ZEP-1946 )  	0	1
1 1 1.0 1.0 1.2 1.0 0.9 1.0 0.6666666666666666 1.0 1.1346153846153846 52 1.0 0 1 3 52	Extend PWM API to use arbitrary unit of time . Reported by Daniel Leung : Currently , the PWM API assumes the controllers have fixed period . We need to extend the API so that the on/off/set_duty_cycle/etc . can take in arbitrary unit of time ( e.g. ns , ms ) . This will provide better flexibility to app developers , and also they do not have to know the fixed period of the controller . ( Imported from Jira ZEP-69 )	1	1
1 1 0.8 1.0 0.6 1.0 0.9 1.0 1.0 1.0 1.0844529750479845 1042 1.0 5 16 45 108	Controller to Host flow control . Reported by Carles Cufi : There are 2 cases today that require Controller to Host flow control to be implemented in the BLE Controller : ATT request spec violation : the client sends multiple ATT requests without waiting for a response . The Host will block the UART traffic with flow control but that won't allow for num complete events to come in , causing a deadlock SMP TX confirmation : SMP requires a number of completed packets to be received before proceeding in the key distribution phase ( Imported from Jira ZEP-1735 )	1	1
2 2 0.8 1.0 0.8 1.0 0.9 1.0 0.6666666666666666 0.0 0.0 0 0.0 4 6 6 47	Networking stack buffer management update . This is an umbrella issue for the set of architectural changes and optimizations discussed during Zephyr Networking Forum , 12th of December 2017 . The forum materials are < URL > A key dependency to it is the new design of networking buffers , proposed by @jhedberg in #3283 In terms of implementation , we have identified the following breakdown : [ x ] Introducing compound buffer to the net stack [ ] Introduce the buffers to core stack [ ] Validate 6LoWPAN and TCP scenarios [ ] Prototype use of external buffers [ ] Socket API update [ ] IP stack high-level API update [ ] API update [ ] Update protocols [ ] IP offloading API update  	0	1
2 2 1.8 2.0 1.6 2.0 1.5 2.0 2.0 2.0 1.1159420289855073 69 1.0 3 4 13 69	Zephyr public JIRA miss ' Fixed ' Resolution . . Reported by Lei Liu : There are ' Done , Won't Do , Duplicate , Cannot Reproduce ' in Resolution drop-down list . But it's not enough . ' Fixed ' Resolution is needed to clearly show the problem is fixed . ' Done ' status is different with ' Fixed ' status . ( Imported from Jira ZEP-99 )  	0	0
1 1 1.0 1.0 1.2 1.0 1.4 2.0 1.0 1.0 1.3333333333333333 3 2.0 0 0 10 47	MDB runner is not capturing real board's output . With addition of MDB runner ( see < URL > it's now possible to run Zephyr binaries on both ARC boards and nSIM simulator via MetaWare debugger . But while it works OK-ish ( see < URL > with manual execution and to some extent with : sanitycheck . script with simulated : nsim_* . targets , attempt to use : sanitycheck . script with ARC boards results on all failed tests . That's because MDB runner is based on : ZephyrBinaryRunner . ( see < URL > which listens on : stdout . of the spawned process . But in case of real board connected via UART we need to act more like OpenOCD runner listening on the specified serial port . Obviously there're 2 options on how to solve this : 1 . Restrict usage/disable MDB runner for real boards keeping it only for simulation ( especially : nsim_hs_smp . ) . 2 . Add missing back-end to the runner for connection to the serial port But looking forward with addition of MetaWare toolchain support ( see < URL > we'd like to have an ability to use MetaWare tools for everything ( both building and running ) w/o any extra tools , so having MDB runner capable of running Zephyr on real targets in : sanitycheck . could be a very nice addition . So I'd prefer the second option to be implemented .	2	2
2 2 1.2 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 1.7142857142857142 7 2.0 2 7 81 127	preempt_cnt not reset in each test case in tests/lib/ringbuffer/libraries . data_structures . Describe the bug why : preempt_cnt . not reset in each test case in tests/lib/ringbuffer/libraries . data_structures ? we will assert : preempt_cnt > 1500 . , so some test cases will always true . < URL > < URL > < URL > < URL >	2	0
2 2 1.6 2.0 1.3 1.0 1.35 1.5 1.6666666666666667 2.0 0.9790076335877863 524 1.0 10 32 42 123	Improving locking algorithms in kernel objects . Reported by Benjamin Walsh : Ensure kernel objects do not lock interrupts any longer than necessary . Currently some object types , such as mailboxes , lock interrupts for the duration of some operations when they could get away with locking only the kernel thread scheduler ( because the object cannot be used by ISRs ) . The locking done by each kernel object type should be reviewed to ensure it is efficient . Extra care should be taken for the data passing object types to avoid interrupt locking ( or even thread locking ? ) during potentially lengthy memcpy-type operations . ( Imported from Jira ZEP-914 )  	0	1
2 2 1.4 2.0 1.4 1.5 1.25 1.0 2.0 2.0 1.6 5 2.0 2 9 21 90	Application development primer docs broken by west merge . Describe the bug The documentation recommends creating an application and build directory somewhere in the home directory . This is likely outside the west installation , so running commands like : ninja flash . or : west flash . in the build directory are unlikely to work . To Reproduce < URL > Expected behavior Docs should lead to working apps Impact Showstopper for v 1.14 ; these docs must work Screenshots or console output E.g. : ' Create an application directory on your workstation computer , outside of the Zephyr base directory . Usually youl want to create it somewhere under your user home directory . ' Environment ( please complete the following information ): - OS : N/A - Toolchain N/A - Commit SHA or Version used e.g. b73c9b32e8d84ad0a7820b5087db7cab681114f1 Additional context N/A  	0	0
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 2.0 1 2.0 11 25 27 89	Provide a mean to find tests with 0 platforms due to bad filtering . We keep finding tests that are excluded due to bad filters , have the sanitycheck script detect those and report about any bad filters in testcases . based on idea from @galak .	2	1
2 2 2.0 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.3 10 1.0 1 6 9 62	Add to samples/bluetooth/mesh & samples/bluetooth/mesh_demo . We should document what exactly the sample is doing or accomplishing	2	2
2 2 1.0 1.0 1.1 1.0 0.9 1.0 1.0 1.0 1.5 4 1.5 1 3 9 70	modem : hl7800 : Fix crash related to IPv6 address . If modem receives an IPv6 address , buffer overrun would occur . Fix this by checking string length to ensure what type of IP address needs to be parsed . Correct destination buffer size when processing RX messages from modem .	1	0
1 1 1.0 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.3597122302158273 139 1.0 24 28 31 62	[ Coverity CID : 190613]Integer handling issues in /subsys/net/lib/lwm2m/lwm2m_engine . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_engine . c Category : Integer handling issues Function : lwm2m_write_attr_handler Component : Networking CID : 190613 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.6 2.0 1.3 1.0 1.6666666666666667 2.0 0.5714285714285714 21 0.0 5 10 34 99	On-PR CI needs to build a subset of tests for a subset of platforms regardless of the scope of the PR changes . There are some tests that are required to be built for a certain set of platforms in order to verify that a set of changes of changes in a PR has not broken the code . As an example , we can use : tests/bluetooth/init . . In those tests , there is a subset with a : platform_allow . set to a few Nordic platforms . For every PR ( or at the very least whenever code in : subsys/bluetooth . is modified ) , those tests should be built for those nRF platforms . This is not the case today : : $ scripts/sanitycheck -- integration -T tests/bluetooth/init/ INFO - Zephyr version : zephyr-v 2.4.0 -1254-gfbc487cce3 INFO - JOBS : 8 INFO - Selecting default platforms per test case INFO - Building initial testcase list ... INFO - 40 test configurations selected , 11920 configurations discarded due to filters . INFO - Adding tasks to the queue ... INFO - 0 of 0 tests passed ( 0.00% ) , 0 failed , 40 skipped with 0 warnings in 0.61 seconds INFO - In total 0 test cases were executed on 1 out of total 299 platforms ( 0.33% ) INFO - 0 tests executed on platforms , 0 tests were only built . . Another example is building the MCUBoot tests for nRF platforms to avoid regressions , this is documented in #29397  	0	0
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.5 24 1.5 4 12 23 66	tests/kernel/timer/timer_api failed on frdm_k64f board . . To Reproduce Steps to reproduce the behavior : 1 . west build -b frdm_k64f -p auto tests/kernel/timer/timer_api/ 2 . west flash 3 . See error Screenshots or console output Booting Zephyr OS build zephyr-v 2.1.0 -803-gf05cbb421ddf Running test suite timer_api starting test - tes t_t ime_conversions PASS - tes t_t ime_conversions starting test - tes t_t imer_duration_period PASS - tes t_t imer_duration_period starting test - tes t_t imer_period_0 PASS - tes t_t imer_period_0 starting test - tes t_t imer_expirefn_null PASS - tes t_t imer_expirefn_null starting test - tes t_t imer_periodicity PASS - tes t_t imer_periodicity starting test - tes t_t imer_status_get PASS - tes t_t imer_status_get starting test - tes t_t imer_status_get_anytime PASS - tes t_t imer_status_get_anytime starting test - tes t_t imer_status_sync PASS - tes t_t imer_status_sync starting test - tes t_t imer_k_define Assertion failed at ZEPHYR_BASE/tests/kernel/timer/timer_api/src/main . c : 64 : duration_expire : interval > = 100 is false FAIL - tes t_t imer_k_define starting test - tes t_t imer_user_data PASS - tes t_t imer_user_data starting test - tes t_t imer_remaining_get PASS - tes t_t imer_remaining_get Test suite timer_api failed . PROJECT EXECUTION FAILED Environment ( please complete the following information ): - OS : fedora28 - Toolchain : zephyr-sdk- 0.10.3 - Commit ID : f05cbb4	1	0
1 1 1.6 2.0 1.6 2.0 1.5 2.0 1.3333333333333333 1.0 1.3333333333333333 78 1.0 10 24 36 79	MMU and USERSPACE not working on upsquared . Describe the bug Enabling MMU and userspace on up_squared fails , nothing comes back on the console To Reproduce Enable MMU on up_squared ... Expected behavior Userspace and mmu testcases should pass  	0	0
2 2 1.6 2.0 1.7 2.0 1.5 1.5 1.6666666666666667 2.0 1.2222222222222223 18 1.5 4 10 20 111	Common west flash , debug arguments like -- hex-file can't be used from command line . Describe the bug < URL > broke the ability to : west flash -- hex-file foo . hex . . A fix is in < URL > To Reproduce Steps to reproduce the behavior : 1 . west build -b nrf52840_pca10056 -s samples/hello_world 2 . cp build/zephyr/zephyr . hex my-cool-zephyr . hex 3 . west flash -- hex-file my-cool-zephyr . hex Notice that build/zephyr/zephyr . hex is flashed , not my-cool-zephyr . hex . Expected behavior my-cool-zephyr . hex is flashed instead . Impact Showstopper Environment ( please complete the following information ): - Commit SHA or Version used : introduced in eb95bed552f Additional context Reported by Tarjei Knapstad on Slack .  	0	0
2 2 1.8 2.0 1.5 2.0 1.4 2.0 2.0 2.0 1.3287671232876712 73 1.0 3 8 13 55	Make babbelsim testing more easily available outside of CI . Right now we do some special testing using babbelsim that is not available to users running sanitycheck locally . This can be disruptive when something fails in CI but can't be reproduced locally on the developer system . Add to that the fact that the setup of nrf52_bsim is not straightforward . We should make this available through to anyone running sanitycheck and we should be able to whatever happens in CI on any machine where development happens . We should look into pull the babbelsim code into the west manifest and make it available to sanitycheck in any local build and remove the special handling from the CI docker image .	1	1
1 1 1.6 2.0 1.5 2.0 1.25 1.0 1.6666666666666667 2.0 0.0 0 0.0 4 6 19 129	Ready thread is not swapped in after being woken up in IRQ . Describe the bug Ready thread is not swapped in after being woken up in IRQ . Probably the sheduler does not do a swap after this . To Reproduce I have an application where I use only : k_poll . in the main thread . Application is polling for two signal events . I call : k_poll_signal_raise . from IRQ context . After this main thread is in ready state but it is never waken up . My application is in idle thread after that . When I modified idle thread to call explicit yield inside , the main thread which polling for signals is woken up after calling : k_poll_signal_raise . . Idle thread : : while ( true ) { #if SMP_FALLBACK k_busy_wait(100 ); k_yield (); #else ( void)arch_irq_lock (); sys_power_save_idle (); k_yield (); //IDLE_YIELD_IF_COOP (); #endif } . Expected behavior Ready thread should be swapped after being woken up in IRQ . Environment ( please complete the following information ): - nrf52840_pca10056 DK  	0	0
1 1 1.6 2.0 1.5 1.5 1.4 1.0 1.3333333333333333 1.0 1.2083333333333333 96 1.0 4 7 12 88	sanitycheck : incorrect correct calculation of total_skipped when -- subset is set : . Commit e3ff4cfcd655b5a164770c3c293db4206126aba1 causes the following ( Negative Number of tests ): : . /scripts/sanitycheck -- build-only -- all -T samples/hello_world/ -- subset 2/120 Renaming output directory to /home/galak/git/zephyr/sanity-out . 12 INFO - Running only a subset : 2/120 INFO - JOBS : 64 INFO - Selecting all possible platforms per test case INFO - Building initial testcase list ... INFO - 3 test configurations selected , 0 configurations discarded due to filters . INFO - Adding tasks to the queue ... INFO - Total complete : 3/ -4 -75% skipped : 7 , failed : 0 INFO - 3 of -4 tests passed (- 75.00% ) , 0 failed , 7 skipped with 0 warnings in 5.17 seconds INFO - In total -4 test cases were executed on 269 out of total 272 platforms ( 98.90% ) INFO - 0 tests executed on platforms , -4 tests were only built . . This is due to how total_skipped is calculated -- it needs to factor in subset when set .  	0	0
2 2 1.6 2.0 0.9 0.5 0.95 1.0 1.3333333333333333 2.0 0.9899598393574297 498 1.0 8 13 70 105	6LoWPAN - Mesh Header compression and uncompression . Reported by Gajinder Vij : Add support for Mesh header compression and decompression . ( Imported from Jira ZEP-877 )  	0	1
0 0 0.6 0.0 1.1 1.5 1.1 1.0 0.0 0.0 1.0769230769230769 117 1.0 5 11 21 76	sanitycheck samples/video/capture/sample . video . capture fails to build on mimxrt1064_evk . : scripts/sanitycheck -s samples/video/capture/sample . video . capture -p mimxrt1064_evk . Gets : : Scanning dependencies of target drivers__video [ 86%] Building C object zephyr/drivers/video/CMakeFiles/drivers__video . dir/video_common . c . obj /home/galak/git/zephyr/drivers/video/video_common . c : 20:8 : error : unknown type name ' mem_block ' 20 | static mem_block video_block[CONFIG_VIDEO_BUFFER_POOL_NUM_MAX ]; | ^ ~~~~~~~~ /home/galak/git/zephyr/drivers/video/video_common . c : In function ' video_buffer_alloc ' : /home/galak/git/zephyr/drivers/video/video_common . c : 32:10 : error : assignment to ' struct k_mem_block *' from incompatible pointer type ' int *' [-Werror = incompatible-pointer-types ] 32 | block = & video_block[i ]; | ^ /home/galak/git/zephyr/drivers/video/video_common . c : In function ' video_buffer_release ' : /home/galak/git/zephyr/drivers/video/video_common . c : 61:21 : error : request for member ' data ' in something not a structure or union 61 | if ( video_block[i ] . data = = vbuf -> buffer ) { | ^ /home/galak/git/zephyr/drivers/video/video_common . c : 62:10 : error : assignment to ' struct mem_block *' from incompatible pointer type ' int *' [-Werror = incompatible-pointer-types ] 62 | block = & video_block[i ]; | ^ cc1 : all warnings being treated as errors gmake[2 ]: *** [ zephyr/drivers/video/CMakeFiles/drivers__video . dir/build . make : 82 : zephyr/drivers/video/CMakeFiles/drivers__video . dir/video_common . c . obj ] Error 1 gmake[1 ]: *** [ CMakeFiles/Makefile 2:3217 : zephyr/drivers/video/CMakeFiles/drivers__video . dir/all ] Error 2 .  	0	0
2 2 1.6 2.0 1.6 2.0 1.4 1.0 1.6666666666666667 2.0 0.9861830742659758 579 1.0 2 10 22 163	GPIO set/reset broken on nRF52832 . Reported by Christian Maaser : I'm running Zephyr v 1.5.0 on an nRF52832 DK and found an issue with basic GPIO handling ( which is still present in the master branch's HEAD ): gpio_nrf5_write in zephyr/drivers/gpio/gpio_nrf5 . c is setting and clearing each individual pin . However , when setting a GPIO to 0 , the code does ' gpio -> OUTCLR |= BIT(pin ); ' . According to the [ link spec| < URL > reading a value from this address means ( bitwise ): Read value 0 : pin driver is low Read value 1 : pin driver is high Write : writing a ' 1 ' sets the pin low ; writing a ' 0 ' has no effect This means when setting a single GPIO pin to low also sets all other pins to low that were previously high due to the |= operation performed . Please replace the bitwise OR assignment (|= ) operator to write bits to OUTCLR ( and also OUTSET ) with a simple assignment (= ) operator to fix this bug . ( Imported from Jira ZEP-1017 )	1	0
1 1 1.6 2.0 1.4 1.0 1.3 1.0 1.6666666666666667 2.0 0.9880341880341881 585 1.0 5 9 17 166	Doccumentation for GCC ARM is not accurate . Reported by Sonia Leon Bautista : In Custom and 3rd Party Cross Compilers section , while describing steps for using ' CROSS_COMPILE ' command , have to specify that GCCARMEMB_TOOLCHAIN_PATH and ZEPHYR_GCC_VARIANT variables must be also defined , not just as alternative method . ( Imported from Jira ZEP-1027 )	2	2
2 2 1.8 2.0 1.3 1.5 1.15 1.0 2.0 2.0 1.0528967254408061 794 1.0 6 8 39 141	Missing wiki board support page for arm/quark_se_c1000_ble board . Reported by David Kinder : Missing wiki material for this supported board ( Imported from Jira ZEP-1368 )	2	2
2 2 1.8 2.0 1.6 2.0 1.5 2.0 2.0 2.0 0.75 8 1.0 1 10 28 94	Unstable ping RTT with ethernet ipv4 networking . The ping response time suddenly degrades with ipv4/ethernet on nxp-frdm-k64f board . To reproduce the issue , run samples/net/echo_client with CONF_FILE = prj_frdm_k64f . conf . Run ' ping 192.0.2.1 ' from the machine configured with PEER_IPV4_ADDR = 192.0.2.2 . For first 60-70 ping requests , the response time is about . 2ms . Then suddenly , ping response time degrades to more than 200ms and at times goes as high as 1s . ( The problem does not reproduce on qemu . )	2	0
0 0 1.0 1.0 1.2 1.0 1.3 1.5 1.0 1.0 1.1372549019607843 51 1.0 16 37 47 157	clarify stack documentation and fix x86 security issue . It's impossible for K_THREAD_STACK_SIZEOF () to return the same size passed to K_THREAD_STACK_DEFINE () on any architecture using user mode , there always has to be some rounding up to accommodate the granularity of memory protection regions , since the stack buffer must occupy that region without anything else in it . x86 was not doing this , round the stack buffer size to the nearest page boundary . A test for stack bounds overflow needed to be fixed since the arbitrary multiplier used didn't work once the size was rounded up to a 4K page . Fixes : #8118  	0	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.0803461063040791 1618 1.0 8 10 13 89	Coverity issue seen with CID : 175358 , in file : /subsys/bluetooth/host/hci_core . c . Reported by Shilpashree L C : Static Coverity issue seen as per the analyses done on 09/09/17 Category : Memory - corruptions Function : le_set_private_addr Please fix or provide comments to square it off in coverity in the link : < URL > ( Imported from Jira ZEP-2609 )	1	0
0 0 1.0 1.0 0.9 1.0 0.9 1.0 1.0 1.0 1.0772686433063792 1113 1.0 9 20 26 129	Application Development . Reported by Robert Beatty : As a Zephyr applications developer I would like to be able to build Zephyr and add applications after it is built . Requested solution ( not presently supported ): Library based build for Application ( e.g. system call table ) ( Imported from Jira ZEP-1846 )	1	1
1 1 1.2 1.0 1.5 2.0 1.5 2.0 1.0 1.0 0.5 2 0.5 3 12 20 58	Tests/kernel/gen_isr_table failing when enabling WDT driver . Describe the bug Unable to build MEC15 boards when enabling CONFIG_WATCHDOG = y There is no other driver that uses same interrupt so suspecting something in the test case . To Reproduce Steps to reproduce the behavior : 1 . Add CONFIG_WATCHDOG = y to zephyr/boards/arm/mec15xxevb_assy6853/mec15xxevb_assy6853_defconfig 2 . cd zephyr/tests/kernel/gen_isr_table/ 3 . mkdir build ; cd build 4 . See error Expected behavior No build error Impact Shippable build fails when attempting to enable WDT driver . WDT driver cannot be enabled in MEC boards Screenshots or console output : 97%] Generating isr_tables . c gen_isr_tables . py : multiple registrations at table_index 171 for irq 171 ( 0xab ) Traceback ( most recent call last ): File ' /home/jamezaar/ecwork/zephyr/arch/common/gen_isr_tables . py ' , line 314 , in < module > main () File ' /home/jamezaar/ecwork/zephyr/arch/common/gen_isr_tables . py ' , line 306 , in main error('multiple registrations at table_index %d for irq %d ( 0x%x )' % ( table_index , irq , irq )) File ' /home/jamezaar/ecwork/zephyr/arch/common/gen_isr_tables . py ' , line 36 , in error raise Exception () .	2	0
2 2 0.8 1.0 1.0 1.0 0.8 0.5 1.0 1.0 2.0 1 2.0 5 18 30 89	drivers : serial : uart_msp432p4xx . c not compile for interrupt API . PR #11180 missed to update define : : TI_MSP432P4XX_UART_40001000_IRQ_0 . in uart_msp432p4xx . c file . To reproduce : Try to compile hello word example with interupts on for serial driver . This issue is stopper for PR #10902	1	0
1 1 1.8 2.0 1.6 2.0 1.5 1.5 1.6666666666666667 2.0 0.963302752293578 327 1.0 5 5 10 55	X86 kernel BAT failed : Kernel Allocation Failure ! . Reported by Sharron LIU : X86 kernel BAT failed . how-to-reproduce : # cd zephyr # source zephyr-env.sh // x86 flashed with kernel BAT app ( attached ) # make -C test_bat/ BOARD = quark_se_devboard pristine # make -C test_bat/ BOARD = quark_se_devboard flash . expected output is BAT test complete and print message ' PROJECT EXECUTION SUCCESSFUL ' . actual output is BAT test printing ' * Kernel Allocation Failure ! *' : tc_start () - BAT : microkernel timer : task memory map : task memory pool : task event : task-fiber event : task-isr event : task-task sema : task-fiber sema : task-isr mutex : task-task fifo : task-task mailbox : task-task **** Kernel Allocation Failure ! **** Current thread ID = 0xa8008c20 Faulting segment : address = 0x0000dead : 0xdeaddead eax : 0xdeaddead , ebx : 0xdeaddead , ecx : 0xdeaddead , edx : 0xdeaddead esi : 0xdeaddead , edi : 0xdeaddead , ebp : 0deaddead , esp : 0xdeaddead eflags : 0xdeaddead Fatal essential fiber error ! Spinning ... . git bisect shows ' commit 8c524a291e7ee20d031b71653b312c993fcadf74 is the first bad commit ' . ( Imported from Jira ZEP-572 )	1	0
1 1 1.2 1.0 1.4 1.0 1.2 1.0 1.0 1.0 1.0833333333333333 12 1.0 1 29 49 157	kernel : sched : use _is_thread_ready () in should_preempt () . We are using _is_thread_prevented_from_running () to see if the _current thread can be preempted in should_preempt () . The idea being that even if the _current thread is a high priority coop thread , we can still preempt it when it's pending , suspended , etc . This does not take into account if the thread is sleeping . k_sleep () merely removes the thread from the ready_q and calls Swap () . The scheduler will swap away from the thread temporarily and then on the next cycle get stuck to the sleeping thread for however long the sleep timeout is , doing exactly nothing because other functions like _ready_thread () use _is_thread_ready () as a check before proceeding . We should use ! _is_thread_ready () to take into account when threads are waiting on a timer , and let other threads run in the meantime . Fixes : < URL > Signed-off-by : Michael Scott < URL >  	0	0
2 2 1.8 2.0 1.7 2.0 1.85 2.0 2.0 2.0 1.2269116186693148 2014 1.0 22 26 33 110	[ Coverity CID : 219523 ] Side effect in assertion in subsys/bluetooth/controller/ll_sw/ull_adv_sync . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : mfy_sync_offset_get . Component : Bluetooth CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.4 1.0 1.4 1.5 1.3 1.0 1.3333333333333333 1.0 1.3369565217391304 92 1.0 1 2 9 63	replace device define macros with devicetree-based macro . With the merge of #30196 we need to convert any device object definitions that are based on a devicetree node to use : DEVICE_DT_DEFINE . instead of : : DEVICE_DEFINE . 17 driver source files : DEVICE_AND_API_INIT . 361 driver source files The vast majority of these are for devices that are associated with a devicetree node . Changing allows use of new API to access the device object directly via : DEVICE_DT_GET () . rather than a runtime lookup through the : label . property , and provides access to additional common devicetree information like dependencies . Examples of the sort of changes required include : * 63043bc5acc26f9a2203afaf58039d5dc86d11cd when instance macros based on iterating over devices are already used ; * cf339279338b0859ea1efc13a2806cb527fdc093 when interrupts require local direct access to the device before it is defined . There will be remaining instances of : DEVICE_DEFINE . and/or : DEVICE_AND_API_INIT . for device objects that do not derive from devicetree , such as USB class instance devices like : CDC_ACM . . Note The role of this issue is solely to replace the macros used to define : struct device . objects when a device corresponds to a devicetree node . It enables , but does not implement , changes in device references in driver from ones that use the : label . property . As noted in #30536 that can only be done when all drivers in a given subsystem have been converted .  	0	0
1 1 1.2 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.9748603351955307 358 1.0 0 4 18 58	clearly document internal kernel interfaces . Reported by Andrew Boie : As a developer porting Zephyr to a new architecture , I would like the internal APIs that the kernel expects architectures to implement to be clearly documented in header files rather than it being a trial-and-error exercise . Examples would be some but not all members of struct tcs . Certain functions like _IntLibInit , etc . _IS_IN_ISR . There's also an assortment of headers in the codebase which #ifdef on all arches , variously failing silently or loudly if the new architecture hasn't added there yet . These should be consolidated . The required members of tcs and others should be defined in a new struct that gets embedded within the respective arch-specific implementations . ( Imported from Jira ZEP-618 )	1	2
1 1 0.4 0.0 0.5 0.0 0.6 0.0 0.6666666666666666 1.0 0.9878682842287695 577 1.0 0 8 21 161	NATS client port to new IP stack . Reported by Flavio Santes : As a Zephyr Developer using IoT Protocols , I would like that the current NATS client code included with Zephyr to be ported to use the new IP stack interface , so that I can use the enhanced functionality included in the new IP stack . ( Imported from Jira ZEP-1012 )  	0	1
1 1 1.6 2.0 1.8 2.0 1.65 2.0 1.3333333333333333 1.0 1.0984578884934757 1686 1.0 46 54 62 176	[ Coverity CID : 205823 ] Null pointer dereferences in tests/kernel/fifo/fifo_timeout/src/main . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : test_multiple_threads_pending . Component : Tests CID : 205823 Please fix or provide comments in coverity using the link : < URL >	2	0
1 1 1.2 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.083495145631068 1030 1.0 4 8 38 97	TCP does not work with 6lo . Reported by Jukka Rissanen : There is an issue with TCP and 6lo compression . What happens is that 6lo compression modifies the IPv6 header as it needs to compress it . The same IPv6 header is used in TCP to verify if we received an ack and can release the saved net_buf . This verification will fail as the TCP sequence number is different location in the net_buf . The end result is that the device seems to run out of memory because the net_buf's are never removed as we never receive matching ack numbers from peer . This affects both 802.15.4 and Bluetooth . In Bluetooth there is extra problem that the net_buf meta data is modified because of BT segmentation . ( Imported from Jira ZEP-1719 )  	0	0
2 2 1.2 1.0 1.3 1.5 1.45 2.0 1.0 1.0 1.0 1 1.0 2 4 6 99	mbedtls_ssl_close_notify was called after DTLS context released . Hi , I am using the DTLS echo client in zephyr . I find that maybe this is a bug in net app : In _net_app_ssl_mainloop , close the connection of DTLS ( CONFIG_NET_APP_DTLS ) will also release the DTLS context . In tls_client_handler ( client . c ) , mbedtls_ssl_close_notify(&ctx -> tls . mbedtls . ssl ); is called after _net_app_ssl_mainloop , which couldn't notify others that the DTLS connection is closing , because the DTLS context has been released in _net_app_ssl_mainloop . Also doesn't check the return value of mbedtls_ssl_close_notify	1	0
2 2 1.6 2.0 1.6 2.0 1.5 2.0 1.3333333333333333 1.0 0.0 0 0.0 0 0 13 59	nRF52 : UARTE : Data corruption right after resuming device . Providing a bare-bones reproducible example isn't easy in this case , but I can reproduce it reliably with customer code . It seems that when you suspend the UARTE and then resume it ( using : device_set_pm_state () . ) , there is a window right after resume in which transmissions get corrupted . This is the setup : pm hooks suspends UART and : cpu_idle () . timer interrupt triggers ; pm hooks resume UART , ISR pushes item to work queue work item TX : es eight bytes and RX : es eight bytes I have verified by oscilloscope that the bytes TXed are correct and the bytes RXed are correct on the serial line . However , when my application reads the RX bytes , they are garbled ( and an extra byte is added ) . This can be reproduced consistently , but only if the power management hooks suspending/resuming the UART are enabled . It can be worked around by adding a dummy RX prior to TXing , so it's not a high prio bug ( for me atleast :P ) but it's clearly indicative of something generating spurious events .	1	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.4049079754601228 163 1.0 46 54 66 121	[ Coverity CID : 203512]Memory - corruptions in /subsys/net/l2/ppp/ipv6cp . c . Static code scan issues seen in File : /subsys/net/l2/ppp/ipv6cp . c Category : Memory - corruptions Function : ipv6cp_up Component : Networking CID : 203512 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 1.9 2.0 1.85 2.0 2.0 2.0 1.1265750286368843 1746 1.0 2 9 13 90	[ Coverity CID : 208927 ] Dereference after null check in tests/net/icmpv4/src/main . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : test_icmpv4_send_echo_req . Component : Tests CID : < URL > Details : : 436 437 pkt = prepare_echo_request(iface ); 438 if ( ! pkt ) { 439 zasser t_t rue(false , ' EchoRequest packet prep failed ' ) ; 440 } 441 >>> CID 208927 : Null pointer dereferences ( FORWARD_NULL ) >>> Passing null pointer ' pkt ' to ' net_ipv4_input ' , which dereferences it . 442 if ( net_ipv4_input(pkt )) { 443 net_pkt_unref(pkt ); 444 zasser t_t rue(false , ' Failed to send ' ) ; 445 } 446 } 447 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.1111111111111112 18 1.0 8 9 10 72	Get ARM boards compliant with default configuration guidelines . Created from #7151 , dedicated to ARM ( mps2 , beetle , .. ) boards Following introduction of ' default board configuration guidelines ' ( #6858 ) , one part of the work is to move boards already ported to zephyr to conform with guidelines available here : < URL > < URL > could be used as reference for this update .	1	1
2 2 1.0 1.0 0.7 0.5 0.75 0.5 1.6666666666666667 2.0 1.0753246753246752 1540 1.0 1 3 20 69	x86 : implement option for PAE-formatted page tables with NX bit . Reported by Andrew Boie : We really want to be able to support the no-execute bit in x86_64 page tables . This is possible on ia32 using PAE format page tables : < URL > < URL > Add a Kconfig option to cause gen_mmu . py to create and install this type of page table . Modify the MMU_BOOT_REGION () invocations appropriately such that only text region is executable . This needs to be a Kconfig since more RAM will be used to page tables . Enable in qemu_x86 and qemu_x86_iamcu by default . ( Imported from Jira ZEP-2511 )  	0	1
1 1 1.6 2.0 1.5 1.5 1.65 2.0 1.3333333333333333 1.0 2.0 2 2.0 1 12 17 133	storage : flash_map : Only works on limited compatibles . Describe the bug When attempting to use the flash_map API , correct flash_area structures are only correctly generated for a list of in tree compatibles ( : soc_nv_flash . , : jedec_spi_nor . , : nordic_qspi_nor . ) . For compatibles other than these , the : fa_dev_name . field is initialized to NULL . If an alternate compatible implementing the flash API is provided , no error or warning is displayed at compile time . Furthermore , no runtime checking on the validity of : fa_dev_name . or the retrieved : struct device * . is performed when reading or writing to flash , leading to runtime hard faults with : device_get_binding . fails . This can be checked through : flash_area_get_sectors . however , which will return -ENODEV in the error case . The problem is the : DT_FLASH_DEV_FROM_PART . macro in : flash_map_default . c . . : #define DT_FLASH_DEV_FROM_PART(part ) / IS_SOC_NV_FLASH(part , / IS_JEDEC_SPI_NOR(part , / IS_NORDIC_QSPI_NOR(part , NULL ))) . Where the NULL case is used for alternate compatibles . Expected behavior Alternate implementations of the flash API should be able to use the flash_map API to access fixed partitions . Impact flash_map cannot be used with out of tree flash implementations , or even many of the in-tree implementations . Environment ( please complete the following information ): - Zephyr 2.3	1	0
2 2 1.6 2.0 1.5 2.0 1.5 2.0 1.6666666666666667 2.0 1.0 1 1.0 5 8 10 65	MEC1501 configure warnings in eSPI ( dts ) . Describe the bug A clear and concise description of what the bug is . Low priority To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = cmake -DBOARD = mec15xxevb_assy6853 .. / Expected behavior No warnings during configure stage Impact What impact does this issue have on your progress ( e.g. , annoyance , showstopper ) Screenshots or console output mec15xxevb_assy6853 . dts . pre . tmp : 172.24 - 178.5 : Warning ( simple_bus_reg ): /soc/espi @400f3400 : simple-bus unit address format error , expected ' 400f3800 '	2	0
0 0 0.6 0.0 0.6 0.0 0.9 1.0 0.6666666666666666 0.0 0.9724517906336089 363 1.0 4 8 20 63	Features support matrix for supported boards . Reported by David Kinder : From the zephyr user mailing list : < URL > It would be nice if we could display a features support matrix on the Supported Boards pages , or on the wiki . Red / amber / green colouring of boxes is commonly used in such displays , and it's very effective in showing at a glance the state of support for each feature . This can help people make informed purchases and avoids unhappy surprises . I can echo Rohit's dismay at discovering that the level of support for FRDM-K64F features is currently sparse . For such a full-featured board produced by a founding Zephyr partner and listed as an officially Supported Board , this discovery wasn't expected . A feature matrix would be very helpful for end users who have just discovered Zephyr , and it could help focus the attention of developers on features that are in need of work too . This came about when a user ( Rohit ) asked , ' I'm having difficulty setting a UDP echo-server using samples/net/echo_server .... Is there any reason why uIP would not work on a K64F over Ethernet ? ' and the answer give was : There isn't an Ethernet driver for the FRDM-K64F yet . We do have a generic ( non-Zephyr ) Ethernet driver for this SOC in the Kinetis SDK , and have imported it into the Zephyr tree ( see ext/hal/ksdk/drivers/fsl_enet . *) , but we still need to hook it up to uIP . ( Imported from Jira ZEP-630 )	2	2
0 0 1.2 1.0 1.4 2.0 1.45 2.0 1.0 1.0 0.0 0 0.0 8 8 49 138	The scripts ( debug , debugserver and flash ) are not working for Intel S1000 board . This was working before . Looks like the commit bc7b1c595ed4090be6d80859a01a0bb372ae030c regressed it .	1	0
0 0 0.0 0.0 0.3 0.0 0.4 0.0 0.0 0.0 0.9745762711864406 236 1.0 4 5 11 113	Add driver API reentrancy support to SPI driver for ARC . Reported by Kuo-Lang Tseng : Use locking mechanism to guard critical regions in the driver API so that it will allow the driver to be safe from fibers and task . ( Imported from Jira ZEP-410 )  	0	1
0 0 1.2 1.0 1.4 1.5 1.4 1.5 1.3333333333333333 2.0 1.1 70 1.0 0 4 8 35	Failed to receive loopback packet . Reported by Elva Fu : zephyr : commit 092289ffb5f0bcc0d7c16f5ac8c33f5f7a1d3c11 zephyr-sdk : 0.7.4 1 . source zephyr-env.sh 2 . export ZEPHYR_GCC_VARIANT = zephyr export ZEPHYR_SDK_INSTALL_DIR = /opt/zephyr-sdk 3 . cd samples/net/loopback_test make pristine make qemu In QEMU : Packets are sent and received , however after a while no packets are received anymore . see UART output as follows . main : run net_loopback_test main : sent 105 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes fiberEntry : received 57 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes main : sent 105 bytes .... Same issue is hit on quark_se_devboard too when burning image with command ' make BOARD = quark_se_devboard flash ' ( Imported from Jira ZEP-101 )	1	0
2 2 1.2 1.0 1.3 1.5 1.2 1.0 1.6666666666666667 2.0 1.625 16 2.0 0 3 22 73	shell : fix printing from other threads . This fix prevents a scenario when command callback calls shell_fprintf after the shell cleared the command context flag and before setting the prompt correctly . Fixes #27522 Signed-off-by : Jakub Rzeszutko < URL >	1	0
2 2 0.8 0.0 0.8 0.5 1.0 1.0 0.6666666666666666 0.0 1.0158013544018059 443 1.0 17 21 24 67	Dynamic Configurarion of IPv4 Link-local Addresses . Reported by Gajinder Vij : The Zephyr IP stack shall support Dynamic Configurarion of IPv4 Link-local Addresses as specified in RFC 3927 ( Imported from Jira ZEP-803 )	2	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2007223942208463 1938 1.0 3 4 12 75	[ Coverity CID : 215221 ] Unchecked return value in drivers/regulator/regulator_fixed . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : regulator_fixed_init_onoff . Component : Drivers CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.4965986394557824 147 2.0 4 5 17 77	[ Coverity CID : 185399 ] Integer handling issues in /subsys/usb/usb_device . c . Static code scan issues seen in File : /subsys/usb/usb_device . c Category : Integer handling issues Function : usb_transfer_work Component : Other CID : 185399 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3709677419354838 124 1.0 9 13 16 47	[ Coverity CID : 190634]Control flow issues in /subsys/net/lib/lwm2m/lwm2m_obj_device . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_obj_device . c Category : Control flow issues Function : lwm2m_device_add_pwrsrc Component : Networking CID : 190634 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 1.7 2.0 1.7 2.0 2.0 2.0 0.0 0 0.0 3 71 82 128	Twister is not reading the serial line output completely . Describe the bug We are trying to contribute for efr32bg22 from silicon labs . When we running twister , tests/kernel/timer/timer_api/kernel . timer . tickless test is failing . But if I run that using west , it is working fine . From the logs I can see that twister is missing ' PROJECT EXECUTION SUCCESSFUL ' line . What have you tried to diagnose or workaround this issue ? I have put print(serial_line ) after < URL > and I can see it is getting ' PROJECT EXECUTION SUCCESSFUL ' line . So , looks like twister is not reading the serial output properly that leads to mark the test as failed . Expected behavior tests/kernel/timer/timer_api/kernel . timer . tickless should pass Logs and console output Twister output : < URL > West output : < URL > Environment ( please complete the following information ): - OS : Linux - Toolchain : gcc-arm-none-eabi-10-2020-q4-major - 2.5.99	2	0
1 1 1.6 2.0 1.5 2.0 1.5 2.0 1.6666666666666667 2.0 1.2 20 1.0 2 13 16 84	xtools build hard-coded to use IAMCU compiler for all x86 targets . I have brew binutils 2.30 installed , but it installs it as ' greadelf ' and not ' readelf ' and CMake can't find it . Creating a symlink did not help . : CMake Error at /Users/andrew/zephyr/cmake/extensions . cmake : 984 ( message ): No such file or directory : CMAKE_READELF : ' CMAKE_READELF-NOTFOUND ' Call Stack ( most recent call first ): /Users/andrew/zephyr/cmake/compiler/gcc . cmake : 14 ( assert_exists ) /Users/andrew/zephyr/cmake/toolchain . cmake : 38 ( include ) /Users/andrew/zephyr/cmake/app/boilerplate . cmake : 242 ( include ) CMakeLists . txt : 1 ( include ) .	2	0
1 1 1.4 1.0 1.6 2.0 1.2 1.0 1.0 1.0 0.0 0 0.0 1 5 8 94	SPI Chip Select usage is not unambiguous . In the different SPI drivers for each of the SoC's i noticed that there's no control mentioned over the peripheral own chip select line(s ) . Only in case a GPIO is used , the behavior is defined . Some chipset have multiple CS lines per peripheral . There is no interface given to map devices to each of the chipsets . secondly , the flag SPI_HOLD_ON_CS is only used for the gpio version in all drivers , but the CS is never cleared in the release call , so at least a transfer is needed to clear the chip-select . This could be problemantic . E.g. In case the output of the first transaction tells the higher level driver , there's no use to continue to communicate , there's no means to set the chip-select inactive without doing another SPI transfer . ( Most drivers simply skip the chip select and configuration step when the config pointer didn't change and/or there are no buffers supplied .	1	0
1 1 1.4 1.0 1.4 1.0 1.45 1.5 1.3333333333333333 1.0 0.0 0 0.0 4 5 76 114	tests/kernel/critical failed on sam_e70_xplained board in v . 1.14 -branch . Bug causing infinite loop and test can not be successfully finished . Steps to reproduce the behavior : 1 . Switch to the v . 1.14 -branch 2 . $west build -p -b = sam_e70_xplained tests/kernel/critical 3 . $west flash 4 . See the error in minicom : $sudo minicom -D /dev/ttyACM0 -b 115200 Error output : * Booting Zephyr OS zephyr-v 1.14.1 -24-gfbc0a44987a9 Running test suite kernel_critical starting test - test_critical Booting Zephyr OS zephyr-v 1.14.1 -24-gfbc0a44987a9 Running test suite kernel_critical starting test - test_critical Booting Zephyr OS zephyr-v 1.14.1 -24-gfbc0a44987a9 Running test suite kernel_critical * Environment : OS : Fedora28 Toolchain : Zephyr-sdk- 0.10.3 Commit ID : fbc0a44987a94becf1dcaa6dc9b53a19857d0010 Additional information : Related issues #20445 Some solutions discussed #20585	2	0
2 2 1.2 2.0 1.1 1.0 1.2 1.0 0.6666666666666666 0.0 1.3617021276595744 47 1.0 1 6 15 69	sanitycheck : Over-zealous checking for binary sections . Steps to reproduce : : . /scripts/sanitycheck -- no-clean -- enable-slow -- inline-logs -j2 -s tests/bluetooth/shell/bluetooth . shell -p qemu_cortex_m3 . Output : : Building testcase defconfigs ... Filtering test cases ... 1 tests selected , 121412 tests discarded due to filters total complete : 1/ 1 100% failed : 0 FAILED : qemu_cortex_m3/tests/bluetooth/shell/bluetooth . shell has unrecognized binary sections : ['_settings_handlers_area ' ] 0 of 1 tests passed with 0 warnings in 20 seconds . Tested with master 74dbd835c36a4e3cb . This issue seems to affect only qemu_cortex_m3 . Initially spotted via Linaro CI : < URL > . The issue started within last 2 weeks ( our CI was broken due to SDK 0.10.1 during this window , so it's hard to specify more exact date ) .  	0	0
1 1 0.8 1.0 1.3 1.0 1.15 1.0 1.0 1.0 1.0815765352887259 1091 1.0 3 4 15 112	Nordic RTC base driver . Reported by Carles Cufi : Currently the Nordic RTC hardware peripheral is used directly from 2 different subsystems : drivers/timer/nrf_rtc_timer ( System Timer ) subsys/bluetooth/controller/hal/nrf5/cntr . c Instead we should have a single base drivers/rtc/nrf_rtc . c that is the reused by the 2 subsystems above . Things to take into account : Should we expose a full RTC peripheral , or a single Capture-Compare register per driver instance ? Is the rtc . h API enough or does it need to be extended ? Should we instead target the counter . h API , which seems more adequate for a Real Time Counter ? Assumptions * The RTC functions can be called from any IRQ priority except potential zero-latency IRQ priorities if CONFIG_ZERO_LATENCY_IRQS is configured . * The RTC interrupt handler itself can be configured to run at any non-zero-latency IRQ priority . * set_alarm () function first reads current counter value . If ( alarm_value > = now ) alarm will be triggered in current 32 counter cycle , otherwise it will be set in far future . It means that setting very short alarm needs precautions or even irq_locking () for avoiding preemption . These precautions are not implement in the driver , they should be taken in code layer that uses the driver . ( Imported from Jira ZEP-1808 )	1	1
1 1 0.8 1.0 1.1 1.0 1.3 1.0 0.6666666666666666 1.0 1.0 2 1.0 2 4 8 24	Coverity issue seen with CID : 178064 . In File : /tests/net/lib/coap/src/main . c Category : Memory - corruptions Function : test_block_size Component : Tests Please fix or provide comments to square it off in coverity in the link : < URL >  	0	0
2 2 1.4 2.0 1.5 2.0 1.5 2.0 1.3333333333333333 2.0 0.9883720930232558 602 1.0 2 2 9 115	Unified kernel isn't compatible with CONFIG_NEWLIB_LIBC . Reported by Paul Sokolovsky : I tried to give a unified kernel a try , and for a bigger application , was greeted by a big bunch of header warnings , followed by undefined references during linking . After some investigation , the culprit appears to be in CONFIG_NEWLIB_LIBC = y . Newlib , as POSIX-compliant library , ships , and that's what being picked up instead of kernel/unified/include/sche d.h. To reproduce , add CONFIG_NEWLIB_LIBC = y to samples/shell/microkernel/prj . conf and build with make KERNEL_TYPE = unified : : ... /mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr/kernel/unified/include/timeout _q.h : In function ' _handle_one_timeout ' : /mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr/kernel/unified/include/timeout _q.h : 113:3 : warning : implicit declaration of function ' _ready_thread ' [-Wimplicit-function-declaration ] _ready_thread(thread ); ... /mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr/kernel/unified/thread . c : 412 : undefined reference to `_is_thread_ready ' /mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr/kernel/unified/thread . c : 415 : undefined reference to `_is_thread_pending ' ... . ( Imported from Jira ZEP-1062 )  	0	0
0 0 0.6 0.0 0.7 0.5 0.95 1.0 0.6666666666666666 0.0 1.0847127555988316 1027 1.0 1 5 37 94	HTTP server sample that does not support up to 10 concurrent sessions . . Reported by jiequan wu : Configuration x86 Bug detailed description = = = = = = = = = = = = = = = = = = = HTTP server sample that does not support up to 10 concurrent sessions . = = = = = = = = = = = = = = = = = = 1 . cd samples/net/http_server 2 . Enable ipv4 and disable ipv6 prj_frdm_k64f . conf : CONFIG_NET_IPV4 = y CONFIG_NET_IPV6 = n 3 . make pristine && make BOARD = frdm_k64f 4 . copy the zephyr . bin file to the FRDM 5 . Connect FRDM to Ubuntu by the LAN 6 . Set ipv4 address on Ubuntu $ sudo ifconfig eth1 192.168.1.10 /24 7 . open serial port 8 . reset the FRDM 9 . $ . /test_http . sh { code } # ! /bin/bash for (( i = 0 ; i < 10 ; i++)) do { sleep 0.005 ; wget 192.168.1.101 /index . html & } done { code } serial port output : { code } [ dev/eth_mcux ] [ INF ] eth_0_init : Enabled 100M full-duplex mode . [ dev/eth_mcux ] [ DBG ] eth_0_init : MAC 00:04:9 f : 90:12 : ea Zephyr HTTP Server Address : 192.168.1.101 , port : 80 [ print_client_banner : 42 ] Connection accepted Address : 192.168.1.10 , port : 55048 [ http_ctx_get : 268 ] Free ctx found , index : 0 [ print_client_banner : 42 ] Connection accepted Address : 192.168.1.10 , port : 55160 [ http_ctx_get : 268 ] Free ctx found , index : 1 [ print_client_banner : 42 ] Connection accepted Address : 192.168.1.10 , port : 55164 [ http_ctx_get : 268 ] Free ctx found , index : 2 { code } When the index increase 2 , it can block(and reduce times still exists ) . And sometimes can output : { code } [ dev/eth_mcux ] [ ERR ] eth_rx : Failed to get fragment buf [ dev/eth_mcux ] [ ERR ] eth_rx : Failed to get fragment buf [ dev/eth_mcux ] [ ERR ] eth_rx : Failed to get fragment buf [ dev/eth_mcux ] [ ERR ] eth_rx : Failed to get fragment buf { code } ( Imported from Jira ZEP-1716 )	1	0
2 2 1.2 1.0 1.4 1.0 1.35 1.0 1.3333333333333333 1.0 2.0 2 2.0 1 5 16 56	Unclear definition of CONFIG_IS_BOOTLOADER . The : CONFIG_IS_BOOTLOADER . option was apparently introduced by STM for disabling vector relocation on Cortex-M0 . The naming or its usage is misleading since the config's help says ' Zephyr will act as a bootloader to execute ' but the config is selected in board files . What I would expect that this option is only used in applications that act as a bootloader such as MCUboot .	2	1
2 2 1.2 2.0 1.3 1.5 1.3 1.5 1.3333333333333333 2.0 1.4 5 2.0 1 2 13 74	esp32 fails to build with xtensa-esp32-elf-gcc : error : unrecognized command line option ' -no-pie ' . bisect says after commit : : commit 71b849f18c6af931a004754b3ebf76a5c1dfa715 cmake : Port Zephyr to use zephyr_check_compiler_flag This commit ports nearly all usage of check_c_compiler_flag , check_cxx_compiler_flag , and check_compiler_flag to use zephyr_check_compiler_flag instead . This has a significant CMake configure-time performance impact . Signed-off-by : Sebastian Be < sebastian.boe@nordicsemi.no > . hello world ( and multiple others ) starting failing to build with ZEPHYR_TOOLCHAIN_VARIANT = espressif ( v 5.2.0 ) , ESP_IDF rev v 3.0 -dev-388-gdc8c3389 : ... [ 89%] Building C object zephyr/kernel/CMakeFiles/kernel . dir/timer . c . obj [ 89%] Built target zephyr [ 90%] Linking C static library libkernel . a [ 90%] Built target kernel Scanning dependencies of target zephyr_prebuilt [ 92%] Building C object zephyr/CMakeFiles/zephyr_prebuilt . dir/misc/empty_file . c . obj [ 93%] Linking C executable zephyr_prebuilt . elf xtensa-esp32-elf-gcc : error : unrecognized command line option ' -no-pie ' .  	0	0
1 1 1.2 1.0 1.2 1.0 0.95 1.0 1.0 1.0 1.0838033843674455 1241 1.0 4 7 12 68	Add README . rst in the root of the project for github . Reported by Anas Nashif : Add a top level README . rst to be displayed on < URL > ( Imported from Jira ZEP-2055 )	1	2
0 0 0.2 0.0 0.8 0.5 1.1 1.0 0.3333333333333333 0.0 1.2121212121212122 33 1.0 3 7 20 205	POSIX subsys : transition to #include_next for header consistency . The POSIX subsystem injects a large number of standard headers into the include path to provide declarations required for POSIX when they may be missing in minimal libc . It currently uses detailed knowledge of underlying newlib and minimal libc private headers to re-use as much as possible . A similar problem has been solved for C++ by having Zephyr's minimal libc : stdint . h . use : #include_next < stdint . h > . to obtain material from the toolchain version while still enhancing the header contents for Zephyr-specific needs . This should be considered for the POSIX subsystem to reduce maintenance complexity . Relates to #13767 #17706	2	1
0 0 1.6 2.0 1.7 2.0 1.7 2.0 1.3333333333333333 2.0 0.9579288025889967 309 1.0 0 6 13 53	Zephyr shell/console is too inflexible . Reported by Paul Sokolovsky : With JerryScript/Zephyr port , which uses Zephyr shell API to get the input : : js > for ( var i = 0 ; i < 10000 ; i++) { a . push('foo ' ) ; } Too many parameters ( max 10 ) . Oops . And not much can be done here , because a level below the shell API is uart_register_input () with nano kernel fifo queues . I.e. you either get a nice generic callback-based shell API , but with argc/argv/MAX_NUM = 10 straightjacket , or need to do pretty low-level Zephyr-specific programming . It would be nice to solve it somehow on shell API level . For example , besides void shell_register_app_cmd_handler () , also have shell_register_app_line_handler () , which would receive original , unsplit char * line . Logic could be : on receiving a complete line , parse non-destructively a first word of it . If a word is matched against command array , parse line fully , call handler . Otherwise , if app_line_handler is set , pass lien verbatim to it . Otherwise , if app_cmd_handler is set , parse line , and feed argc/argv to the latter handler . Please let me know if this would make sense , I can prepare a patch . ( Imported from Jira ZEP-532 )	2	0
1 1 1.6 2.0 1.6 2.0 1.5 2.0 1.3333333333333333 1.0 1.0195804195804197 715 1.0 7 22 48 115	test_mbox_api failed @ARC @ARM . Reported by Sharron LIU : : Running test suite test_mbox_api tc_start () - test_mbox_api Exception vector : 0x00000003 , cause code : 0x00000004 , parameter 0x00000000 Address 0x40001a5c Fatal fault in thread ! Aborting . . This failure is observed @ARC @ARM , but not @X86 . Even though , not yet rule out test case issue . Please help to review . Additional infos : 1 . exception observed only when using mbox async send/recv . 2 . still observe failure after set mpool alignment to 8 . Attached the test case . How-to-reproduce source zephyr-env.sh uncomment this line in the ' prj . conf ' of the attached test case : #CONFIG_NUM_MBOX_ASYNC_MSGS = 2 make -C test_mbox_api BOARD = quark_se_c1000_ss_devboard flash ( Imported from Jira ZEP-1263 )  	0	0
2 2 1.4 2.0 1.2 1.5 1.15 1.0 1.6666666666666667 2.0 0.0 0 0.0 2 10 20 135	SHIELD not handled correct in CMake when using custom board . In CMakeLis t.t xt set BOARD_ROOT and SHIELD e . g set(BOARD_ROOT ${MY_CUSTOM_BOARD_ROOT }) set(SHIELD myShield ) . pull in the Zephyr boilerplate CMake will then look for the myShield DTS overlay in ${MY_CUSTOM_BOARD_ROOT}/boards/shields/myShield but it will look for the Kconfig . shield in ... /zephyr/boards/shields/myShield Furthermore is the SHIELD_AS_LIST only set to myShield , when CMake scans ${MY_CUSTOM_BOARD_ROOT } , it is empty when it scans zephyr/boards Expected behaviour would be both DTS overlay and Kconfig . shield was found in same location . First look for ${MY_CUSTOM_BOARD_ROOT}/boards/shields/myShield and if not found look for ... /zephyr/boards/shields/myShield	2	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.15 20 1.0 15 21 23 35	Coverity issue seen with CID : 178236 . Static code scan issues seen in File : /drivers/ieee802154/ieee802154_mcr2 0a.c Category : Memory - corruptions Function : _mcr20a_read_burst Component : Drivers Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 2.0 1.0 1.0 0.95 1.0 1.6666666666666667 2.0 1.2272727272727273 22 1.0 0 13 27 196	Bluetooth : Multiple issues with net_buf usage . There's code using BT_BUF_USER_DATA_MIN even though this has been meaningless for awhile due to the global Kconfig setting for all net_bufs . What's worse , BT_BUF_USER_DATA_MIN isn't flagged as deprecated . The memory footprint got recently bloated because HCI command user data got moved into a separate array Luckily , thanks to the previous point , we can reduce the Bluetooth default net_buf user data size from 8 to 4	2	0
0 0 1.0 1.0 1.3 1.5 1.2 1.0 0.6666666666666666 1.0 1.0707213578500707 1414 1.0 2 11 14 96	( New ) Networking API details documentation is missing . Reported by David Kinder : A Zephyr OS user reported , ' I was just looking at Zephyr networking API docs and it seems like functions are missing , maybe due to the networking renaming a month or two ago . For example , function {{ net_pkt_ge t_t x }} is not there , although there is documentation in {{ include/net/net_pkt . h }} that I assume it would get generated from . Maybe the file {{ net_pkt . h }} isn't being parsed for docs ? ' Indeed , while there are {{ @brief }} and other doxygen comments in {{ include/net/net_pkt . h }} , the expected {{ @defgroup }} ( or {{ @ingroup }}) comments are missing , along with a reference to that groupname in the {{ doc/api/networking . rst }} file . Looking further into this , there are more {{ . h }} files with API documentation not being included in our generated API documentation set . Go through all the {{ include/net/}} {{ . h }} files and include the expected doxygen comments as appropriate , and update the {{ doc/api/networking . rst }} file to complete the generated documentation that's now missing API information . ( Imported from Jira ZEP-2308 )	1	2
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.1818181818181819 11 1.0 1 2 3 65	Get 96Boards boards compliant with default configuration guidelines . Created from #7151 , dedicated to 96Boards boards Following introduction of ' default board configuration guidelines ' ( #6858 ) , one part of the work is to move boards already ported to zephyr to conform with guidelines available here : < URL > < URL > could be used as reference for this update .	1	1
2 2 1.0 1.0 1.0 1.0 1.15 1.0 1.3333333333333333 2.0 0.9699812382739212 533 1.0 19 41 51 132	Revise documentation for Timing . Reported by Benjamin Walsh : Update ' Timing ' section of Kernel Primer ( v2 ) . ( Imported from Jira ZEP-923 )  	0	1
2 2 1.0 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 2.0 1.0820189274447949 1268 1.0 4 6 17 67	build problems with gen_idt . Reported by Anas Nashif : When building for X86 , gen_idt build fails sporadically : SIDT staticIdt . o gen_idt -i < input file > -n < n > /usr/local/src/zephyr/arch/x86/Makefile . idt : 35 : recipe for target ' staticIdt . o ' failed make[2 ]: *** [ staticIdt . o ] Error 255 make[2 ]: Leaving directory ' /usr/local/src/zephyr/samples/net/wpanusb/outdir/quark_se_c1000_devboard ' Makefile : 177 : recipe for target ' sub-make ' failed make[1 ]: *** [ sub-make ] Error 2 make[1 ]: Leaving directory ' /usr/local/src/zephyr ' /usr/local/src/viper/tiny-mountain/Makefile . inc : 82 : recipe for target ' all ' failed make : *** [ all ] Error 2 . ( Imported from Jira ZEP-2101 )  	0	0
0 0 1.4 2.0 0.8 0.5 0.85 1.0 1.0 1.0 1.075268817204301 1116 1.0 8 22 29 132	Ring Separation . Reported by Robert Beatty : As a developer I need separation between ring 0 and ring 3 for security . ( Imported from Jira ZEP-1850 )  	0	1
1 1 1.4 2.0 1.7 2.0 1.75 2.0 1.6666666666666667 2.0 1.0689655172413792 29 1.0 7 19 47 94	dts/st : fix stm32l4 gpioh node address . Fix erroneous address header in stm32l4 . dtsi Signed-off-by : Erwan Gouriou < URL >	2	0
2 2 1.6 2.0 1.6 2.0 1.6 2.0 2.0 2.0 1.4603174603174602 126 2.0 9 17 29 84	[ Coverity CID : 203515]Uninitialized variables in /drivers/flash/flash_stm32l 4x.c . Static code scan issues seen in File : /drivers/flash/flash_stm32l 4x.c Category : Uninitialized variables Function : erase_page Component : Drivers CID : 203515 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.2 2.0 1.3 1.5 1.5 2.0 0.6666666666666666 0.0 0.0 0 0.0 0 1 4 21	k_queue_poll returns NULL with K_FOREVER . When running with < URL > we still see instances on Cortex-M4 ( nRF52832 ) where k_queue_poll returns NULL , traced down to sys_slist_get () returning NULL , something that should never happen . We can reproduce relatively easily , although it seems to be a race condition .  	0	0
1 1 1.0 1.0 0.9 1.0 0.6 0.5 1.0 1.0 1.082116788321168 1096 1.0 3 8 18 114	Add tickless kernel support in ARCV2 timer . Reported by Ramesh Thomas : Update the ARCV2 timer to support tickless kernel . It should interface with the tickless kernel APIs provided by the kernel and implement an event based management of time . It should also track time using wall time ( MS or US ) instead of ticks . ( Imported from Jira ZEP-1817 )	1	1
2 2 1.8 2.0 1.7 2.0 1.45 1.5 1.6666666666666667 2.0 1.071481757259866 1343 1.0 1 20 27 85	[ PTS ] PTS server stops working while executing TC_SEC_CSIGN_BV_01_C test case . Reported by Diwanker Pandey : Autopts server stops working very often while executing TC_SEC_CSIGN_BV_01_C test case of GAP protocol . I tested this on Arduino_101 . It passed occasionally but autopts server getting crashed frequently . Zephyr revision : master/98e14bc67d832cfbdae46d2c42f1af259ae61b5a Hardware : Windows Host : Win10 64bit Enterprise , HP Elitebook with Intel Core i5-5300 @2 . 30GHZ , 8GB Memory ( Imported from Jira ZEP-2207 )	1	0
1 1 1.2 1.0 0.9 1.0 0.95 1.0 1.6666666666666667 2.0 1.071529745042493 1412 1.0 5 10 14 94	linker : implement MMU alignment constraints . Reported by Andrew Boie : This task is for devices with an MMU with fixed-size memory pages ( 4K on x86 ) . We have some discrete memory areas : ROM ( on flash in XIP devices ) Program text rodata Kernel-owned RAM region Data bss ** noinit including all thread stacks Application owned RAM region ( currently singleton , future may have multiple ) Data bss ** noinit We need to make sure in the linker script : - Stacks are all page aligned , and a multiple of the page size - Beginning of kernel memory is page aligned - Beginning of app memory is page aligned ( Imported from Jira ZEP-2305 )  	0	1
2 2 1.4 2.0 1.4 2.0 1.55 2.0 1.6666666666666667 2.0 1.6 5 2.0 1 5 12 62	uart ns16550 driver add DesignWare APB Busy Detect interrupt support . Is your enhancement proposal related to a problem ? Please describe . The DesignWare APB UART has a feature which causes a new Busy Detect interrupt to be generated if it's busy when the LCR is written . When Busy Detect interrupt generated , we need to read the UART status register to reset it . Similar fix in Linux kernel : < URL > relative issue ; #36254	2	1
2 2 1.4 1.0 1.3 1.0 1.2 1.0 1.6666666666666667 2.0 1.1290322580645162 62 1.0 6 7 23 88	ARC MPU version 3 is configured incorrectly . Unlike all our other targets , the ARC MPU version 3 is configured so that supervisor mode does not have default access to RAM . This was covered up by a hack in the app shared memory test , which had to disable the MPU in order to initialize application shared memory bss : : #if defined(CONFIG_ARC ) /* * appmem_init_app_memory will access all partitions * For CONFIG_ARC_MPU_VER = = 3 , these partitions are not added * into MPU now , so need to disable mpu first to do app_bss_zero () */ arc_core_mpu_disable (); appmem_init_app_memory (); arc_core_mpu_enable (); #else appmem_init_app_memory (); #endif . This is not correct . Supervisor mode ( the kernel ) needs free access to the entirety of system RAM , we are only using memory domains to control user mode access to memory . Please fix the ARC MPU ver 3 background map to allow supervisor mode access , so that the policy is the same for ARC MPU version 2 , ARM , and x86 .  	0	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1378531073446327 1770 1.0 12 18 23 114	[ Coverity CID : 210598 ] Missing break in switch in subsys/net/l2/ieee802154/ieee802154_frame . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : validate_mac_command . Component : Networking CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.8 2.0 1.3 1.5 1.25 1.0 2.0 2.0 1.306930693069307 101 1.0 8 22 29 129	doc : power management : Remove references to previous PM states terminology . Describe the bug Following merge of < URL > < URL > was not updated . Particularly the following terminology is not up to date anymore : : : dfn : `Active State` The CPU and clocks are powered on . This is the normal operating state when the system is running . : dfn : `Sleep State` Some of the SoC clocks are gated . The CPU is stopped but does not lose execution context . Configuration of the peripherals is preserved . : dfn :`D eep Sleep State` The SoC is power gated and loses context . Most peripherals would also be power gated . RAM may be selectively retained . : dfn : `Idle Thread` A system thread that runs when there are no other threads ready to run . : dfn : `Power gating` Power gating reduces power consumption by shutting off current to blocks of the integrated circuit that are not in use . . To Reproduce See doc . Impact Confusion  	0	0
2 2 1.4 1.0 1.5 2.0 1.45 2.0 1.6666666666666667 2.0 1.25 8 1.5 1 3 23 81	[ v 2.2 . x ] lib : updatehub : Improve download on slow networks and security fix . Describe the bug Fix download on slow networks ( 2G modems ) . To Reproduce Use of UpdateHub on wireless networks with slow signal and re-transmissions . Expected behavior Improve user experience and apply missing security fix . Zephyr 2.2	2	0
1 1 1.0 1.0 1.4 1.0 1.35 1.0 1.0 1.0 1.0238805970149254 670 1.0 3 14 19 78	Wrong ATT error code passed to the application . Reported by Mariusz Skamra : Wrong ATT error code is passed to the application , if ATT Insufficient Authentication error is received after retrying . IUT connect to PTS and try to read a value . ATT Insufficient Authentication Error is received , so IUT try to pair . Because IO caps are set to NoInputNoOutput , IUT receives ATT Insufficient Authentication error again , on the second read attempt . ATT Unlikely Error is passed to the application which breaks ATT error code verification in tester . The proper error is received by ATT , but it is changed to Unlikely Error here : att_error_rsp () in att . c : if ( ! att -> req || ! att -> req -> buf ) { err = BT_ATT_ERR_UNLIKELY ; goto done ; } So that application receives Unlikely Error which affects PTS test cases : TC_GAR_CL_BI_04_C , TC_GAR_CL_BI_16_C , TC_GAR_CL_BI_21_C , TC_GAR_CL_BI_26_C , TC_GAR_CL_BI_32_C , TC_GAW_CL_BI_05_C , TC_GAW_CL_BI_12_C , TC_GAW_CL_BI_23_C , TC_GAW_CL_BI_30_C ( Imported from Jira ZEP-1195 )	1	0
2 2 2.0 2.0 1.9 2.0 1.9 2.0 2.0 2.0 1.171459576776994 1843 1.0 0 1 7 122	[ Coverity CID : 211049 ] Macro compares unsigned to 0 in arch/x86/core/x86_mmu . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : is_within_system_ram . Component : Architectures CID : < URL > Details : : 667 static inline bool is_within_system_ram(uintptr_t addr ) 668 { 669 #ifdef CONFIG_X86_64 670 /* FIXME : locore not included in CONFIG_SRAM_BASE_ADDRESS */ 671 return addr < ( PHYS_RAM_ADDR + PHYS_RAM_SIZE ); 672 #else >>> CID 211049 : Integer handling issues ( NO_EFFECT ) >>> This greater-than-or-equal-to-zero comparison of an unsigned value is always true . ' addr > = 0UL ' . 673 return ( addr > = PHYS_RAM_ADDR ) && 674 ( addr < ( PHYS_RAM_ADDR + PHYS_RAM_SIZE )); 675 #endif 676 } 677 678 /* Ignored bit posiition at all levels */ . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.4 2.0 1.4 1.5 1.35 1.5 1.0 1.0 1.0973084886128364 966 1.0 1 9 32 92	File system on Arduino 101 cannot create ( or delete ) files . Reported by James Prestwood : On a fresh Arduino 101 ( or by changing the default file name ) the FAT test will not work ( tests/fs/fat_fs/) . The issue is creating the file . If the file ( testfile . txt ) already exists the test runs normally , but if the name is changed or it does not exist from the start the test will not succeed . Removing files ( unlink ) does not work either . The Zephyr API , fs_unlink () , will return successfully but the file still exists . ( Imported from Jira ZEP-1628 )	1	0
0 0 1.0 1.0 0.9 0.5 0.75 0.0 1.3333333333333333 2.0 0.9956427015250545 459 1.0 33 37 40 83	HTTP v 1.1 Server Sample . Reported by Gajinder Vij : As a Zephyr developer , I would like a sample application of a basic HTTP v 1.1 compliant server with support for GET . The server should serve a basic welcome page with ' hello world ' to a HTTP client connecting over the network and optionally should have additional dynamic data such as a time stamp or sensor data , for example temperature , if available on the SoC or the board . ( Imported from Jira ZEP-820 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.35 1.0 1.0 1.0 1.542857142857143 35 2.0 14 17 32 77	[ Coverity CID : 187068 ] Memory - illegal accesses in /subsys/bluetooth/host/mesh/cfg_srv . c . Static code scan issues seen in File : /subsys/bluetooth/host/mesh/cfg_srv . c Category : Memory - illegal accesses Function : bt_mesh_cfg_reset Component : Bluetooth CID : 187068 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.080545229244114 1614 1.0 4 6 9 85	Coverity issue seen with CID : 175362 , in file : /subsys/bluetooth/host/smp . c . Reported by Shilpashree L C : Static Coverity issue seen as per the analyses done on 09/09/17 Category : Memory - corruptions Function : legacy_distribute_keys Please fix or provide comments to square it off in coverity in the link : < URL > ( Imported from Jira ZEP-2605 )	1	0
1 1 1.2 1.0 1.5 2.0 1.6 2.0 1.6666666666666667 2.0 1.0803886925795052 1132 1.0 4 14 29 138	' samples/grove/temperature ' : warning raised when generating configure file . Reported by Sharron LIU : When build sample app ' grove/temperature ' , waring ' override : reassigning to symbol GROVE ' raised . Please review and clean it up . Thanks . : sharron @u1304 -liuxr : ~ /workspace/views/iot/zephyr/samples/grove/temperature$ make BOARD = quark_d2000_crb Using /home/sharron/workspace/views/iot/zephyr/boards/x86/quark_d2000_crb/quark_d2000_crb_defconfig as base Merging /home/sharron/workspace/views/iot/zephyr/kernel/configs/kernel . config Merging prj . conf . config : 28 : warning : override : reassigning to symbol GROVE # # configuration written to . config # . how-to-reproduce source zephyr-env.sh cd samples/grove/temperature make BOARD = quark_d2000_crb verify the configure warning raised at the very beginning ( Imported from Jira ZEP-1880 )	2	0
2 2 1.6 2.0 1.6 2.0 1.3 1.0 1.6666666666666667 2.0 0.0 0 0.0 2 18 20 65	LwM2M : Fix BT device pending / retry errors . In the bluetooth L2 layer the packets are being compressed prior to send . This means we cannot merely resend the existing packets upon a packet timeout in the LwM2M / CoAP libraries . Much like they do in the TCP subsystem , we need to make a clone of the original data for the pending / retry process . As a result , we are seeing a double unref on NON-bluetooth devices : < URL > And on bluetooth devices the retry process fails w/ ENOMEM (-12 ) .	2	0
2 2 0.8 1.0 1.1 1.0 1.0 1.0 0.6666666666666666 0.0 1.0798502807236432 1603 1.0 1 10 12 103	memory protection : implicit kernel object permissions . Reported by Andrew Boie : As a developer , it would be really nice to have a way to assign object permissions to threads statically , given that the objects and threads are static objects . Would be even nicer to have it be implicit , along the lines of ' a static thread has access to any static kernel object declared in the same C source file ' ( Imported from Jira ZEP-2585 )	1	1
1 1 0.8 1.0 0.8 1.0 0.95 1.0 0.6666666666666666 1.0 1.0948827292110874 938 1.0 4 5 22 78	Define yaml descriptions for UART devices . Reported by Andy Gross : For parsing purposes , we need to define YAML descriptions of the the common UART device and also of the SoC specific pieces which may extend the common UART definitions . ( Imported from Jira ZEP-1589 )	2	1
1 1 1.6 2.0 1.5 1.5 1.45 1.5 1.3333333333333333 1.0 1.1578947368421053 19 1.0 7 42 115 166	Use of unaligned noinit data hangs qemu_arc_hs . Describe the bug Placing not aligned variable in noinit section hangs execution on : qemu_arc_hs . . To Reproduce Modify hello_world by adding following to : main () . : static uint8_t __noinit foo ; printk('%d/n ' , foo ); . Build and run : samples/hello_world . for : qemu_arc_hs . . Observe that nothing is printed ( even boot banner ) . Add : __aligned(sizeof(int )) . to : foo . variable or remove : __noinit . and check that data is printed . Expected behavior Sample should run . Environment ( please complete the following information ): - Commit 49e06ea1e4 Issue is a root cause of #37861 .	2	0
0 0 0.6 0.0 0.6 0.0 0.9 1.0 0.3333333333333333 0.0 0.9896373056994818 386 1.0 2 11 18 67	tests/kernel/test_lifo : execution fails on ARC . Reported by Inaky Perez-Gonzalez : Execution of this test case on ARC fails to produce any output , thus PROJECT EXECUTION SUCCESSFUL or FAILURE not seen $ git clone < URL > $ cd $(basename < URL > $ git checkout 5a8add7821562fa57a46414b446fb60b6a15ce52 ( Imported from Jira ZEP-693 )  	0	0
1 1 1.2 1.0 1.1 1.0 0.95 1.0 1.0 1.0 1.2857142857142858 21 1.0 21 21 21 21	Low duty cycle direct BLE advertising . Reported by Javier B Perez : Low duty cycle direct LE advertising ( Imported from Jira ZEP-28 )	1	1
1 1 1.4 1.0 1.3 1.0 1.25 1.0 1.3333333333333333 1.0 0.7142857142857143 7 0.0 15 31 47 122	samples/sensor/apds9960 fails with assertion ' Fatal fault in essential thread ' on quark_se_c1000_ss_devboard . The test samples/sensor/apds9960 results into exception on arc core . Arch : arc Board : quark_se_c1000_ss_devboard Zephyr tag : v 1.12.0 -rc1 - commit e7509c17c5938b48f9ad4b7ae78199bb0faa6113 . Pre-requisite : Sensor connected on I2C SCL , SDA pins of arc core . Error : : ****** Booting Zephyr OS v 1.12.0 -rc1-41-gfcc56e3 ***** APDS9960 sample application Exception vector : 0x3 , cause code : 0x4 , parameter 0x0 Address 0x40002248 Current thread ID = 0xa8000508 Faulting instruction address = 0x40002248 Fatal fault in essential thread ! Spinning ... . The test was working fine till zephyr-v 1.11.0 tag . Steps to reproduce : : ** For running APDS9960 application on the sensor subsystem ( ARC ) side of quark_c1000 : ** rm -rf build && mkdir build && cd build cmake -D BOARD = quark_se_c1000_ss_devboard .. / make BOARD = quark_se_c1000_ss_devboard flash ** Additionally , flash the boot stub to enable messages from the ARC processor : ** cd zephyr . git/tests/booting/stub mkdir build && cd build cmake -D BOARD = quark_se_c1000_devboard .. / make BOARD = quark_se_c1000_devboard flash Check the console log . . Expected output : : ***** BOOTING ZEPHYR OS v 1.11.0 - BUILD : May 23 2018 20:29:24 ***** APDS9960 sample application ambient light intensity without trigger is 0 proxy without trigger is 42 ambient light intensity without trigger is 211 .  	0	0
2 2 2.0 2.0 2.0 2.0 1.75 2.0 2.0 2.0 1.2085670576236613 1961 1.0 19 24 37 78	[ Coverity CID : 215375 ] Out-of-bounds access in tests/net/lib/dns_sd/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : test_add_aaaa_record . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.4 2.0 1.3 1.5 1.3 2.0 2.0 2.0 1.0825471698113207 1272 1.0 1 9 19 68	IP stack : Ideas for optimizations . Reported by Paul Sokolovsky : These are background ideas how to squeeze more free code bytes/cpu cycles from IP stack . nothing here is priority for now , while we still work on making it functionally complete and hunt bugs . In pretty many places we use uint16_t , for RISCs this likely leads to more instructions generated than uint32_t . In net_ipv4_finalize_raw()/net_ipv6_finalize_raw () we call net_pkt_compact () , which is kinda away from ' zero-copy ' behavior . Consider if things like 6lowpan over BLE/ 802.15.4 can send non-full frames as parts of IPv6 packet . Similarly for other L2's . ( Imported from Jira ZEP-2106 )	2	1
0 0 0.0 0.0 0.1 0.0 0.2 0.0 0.0 0.0 0.9166666666666666 144 1.0 13 14 29 143	Convert drivers/serial/uart_sam0 . c to new kwork API . Convert drivers/serial/uart_sam0 . c to use new kwork API . See the following issue for details : 33104  	0	0
2 2 1.4 1.0 1.4 1.0 1.25 1.0 1.6666666666666667 2.0 1.3522727272727273 176 1.0 39 51 73 177	[ Coverity CID : 190956]Error handling issues in /samples/net/sockets/can/src/main . c . Static code scan issues seen in File : /samples/net/sockets/can/src/main . c Category : Error handling issues Function : setup_socket Component : Samples CID : 190956 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.080395794681509 1617 1.0 7 9 12 88	Coverity issue seen with CID : 175359 , in file : /subsys/bluetooth/host/hci_core . c . Reported by Shilpashree L C : Static Coverity issue seen as per the analyses done on 09/09/17 Category : Memory - corruptions Function : create_random_addr Please fix or provide comments to square it off in coverity in the link : < URL > ( Imported from Jira ZEP-2608 )	1	0
1 1 0.8 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 1.019736842105263 152 1.0 1 9 30 46	Add a BOARD/SOC porting guide . Reported by Anas Nashif : Now that we have an architecture porting guide , we need a board and SoC/Platform porting guide to help with adding new boards and platforms . ( Imported from Jira ZEP-248 )	1	2
2 2 1.6 2.0 1.4 2.0 1.15 1.0 1.6666666666666667 2.0 1.0856911883589329 1237 1.0 1 3 12 66	Move away from C99 types to zephyr defined types . Reported by Kumar Gala : Since the C-std { u}int{8 , 16 , 32 , 64}_t gets us into issues with supporting different libc across the various architectures since compilers seem to vary greatly in how the define these types , I suggested to the Zephyr TSC and got approval that we should move to our own internal defined size types . I suggesting that we make the following conversion : int{8 , 16 , 32 , 64}_t -> s{8 , 16 , 32 , 64}_t uint{8 , 16 , 32 , 64}_t -> u{8 , 16 , 32 , 64}_t ( The _t is to deal with some places that that u8 , and u16 are getting used as variable names . ) ( Imported from Jira ZEP-2051 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3611111111111112 144 1.0 7 19 41 145	[ Coverity CID : 191001]Control flow issues in /subsys/net/lib/lwm2m/lwm2m_rw_json . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_rw_json . c Category : Control flow issues Function : put_json_postfix Component : Networking CID : 191001 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.8 2.0 1.3 1.5 1.35 1.5 2.0 2.0 0.9677996422182469 559 1.0 3 9 45 151	Quark SE C1000 GPIO30 is always high . . Reported by Rahul Singh : Quark SE AP_SPI0_SS_CS3_N_GPIO30 is always in high state . We Configure the pin using gpio_pin_configure and pinmux_pin_get API's as OUTPUT pin and tried to make it as LOW , it always in high state . ( Imported from Jira ZEP-962 )	2	0
2 2 1.4 2.0 1.3 1.0 1.35 1.0 1.0 1.0 1.0 1 1.0 3 7 23 131	Unable to extend the flash sync API part of the BLE Controller . Describe the bug < URL > introduced a choice to select which flash driver sync interface to use . The intent was to be able extend this out-of-tree . Unfortunately that is not possible because the choice is unnamed . To Reproduce Try to add a new flash driver sync interface Expected behavior It is possible to add another sync interface Impact It is impossible to add new flash driver sync interfaces out-of-tree .	2	0
2 2 1.8 2.0 1.5 1.5 1.4 1.0 1.6666666666666667 2.0 0.0 0 0.0 0 1 15 48	Function typedef issue when generating htmldocs . . While generating htmldocs we can see some errors about function typedefs with following messages : Invalid definition : Expected identifier in nested name . Here is more robust example . I have declared following typedef : : typedef void (* wdt_callback_t)(struct device * dev , void * handle ); . When I try to build htmldocs I get some errors with following structure : : Invalid definition : Expected identifier in nested name . [ error at 4 ] void (* wdt_callback_t ) ( struct device * dev , void * handle ) ---- ^ . There are also some issues for http_send_data_t : : int (* http_send_data_t ) ( struct net_pkt * pkt , net_context_send_cb_t cb , s32_t timeout , void * token , void * user_data ) . : If declId , parameters , and qualifiers : Invalid definition : Expecting ' , ' or ' )' in parameters_and_qualifiers , got ' p ' . [ error at 41 ] int (* http_send_data_t ) ( struct net_pkt * pkt , net_context_send_cb_t cb , s32_t timeout , void * token , void * user_data ) ----------------------------------------- ^ .	2	2
2 2 1.4 2.0 1.4 2.0 1.4 2.0 1.3333333333333333 2.0 1.631578947368421 19 2.0 3 6 13 66	mgmt : updatehub : Use coap_packet_get_payload function . The #36758 fixes : coap_packet_get_payload . function by normalizing offset value in the library , which add a regression on UpdateHub . However , UpdateHub can now use : coap_packet_get_payload . function instead manually compute payload start and payload size . This refactors the current code in favor of : coap_packet_get_payload . and fix the regression . Signed-off-by : Gerson Fernando Budke < URL > CC : @otavio	2	0
2 2 1.8 2.0 1.8 2.0 1.75 2.0 2.0 2.0 1.5 4 1.5 7 37 49 126	cc2650_sensortag_defconfig assigned missing Kconfig symbols ( now dead code ) . The following Kconfig symbols never existed , but are assigned in : boards/arm/cc2650_sensortag/cc2650_sensortag_defconfig . : PINMUX_CC2650_INIT_PRIO CC2650_TRNG_IRQ_PRIO CC2650_TRNG_ENTROPY_GENERATOR Only the last one is referenced elsewhere , giving some dead code : : arch/arm/soc/ti_simplelink/cc2650/soc . c : #ifdef CONFIG_CC2650_TRNG_ENTROPY_GENERATOR arch/arm/soc/ti_simplelink/cc2650/soc . c : defined(CONFIG_CC2650_TRNG_ENTROPY_GENERATOR ) || / arch/arm/soc/ti_simplelink/cc2650/soc . c : #if defined(CONFIG_GPIO_CC2650 ) || defined(CONFIG_CC2650_TRNG_ENTROPY_GENERATOR ) arch/arm/soc/ti_simplelink/cc2650/soc . c : #ifdef CONFIG_CC2650_TRNG_ENTROPY_GENERATOR arch/arm/soc/ti_simplelink/cc2650/soc . c : #if defined(CONFIG_GPIO_CC2650 ) || defined(CONFIG_CC2650_TRNG_ENTROPY_GENERATOR ) . The : #ifdef . s were renamed by commit da9b0ddf5beb ( Rename : random . to : entropy . ) , but no symbol with the old name exists either .	2	0
2 2 1.6 2.0 1.3 1.5 1.5 2.0 2.0 2.0 1.8 10 2.0 12 13 85 140	sys : timeutil : inconsistent types for local times . Describe the bug The integer types for local times for timeutil conversion functions : timeutil_sync_ref_from_local . and : timeutil_sync_local_from_ref . are inconsistent . One presumes the local time is a signed 64bit integer , while the other assume an unsigned 64bit integer . < URL > < URL >	1	0
1 1 1.0 1.0 1.4 1.0 1.4 1.0 1.0 1.0 1.5454545454545454 33 2.0 39 44 70 248	[ Coverity CID : 195758]Uninitialized variables in /drivers/usb/device/usb_dc_nrfx . c . Static code scan issues seen in File : /drivers/usb/device/usb_dc_nrfx . c Category : Uninitialized variables Function : usbd_event_handler Component : Drivers CID : 195758 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.2 1.0 1.1 1.0 0.9 1.0 1.0 1.0 1.014367816091954 696 1.0 5 19 42 100	cortex M7 port assembler error . Reported by prasanna karthik : Enable CONFIG_CPU_CORTEX_M7 will result in compilation error . cflag for cortex-m7 is missing ' -march ' option /mnt/data/github/zephyr/arch/arm/core/swap . S : Assembler messages : /mnt/data/github/zephyr/arch/arm/core/swap . S : 84 : Error : selected processor does not support requested special purpose register -- : mrs ip , PSP ' /mnt/data/github/zephyr/arch/arm/core/swap . S : 120 : Error : selected processor does not support requested special purpose register -- . msr BASEPRI , r0 ' /mnt/data/github/zephyr/arch/arm/core/swap . S : 213 : Error : selected processor does not support requested special purpose register -- : msr BASEPRI , r0 ' /mnt/data/github/zephyr/arch/arm/core/swap . S : 225 : Error : selected processor does not support requested special purpose register -- . msr PSP , ip ' /mnt/data/github/zephyr/arch/arm/core/swap . S : 280 : Error : selected processor does not support requested special purpose register -- : mrs r2 , PSP ' /mnt/data/github/zephyr/arch/arm/core/swap . S : 292 : Error : selected processor does not support requested special purpose register -- . msr BASEPRI , r0 ' make[5 ]: [ arch/arm/core/swap . o ] Error 1 make[4 ]: [ arch/arm/core ] Error 2 make[3 ]: [ arch/arm ] Error 2 make[2 ]: [ arch ] Error 2 make[2 ]: Leaving directory ( Imported from Jira ZEP-1226 )	2	0
1 1 1.0 1.0 1.0 1.0 1.45 1.0 1.0 1.0 0.0 0 0.0 1 3 23 88	[ Coverity CID : 185523 ] Memory - illegal accesses in /drivers/sensor/lsm6dsl/lsm6dsl . c . Static code scan issues seen in File : /drivers/sensor/lsm6dsl/lsm6dsl . c Category : Memory - illegal accesses Function : lsm6dsl_odr_to_freq_val Component : Drivers CID : 185523 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.6 2.0 1.5 2.0 1.4 2.0 1.3333333333333333 2.0 0.9596541786743515 347 1.0 4 8 17 58	DELETE method on observable resource does not always create notification with correct response code . . Reported by Biswanath Goswami : DELETE method on observable CoAP resource does not always send correct notification . Notifications are always of type Content ( 2.05 ) for observable resources . As per the RFC 7641 , behavior should be as follows , ?A notification SHOULD have a 2.05 ( Content ) or 2.03 ( Valid ) response code . However , in the event that the state of a resource changes in a way that would cause a normal GET request at that time to return a non-2 . xx response ( for example , when the resource is deleted ) , the server SHOULD notify the client by sending a notification with an appropriate response code ( such as 4.04 Not Found ) and subsequently MUST remove the associated entry from the list of observers of the resource . ?But 4.04 ( Not Found ) response code is never sent from observable resource . Steps to reproduce : On zephyr code : In file zephyr/samples/net/coap_server/src/coap-server . c , Uncomment the below line , rest_activate_resource(&res_plugtest_obs , ' obs ' ) ; Build coap_server application with the attached config file for atlas peak board and flash . On Test Master : Run below Californium CoAP Plugtest , CO07 : TD_COAP_OBS_07 : Server cleans the observers list on DELETE ( Imported from Jira ZEP-600 )	2	0
1 1 1.0 1.0 1.3 1.0 1.4 1.0 1.0 1.0 1.4595744680851064 235 1.0 7 16 24 62	[ Coverity CID : 205651]Uninitialized variables in /drivers/dma/dma_stm32 . c . Static code scan issues seen in File : /drivers/dma/dma_stm32 . c Category : Uninitialized variables Function : dma_stm32_configure Component : Drivers CID : 205651 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 1.1 1.0 1.2 1.0 0.6666666666666666 0.0 1.0711111111111111 1350 1.0 3 7 29 88	Master Branch not building on Windows using MinGW/MSYS . Reported by Mahmoud Al-Ashi : Trying to build a simple Hello World sample from the Zephyr 1.7.99 ( master branch ) on Windows for Intel(R ) Quark(TM ) D2000 but we are getting this error : LD src/built-in . o AR libzephyr . a LINK zephyr . lnk c : /ws/Hello_world/zephyr/scripts/Makefile . build : 46 : /c/ws/Hello_world/zephyr/c : /ws/Hello_world/zephyr/scripts/gen_idt/Makefile : No such file or directory Notice the highlighted issue up . On line 44 of the file zephyr/scripts/Makefile . build , you are concatenating $src to $srctree . The problemis , $src is in Windows format while $srctree is in linux format . I manually replaced $src on line 44 by ?scripts/gen_idt ?to avoid the concat but got the following error CHK include/generated/version . h make[3 ]: No rule to make target : scripts/basic/version . c ' , needed by . scripts/basic/version . o ' . Stop . make[2 ]: [ scripts_basic ] Error 2 make[2 ]: Leaving directory `/c/ws/Hello_world/outdir/quark_d2000_crb ' make[1 ]: *** [ sub-make ] Error 2 ( Imported from Jira ZEP-2216 )  	0	0
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.3333333333333333 1.0 1.02710027100271 738 1.0 2 10 24 125	ARM LTD V2M Beetle Support [ Phase 2 ] . Reported by Vincenzo Frascino : Add support for ARM LTD Beetle SoC and V2M Beetle board . The Beetle IoT evaluation platform is built around the ARM IoT subsystem for Cortex-M processors which allows design teams to create IoT endpoints faster and with lower risk . Reference : < URL > Goals : Phase 1 : Boot Zephyr on Beetle with basic drivers ( UART , GPIO , Pinmux , clocks ) and be able to pass basic tests . Phase 2 : Port all the Beetle platform peripheral drivers ( i.e. Timers , RTC , Watchdog , I2C , SPI , FlashCache ) . Phase 3 : Enable BLE on Beetle . Phase 4 : Enable Power Management on Beetle . ( Imported from Jira ZEP-1300 )	2	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3728813559322033 118 1.0 3 7 10 41	[ Coverity CID : 190640]Null pointer dereferences in /drivers/wifi/eswifi/eswifi_core . c . Static code scan issues seen in File : /drivers/wifi/eswifi/eswifi_core . c Category : Null pointer dereferences Function : eswifi_init Component : Drivers CID : 190640 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 1.0 1.0 1.25 1.0 0.3333333333333333 0.0 1.309090909090909 110 1.0 3 8 16 72	Build failure : samples/net/civetweb/http_server using target stm32h735g_disco . Describe the bug Build fail when compiling samples/net/civetweb/http_server using stm32h735g_disco target . Issue only visible when explicitly running twister using this target . @benediktibk can you have a check ?  	0	0
2 2 1.6 2.0 1.3 1.0 1.05 1.0 1.6666666666666667 2.0 1.0194902548725637 667 1.0 6 13 19 80	SoC I2C peripheral of the Quark SE cannot be used from the ARC core . Reported by Ivn Briano : The Quark SE has two I2C IP , one for the whole SoC that is accessible from both cores and one that's only available to the sensor subsystem . Due to the way that the Kconfig variables are shared by all drivers , it is not possible to configure both of them at the same time , so the ARC core can only use the I2C_SS driver . ( Imported from Jira ZEP-1189 )	2	0
2 2 1.4 1.0 1.5 1.5 1.4 1.5 1.6666666666666667 2.0 0.7272727272727273 11 0.0 5 22 41 115	kernel : ASSERTION FAIL [ z_spin_lock_valid(l )] . This is similar to #13289 but 100% reproducible with a simple : main . c . Run the following on : qemu_x86 . or any : nrf . board : < URL > : prj . conf : CONFIG_ASSERT = y --- main . c : #include < zephyr . h > #include < misc/printk . h > struct k_delayed_work dw ; void work_handler(struct k_work * w ) { k_delayed_work_submit(&dw , 10 ); } void main(void ) { printk('Hello World ! %s/n ' , CONFIG_BOARD ); k_delayed_work_init(&dw , work_handler ); k_delayed_work_submit(&dw , K_NO_WAIT ); while ( 1 ) { k_sleep(K_SECONDS(1 )); } } . results in : : ASSERTION FAIL [ z_spin_lock_valid(l )] @ zephyr . git/include/spinlock . h : 66 .  	0	0
1 1 1.6 2.0 1.5 2.0 1.6 2.0 1.6666666666666667 2.0 1.6 5 2.0 0 2 18 91	Time consumption is not constant during the pend and unpend operation with 0(1 ) pending queue . Time consumption is not constant during the pend and unpend operation with pending queue while WAITQ_SCALABLE Configuration enabled . As per expectation operations should happen in constant time to meet the O(1 ) time complexity . Measurement done with the help of #11650 Steps to reproduce the behavior : cd tests/kernel/pipe/pipe_api/ mkdir build cd build cmake -D BOARD = qemu_x86 -GNinja .. / ninja run Console Output : starting test - test_bench time spent during pending for thread1 444114 time spent during pending for thread2 90650 time spent during pending for thread3 102716 time spent during pending for thread4 34068 time spent during unpend of thread 214068 time spent during unpend of thread 4808 time spent during unpend of thread 50190 time spent during unpend of thread 28642 PASS - test_bench Additional context Tried to measure the time while CONFIG_SCHED_MULTIQ is enabled and we get the below values . time spent during pending for thread1 466 time spent during pending for thread2 415 time spent during pending for thread3 130 time spent during pending for thread4 65 time spent during unpend of thread 1104 time spent during unpend of thread 16 time spent during unpend of thread 16 time spent during unpend of thread 16 PASS - test_bench Unpend operation is constant while CONFIG_SCHED_MULTIQ is enabled .	1	0
0 0 0.8 1.0 1.0 1.0 1.1 1.0 0.6666666666666666 1.0 1.0 1 1.0 2 10 51 107	tests/kernel/mutex/mutex/ FAILED @ esp32 . toolchain : espressif Zephyr : caa377943a809ceffd40eef04a9f21a883e7f9cc : ***** BOOTING ZEPHYR OS v 1.9.0 -rc1 ( delayed boot 1000ms ) - BUILD : Aug 23 2017 19:23:27 ***** Done LOCKING ! Current priority = 5 Testing recursive locking Recursive locking tests successful PASS - regression_task . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = RunID : ci-170823-1622-32 : i0kn PROJECT EXECUTION SUCCESSFUL *** Unhandled exception **** Exception cause 0 ( illegal instruction ): EPC1 : 0x4008281e EXCSAVE1 : 0x3d3d3d3d EXCVADDR : 0x00000000 Program state ( PS ): INTLEVEL : 03 EXCM : 0 UM : 1 RING : 0 WOE : 1 OWB : 04 CALLINC : 2 Current thread ID = 0x3ffb1698 Faulting instruction address = 0xdeaddead Fatal fault in essential thread ! Spinning ... .  	0	0
2 2 1.4 1.0 1.4 1.0 1.25 1.0 1.3333333333333333 1.0 1.048780487804878 41 1.0 4 7 15 88	Update RISC-V PLIC dts support . The PLIC has multiple register regions that should be described in the dts binding . Once we do this , we should also update the PLIC code to use the DTS generated defines for those regions . Right now we do things like : ( soc/riscv32/riscv-privilege/sifive-freedom/soc . h ) : #define PLIC_PRIO_BASE_ADDR PLIC_BASE_ADDRESS #define PLIC_IRQ_EN_BASE_ADDR ( PLIC_BASE_ADDRESS + 0x2000 ) #define PLIC_REG_BASE_ADDR ( PLIC_BASE_ADDRESS + 0x200000 ) #define PLIC_MAX_PRIORITY PLIC_RISCV_MAX_PRIORITY . and ( soc/riscv32/riscv-privilege/miv/soc . h ) : /* Platform Level Interrupt Controller Configuration */ #define MIV_PLIC_BASE_ADDR 0x40000000 #define MIV_PLIC_PRIO_BASE_ADDR MIV_PLIC_BASE_ADDR #define MIV_PLIC_IRQ_EN_BASE_ADDR ( MIV_PLIC_BASE_ADDR + 0x2000 ) #define MIV_PLIC_REG_BASE_ADDR ( MIV_PLIC_BASE_ADDR + 0x200000 ) .	2	1
1 1 0.8 1.0 1.0 1.0 1.1 1.0 0.6666666666666666 1.0 0.0 2 0.0 3 7 30 90	k_busy_wait exits early on Nordic chips . A : k_busy_wait(20 ) . in driver code to wait for a reset to complete was proceeding in 13 us , causing a hardware failure . While investigating I discovered that for Nordic NRF51 k_busy_wait delays : 12.38 us for an argument of 1 , 2 , 5 , 10 , 15 , or 20 us 26 to 51 us for an argument of 50 us 54 to 57 us for an argument of 75 us 83 to 86 us for an argument of 100 us Further , for NRF52840 k_busy_wait delays : * 3.9 to 4.58 us for an argument of 1 , 2 , 5 , 10 , 15 , or 20 us * 18 to 31 us for an argument of 50 us * 61 us for an argument of 75 us * 89 to 91 us for an argument of 100 us Timings derived from a custom application with a GPIO toggle before and after the delay , duration measured with Saleae Logic Pro-8 . That really short delays take much longer than they should is unfortunate . That longer delays take shorter than they should is simply unacceptable . We must have a reliable usleep functionality to satisfy hardware timing requirements . I did find issue #6498 which was enlightening but did not provide a solution . Some improvement might be accomplished by fixing k_busy_wait to account for cycles lost to integer truncation , though a 10% error in a 100 us delay is difficult to understand . However , I'm fixing it another way in a PR to be submitted next .	1	0
1 1 1.4 1.0 1.7 2.0 1.55 2.0 1.3333333333333333 1.0 1.4615384615384615 234 1.0 6 15 23 61	[ Coverity CID : 205645]Integer handling issues in /drivers/counter/counter_mchp_xec . c . Static code scan issues seen in File : /drivers/counter/counter_mchp_xec . c Category : Integer handling issues Function : counter_xec_se t_t op_value Component : Drivers CID : 205645 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.3274517849815346 2437 1.0 38 43 46 91	[ Coverity CID : 240251 ] Incompatible cast in tests/lib/cmsis_dsp/matrix/src/unary_f32 . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : test_arm_mat_solve_lower_triangular_f32 . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 0.4 0.0 0.2 0.0 0.45 0.0 0.6666666666666666 1.0 0.9496124031007752 258 1.0 5 6 8 78	Add driver API reentrancy support to GPIO shim drivers . Reported by Kuo-Lang Tseng : Global data and device IO registers being set by the driver API can be messed up in the middle of the API call when a concurrent call ( from other fiber/task ) to the same API is made . ( Imported from Jira ZEP-441 )  	0	1
2 2 1.6 2.0 1.4 2.0 1.5 2.0 1.3333333333333333 2.0 0.0 0 0.0 1 10 24 81	subsys/fs/ : shell command for mounting the file system is unimplemneted . After introduction of VFS the mount operation is required in order to setup the FS .	1	1
2 2 1.6 2.0 1.4 1.0 1.55 2.0 1.3333333333333333 1.0 1.4047619047619047 42 2.0 9 15 28 205	CONFIG_FLOAT/CONFIG_FP_SHARING descriptions are confusing and contradictory . < URL > < URL > The first says : By default , only a single thread may use the registers . Disabling this option means that any thread that uses a floating point register will get a fatal exception . Isn't these 2 sentences contradict each other ? Now comparing 1st and 2nd  This option allows threads to use the floating point registers . This option allows multiple threads to use the floating point registers . So , one option allows threads to use FP registers , and another allows multiple threads to use FP registers . But ' threads ' are already ' multiple threads ' . cc : @dbkinder for the help with wording , but I guess @nashif or another core maintainer first should confirm how those options are supposed to work .	2	2
2 2 2.0 2.0 1.9 2.0 1.65 2.0 2.0 2.0 1.4285714285714286 7 2.0 3 15 37 141	tests/kernel/sched/schedule_api : Assertion failed for test_slice_scheduling . Describe the bug ''' Assertion failed at src/test_slice_scheduling . c : 51 : thread_tslice : (( tdelta > = expected_slice_min ) && ( tdelta <= expected_slice_max ) && (( int)p1 = = thread_idx )) is false ''' To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = nrf51_pca10028 -DARCH = arm cmake -DBOARD = nrf52_pca10040 -DARCH = arm 3 . make 4 . make run Screenshots or console output : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_slice_scheduling AB A Assertion failed at zephyr . git/tests/kernel/sched/schedule_api/src/test_slice_scheduling . c : 51 : thread_tslice : (( tdelta > = expected_slice_min ) && ( tdelta <= expected_slice_max ) && (( int)p1 = = thread_idx )) is false B Assertion failed at zephyr . git/tests/kernel/sched/schedule_api/src/test_slice_scheduling . c : 51 : thread_tslice : (( tdelta > = expected_slice_min ) && ( tdelta <= expected_slice_max ) && (( int)p1 = = thread_idx )) is false Assertion failed at zephyr . git/tests/kernel/sched/schedule_api/src/test_slice_scheduling . c : 51 : thread_tslice : (( tdelta > = expected_slice_min ) && ( tdelta <= expected_slice_max ) && (( int)p1 = = thread_idx )) is false FAIL - test_slice_scheduling = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = . Environment ( please complete the following information ): - OS : Fedora 29 - Toolchain : zephyr - Commit SHA or Version used : dd5ff3957ceece428e3465dd4e23fb926f61691c	1	0
2 2 1.4 2.0 1.6 2.0 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 6 10 17 60	@hci . h use of magic-number in bluetooth addr struct ( Missing define in @bluetooth . h ) . In bluetooth/hci . h the bluetooth address type is declared as : typedef struct { u8_t val[6 ]; } bt_addr_t ; . Instead of using magic number ' 6 ' this should be	2	0
1 1 1.0 1.0 1.2 1.0 1.55 2.0 1.0 1.0 1.3229813664596273 2415 1.0 16 21 24 69	[ Coverity CID : 240679 ] Out-of-bounds access in samples/subsys/usb/cdc_acm_composite/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : interrupt_handler . Component : Samples CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.0661853188929 831 1.0 2 3 30 140	BMI160 gyroscope driver stops reporting after 1-5 minutes . Reported by Ziming Huang : When using the sensor drivers with triggers to monitor gyroscope readings from the BMI160 board , building against the 1.6.0 ( , gyroscope will stop getting value updates randomly after 1-5 minutes when running continuously , where as an earlier commit like 9cbd41a will not have this issue . configs in the arc/prj . conf CONFIG_STDOUT_CONSOLE = y CONFIG_PRINTK = y CONFIG_IPM = y CONFIG_IPM_QUARK_SE = y CONFIG_IPM_CONSOLE_SENDER = y CONFIG_CONSOLE = y CONFIG_SERIAL = n CONFIG_NS16550 = n CONFIG_NANO_TIMEOUTS = y CONFIG_SENSOR = y CONFIG_SPI = y CONFIG_BMI160 = y CONFIG_BMI160_INIT_PRIORITY = 80 CONFIG_BMI160_NAME='bmi160 ' CONFIG_BMI160_SPI_PORT_NAME='SPI_1 ' CONFIG_BMI160_SLAVE = 1 CONFIG_BMI160_SPI_BUS_FREQ = 88 CONFIG_BMI160_TRIGGER = y CONFIG_BMI160_TRIGGER_OWN_THREAD = y CONFIG_FLASH_BASE_ADDRESS = 0x40050000 configs in x86/prj . conf CONFIG_STDOUT_CONSOLE = y CONFIG_NEWLIB_LIBC = y CONFIG_FLOAT = y CONFIG_NANO_TIMERS = y CONFIG_NANO_TIMEOUTS = y CONFIG_RING_BUFFER = y CONFIG_IPM = y CONFIG_IPM_QUARK_SE = y CONFIG_IPM_QUARK_SE_MASTER = y CONFIG_IPM_CONSOLE_RECEIVER = y CONFIG_ARC_INIT = y CONFIG_ROM_SIZE = 256 CONFIG_SS_RESET_VECTOR = 0x40050000 CONFIG_GPIO = y CONFIG_GPIO_QMSI = y CONFIG_GPIO_QMSI_0_PRI = 2 CONFIG_GPIO_QMSI_1 = y CONFIG_GPIO_QMSI_1_NAME='GPIO_1 ' CONFIG_GPIO_QMSI_1_PRI = 2 ( Imported from Jira ZEP-1421 )	1	0
2 2 1.4 1.0 1.3 1.0 1.3 1.0 1.6666666666666667 2.0 1.083916083916084 1001 1.0 5 11 17 89	tests/gpio : fail to test GPIO_INT_EDGE . Reported by Qiu Peiyang : Configuration x86 Quark Se Devboard unified Bug detailed description When test GPIO_INT_EDGE , there is no code to skip GPIO_INT_LEVEL and jump to the end of the function . So GPIO_INT_LEVEL will always be checked ( Besides , it't always true ) , even if it's testing GPIO_INT_EDGE , which will cause GPIO_INT_EDGE cases fail . Testcase to Reproduce tests/drivers/gpio/gpio_basic_api/ Expected Result Project execution successful Actual Result Project execution failed ( Imported from Jira ZEP-1685 )  	0	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.4507042253521127 71 1.0 4 4 14 68	[ Coverity CID : 188756]Memory - corruptions in /drivers/sensor/lis2dh/lis2dh_trigger . c . Static code scan issues seen in File : /drivers/sensor/lis2dh/lis2dh_trigger . c Category : Memory - corruptions Function : lis2dh_trigger_drdy_set Component : Drivers CID : 188756 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.4 1.0 1.3 1.0 1.45 1.5 1.3333333333333333 1.0 0.0 0 0.0 1 5 7 54	LwM2M FOTA pull not working with modem ( offloaded socket ) driver using UART . Describe the bug < URL > is issuing a work item for < URL > , which calls < URL > , which contains a blocking < URL > call . With an offloaded socket driver that uses AT commands ( over UART ) , this blocking work item blocks the working of the UART driver , because that uses the work queue to process received frames . ( Or at least the Nordic UART driver , uart_nrfx_uart . ) Hence , the : connect () . call blocks the code that should unlock it . To Reproduce Steps to reproduce the behavior : 1 . Nordic chip ( maybe others as well ) 2 . Offloaded socket driver with modem that use AT commands over UART 3 . Use LwM2M 4 . Set Package URI in 5/0/1 resource Expected behavior Successful block-wise coap download of firmware binary from server . Impact Firmware pulls do not work when using this setup . Possible solutions - Use a direct call to the : firmware_transfer () . function , but I guess this was considered and there was deliberately chosen to use the the work queue . - Use a dedicated work queue so that the system work queue is not held up . - Use non-blocking sockets . If we can decide on a solution , I would like to implement it , so this issue can be assigned to me !	2	0
0 0 1.0 1.0 1.1 1.0 1.25 1.5 0.6666666666666666 0.0 1.0948979591836734 980 1.0 1 1 14 102	Build issues when compiling with LLVM(unknown attribute ' _alloc_align_) . Reported by Baohong Liu : alloc_align in stdlib . h is not recognized by the compiler . See the following . /opt/intel/issm_ 2016.1.057 /tools/compiler/gcc-ia/ 5.2.1 /i586-intel-elfiamcu/include/stdlib . h : 289:52 : error : unknown attribute ' alloc_align ' ignored [-Werror , -Wunknown-attributes ] void * aligned_alloc(size_t , size_t ) __malloc_like __alloc_align(1 ) ^ /opt/intel/issm_ 2016.1.057 /tools/compiler/gcc-ia/ 5.2.1 /i586-intel-elfiamcu/include/sys/cdefs . h : 266:41 : note : expanded from macro ' __alloc_align ' define alloc_align __attribute((alloc_align )) ^ 1 error generated . ( Imported from Jira ZEP-1654 )  	0	0
2 2 1.6 2.0 1.3 2.0 1.35 2.0 1.3333333333333333 2.0 1.084375 1280 1.0 5 9 18 70	 make flash ' target fails for SoCs with DTS flow . Reported by Piotr Mienkowski : Several boards , e.g. sam_e70_xplained support flashing via ' make flash ' target . The necessary configuration is provided by a few files in boards directory . E.g. boards/arm/sam_e70_xplained/Makefile . board defines a command to flash the image as { code } OPENOCD_LOAD_CMD = ' flash write_image erase ${O}/${KERNEL_BIN_NAME } ${CONFIG_FLASH_BASE_ADDRESS }' { code } This unfortunately doesn't work any more when the SoC is converted to use DTS . With DTS flow the CONFIG_FLASH_BASE_ADDRESS is undefined when the make is run even if the generated_dts_board . h file generated by DTS contains correct definition of CONFIG_FLASH_BASE_ADDRESS . ( Imported from Jira ZEP-2119 )  	0	0
1 1 1.4 1.0 1.4 1.0 1.45 1.0 1.3333333333333333 1.0 1.009331259720062 643 1.0 4 13 21 73	Tinycrypt SHA256 test fails with system crash using unified kernel type . Reported by ethan gao : To validate SHA256 support using test_sha256 underneath tests/crypto of Zephyr , system crashes while test vector 9 starts to run . please reproduce with the following build command : make pristine && make BOARD = quark_se_c1000_devboard KERNEL_TYPE = unified flash and the following is the error details : tc_start () - Performing SHA256 tests ( NIST tests vectors ): SHA256 test # 1 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_1 . SHA256 test # 2 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_2 . SHA256 test # 3 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_3 . SHA256 test # 4 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_4 . SHA256 test # 5 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_5 . SHA256 test # 6 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_6 . SHA256 test # 7 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_7 . SHA256 test # 8 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_8 . SHA256 test # 9 : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * CPU exception 13 *** Exception code : 0x0000126c Current thread ID = 0xa8011384 Faulting segment : address = 0x 00000008:0 x40031a56 eax : 0xa8011288 , ebx : 0x0000003d , ecx : 0xa8011278 , edx : 0x4003220c esi : 0xa80112c4 , edi : 0x0000003d , ebp : 0a8011288 , esp : 0xa801127c eflags : 0x00010002 Fatal task error ! Aborting task . ( Imported from Jira ZEP-1141 )	1	0
2 2 1.6 2.0 1.8 2.0 1.65 2.0 1.6666666666666667 2.0 1.082618862042089 1283 1.0 0 0 13 67	CDC-ACM : Cannot reopen serial port when it is closed while printing something on the serial terminal . Reported by Dino Tinitigan : Using the cdc-acm sample application , I simply printed something on a tight loop When I close the serial port while it is printing something , I am unable to reopen it . The issue is less obvious if a delay is added between prints , however it still eventually happens depending on the timing of closing the serial port ( Imported from Jira ZEP-2126 )  	0	0
2 2 1.8 2.0 1.8 2.0 1.7 2.0 2.0 2.0 1.177765843179377 1862 1.0 10 11 17 65	[ Coverity CID : 211478 ] Logically dead code in samples/net/sockets/big_http_download/src/big_http_download . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : main . Component : Samples CID : < URL > Details : : 316 const uint32_t total_iterations = num_iterations ; 317 uint32_t current_iteration = 1 ; 318 do { 319 if ( total_iterations = = 0 ) { 320 printf('/nIteration %u of INF/n ' , current_iteration ); 321 } else { >>> CID 211478 : Control flow issues ( DEADCODE ) >>> Execution cannot reach this statement : ' printf('/nIteration %u of % ... ' . 322 printf('/nIteration %u of %u : /n ' , 323 current_iteration , total_iterations ); 324 } 325 download(res , is_tls ); 326 327 total_bytes + = cur_bytes ; . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.4 2.0 1.4 1.5 1.3 1.0 1.0 1.0 1.0783410138248848 868 1.0 7 9 25 121	Bluetooth fails to init . Reported by Mariusz Skamra : HW : n51 Dongle + Zephyr hci_uart sample SW : bluetooth tester app on QEMU During tests execution , after several ( 20+) tests performed , Controller fails to init . I see in the HCI logs , that HCI Event : Comand Complete on Reset command is not received . I enclose HCI Logs and RTT terminal logs . Below log from RTT looks suspicious : [ bt ] [ ERR ] recv_thread : ESC[0 ; 31mCannot allocate RX eventESC[0m ( Imported from Jira ZEP-1481 )	2	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.0930232558139534 43 1.0 1 9 10 78	[ Coverity CID : 179986 ] Null pointer dereferences in /subsys/bluetooth/host/mesh/access . c . Static code scan issues seen in File : /subsys/bluetooth/host/mesh/access . c Category : Null pointer dereferences Function : bt_mesh_model_publish Component : Bluetooth CID : 179986 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 2.0 2.0 1.75 2.0 2.0 2.0 1.1601541001651072 1817 1.0 59 65 70 161	[ Coverity CID : 210573 ] Out-of-bounds access in tests/kernel/mem_protect/userspace/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : test_write_kerntext . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.0 1.0 1.3 1.5 1.45 2.0 1.0 1.0 1.0985477178423237 964 1.0 5 16 31 92	SPI : spi cannot work in CPHA mode @ ARC . Reported by Qiu Peiyang : Configuration ARC Quark Se Devboard unified Bug detailed description When configure SPI to CPHA mode , spi_transceive () fails to work @ARC side Steps to reproduce Connect SPI_SS_0_MISO and SPI_SS_0_MOSI ; Apply patch < URL > source zephur-env.sh make BOARD = quark_se_c1000_ss_devboard -C tests/drivers/spi/spi_basic_api Expected Result tc_start () - test_spi_cpha Test SPI_MODE_CPHA SPI sent : So what then ? SPI transceived : So what then ? = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_spi_cpha . Actual Result tc_start () - test_spi_cpha Test SPI_MODE_CPHA SPI sent : So what then ? SPI transceived : S : Assertion failed at /home/ma/latest/tiny-mountain-qa/testlib/driver/spi/test_spi_basic_loop/src/test_spi . c : 107 : test_spi_cpha : test_spi(SPI_WORD(8 ) | SPI_MODE_CPHA ) = = TC_PASS is false . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FAIL - test_spi_cpha . ( Imported from Jira ZEP-1626 )  	0	0
2 2 0.8 0.0 1.2 2.0 1.45 2.0 0.6666666666666666 0.0 2.0 1 2.0 2 4 17 198	problem with implementation of sock_set_flag . I am using sockets in non-blocking mode , i.e. I set O_NONBLOCK flag for my listening socket and for all newly accepted sockets . The sock_set_flag function in subsys/net/lib/sockets/sockets_internal . h uses the low bits of the net_context user_data pointer to store the SOCK_EOF/SOCK_NONBLOCK flags . I encounter problems , e.g. in zsock_accepted_cb , because the user_data pointer is used without discarding the flag bits , resulting in a pointer , which is off from the true pointer by some bytes , dependent on the flags . I am working in the native posix system : CONFIG_BOARD='native_posix_64 ' CONFIG_BOARD_NATIVE_POSIX_64BIT = y	1	0
2 2 1.8 2.0 1.7 2.0 1.6 2.0 1.6666666666666667 2.0 1.0281065088757397 676 1.0 7 19 24 83	tests/kernel/test_xip Doesn't fit `FLASH ' region . Reported by Genaro Saucedo Tejada : for BOARD = cc3200_launchxl { code } LINK zephyr . lnk /opt/zephyr-sdk/sysroots/i686-pokysdk-linux/usr/libexec/arm-poky-eabi/gcc/arm-poky-eabi/ 5.2.0 /real-ld : zephyr_prebuilt . elf section : text ' will not fit in region . FLASH ' /opt/zephyr-sdk/sysroots/i686-pokysdk-linux/usr/libexec/arm-poky-eabi/gcc/arm-poky-eabi/ 5.2.0 /real-ld : region `FLASH ' overflowed by 11764 bytes collect2 : error : ld returned 1 exit status /home/jenkins/workspace/zephyr-internal-test-rebased/Makefile : 840 : recipe for target ' zephyr_prebuilt . elf ' failed { code } to reproduce run :{ code } sanitycheck -- all -- enable-slow -T tests/kernel/test_xip{code } ( Imported from Jira ZEP-1201 )  	0	0
2 2 1.8 2.0 1.6 2.0 1.3 1.0 2.0 2.0 0.9598540145985401 274 1.0 2 2 6 45	Ethernet/IPv4/TCP : net_receive & net_reply in server mode . Reported by Flavio Santes : net_reply does not work when net_receive's timeout is > = 200 . Steps to reproduce ( based on echo_server ): Download the attached tar . gz . Modify the IP address according to your configuration . Compile and do everything necessary to run the binary on a Galileo Dev Board . Use telnet to send some text to the application . Watch what happens when the timeout is above 150 . NOTE : * Some applications may require a higher timeout . * Timeout can be set to something below 150 . However , sometimes even with a timeout below 150 , net_reply does not work . ( Imported from Jira ZEP-469 )  	0	0
1 1 1.6 2.0 1.5 1.5 1.5 2.0 1.3333333333333333 1.0 1.4285714285714286 28 2.0 6 21 34 81	In many places , Zephyr uses signed type ( s32_t ) for elapsed time and delays , contradicting common sense , risking hitting C undefined behavior and/or MISRA C violations . We have ( among number of others ): : void _nano_sys_clock_tick_announce(s32_t ticks ); . Using s32_t here doesn't make sense , this function is ' announce ' to let know how many ticks elapsed since since previous announcement , which is always a non-negative value . Passing negative value here would make system time go back , and is not handled in any way by the function . : extern int k_delayed_work_submi t_t o_queue(struct k_work_q * work_q , struct k_delayed_work * work , s32_t delay ); . Likewise , delay can't really be negative . This function could assign some special meaning to negative delays ( e.g. overdue delays , to save caller from detecting such ) , but it does not , the only special processing is for delay of 0 : : if ( ! delay ) { /* Submit work if no ticks is 0 */ k_work_submi t_t o_queue(work_q , & work -> work ); } else { /* Add timeout */ _add_timeout(NULL , & work -> timeout , NULL , _TICK_ALIGN + _ms_to_ticks(delay )); } .	1	1
1 1 1.6 2.0 1.4 1.5 1.0 1.0 1.6666666666666667 2.0 1.2884615384615385 52 1.0 7 36 45 99	make run for native_posix has dependency issues . call ' make -j10 run ' for native_posix and the build will fail , we do not have dependency of the run taget on the . exe binary . : Scanning dependencies of target run make[3 ]: Leaving directory ' /home/nashif/Work/github/zephyr/build ' make -f zephyr/CMakeFiles/run . dir/build . make zephyr/CMakeFiles/run . dir/build make[3 ]: Entering directory ' /home/nashif/Work/github/zephyr/build ' /home/nashif/Work/github/zephyr/build/zephyr/zephyr . exe make[3 ]: /home/nashif/Work/github/zephyr/build/zephyr/zephyr . exe : Command not found make[3 ]: *** [ zephyr/CMakeFiles/run . dir/build . make : 60 : zephyr/CMakeFiles/run ] Error 127 make[3 ]: Leaving directory ' /home/nashif/Work/github/zephyr/build ' make[2 ]: *** [ CMakeFiles/Makefile 2:271 : zephyr/CMakeFiles/run . dir/all ] Error 2 make[2 ]: Leaving directory ' /home/nashif/Work/github/zephyr/build ' make[1 ]: *** [ CMakeFiles/Makefile 2:278 : zephyr/CMakeFiles/run . dir/rule ] Error 2 make[1 ]: Leaving directory ' /home/nashif/Work/github/zephyr/build ' make : *** [ Makefile : 173 : run ] Error 2 make : Leaving directory ' /home/nashif/Work/github/zephyr/build ' .	2	0
1 1 1.4 1.0 1.1 1.0 1.3 1.0 1.3333333333333333 1.0 1.263157894736842 209 1.0 2 3 12 83	remove use of ioctl () within the network stack . Is your enhancement proposal related to a problem ? Please describe . There is an ioctl-like interface used within the networking code . I say ioctl-like but it really isn't ioctl because these functions are truly variadic instead of 2 or 3 args with the third optional arg a void pointer , which is what traditional ioctl is . Ioctls are bad . This thread concisely explains from Linus Torvalds himself what the problems are : < URL > On top of all what is said there , using variadic functions directly clashes with MISRA coding guidelines : MISRA C : 2004 , 16.1 - Functions shall not be defined with a variable number of arguments . Right now , the way ioctl is used internally by networking all it does is defeat type safety . This stuff isn't even application-facing , it's part of a socket descriptor inheritance scheme . There are no advantages , you can implement object orientation in C without it . We can of course keep vtable-like abstractions in the kernel , but these APIs need to have proper prototypes , see the Zephyr driver model and how each subsystem defines its APIs as an example . Describe the solution you'd like Any use if ioctl () removed from the kernel with the exception of what's minimally needed for POSIX compatibility , and such code MUST be limited to lib/posix and nowhere else with clearly defined scope . No internal networking object orientation scheme should be using variadic functions anywhere , with the exception of very well-defined stuff like printk () . Given that ioctls by their very nature are non-portable I expect the list of ones we must support for the posix compat layer to be little to none .	1	1
2 2 1.2 1.0 1.0 1.0 0.9 1.0 1.0 1.0 2.0 2 2.0 10 18 26 206	boards : arm : disco_l475_iot1 : Enable MSI PLL mode for USB . The MSI PLL mode has been disabled but can be used since LSE is populated on disco_l475_iot1 board . This is requested to enable USB device controller support . Fixes : 737d8051927d (' boards : arm : disco_l475_iot1 : remove MCU slow down when using BlueRNG-MS ' ) fixes #18717 Signed-off-by : Loic Poulain < URL >	2	0
1 1 1.6 2.0 1.6 2.0 1.6 2.0 1.6666666666666667 2.0 1.0 2 1.0 11 21 37 113	possible unaligned memory access to struct _k_object's perms . In _k_object's definition : struct _k_object { char * name ; u8_t perms[CONFIG_MAX_THREAD_BYTES ]; u8_t type ; u8_t flags ; u32_t data ; } __packed ; . if CONFIG_MAX_THREAD_BYTES is 4 , 8 , 12 .... , then the size of _k_object is not 4 bytes aligned . Because __packed is used , this will may cause perms[CONFIG_MAX_THREAD_BYTES ] even char * name are not 4 bytes aligned . In usespace . c : void _thread_perms_set(struct _k_object * ko , struct k_thread * thread ) { int index = thread_index_get(thread ); if ( index ! = -1 ) { sys_bitfield_set_bit((mem_addr_t)&ko -> perms , index ); } } . sys_bitfield_set is used to set some bit to of perms However , for most arch in zephyr . an assumption of sys_bitfield_set is that the mem_addr_t addr should be 4 bytes/32 bit aligned . For the case perms , if arch supports unaligned mem access , no exception will be raised , but possible performance downgrade ; if arch does not support unaligned mem access or disable it , an exception will be raised . So , suggest to guarantee the access to struct _k_object's perms should be 4 bytes/32bit aligned . Or guarantee the start address of struct _k_object should be 4 bytes/32 bit aligned	1	0
2 2 2.0 2.0 1.7 2.0 1.6 2.0 2.0 2.0 2.0 2 2.0 1 2 14 79	Missing error check of function sensor_sample_fetch () and sensor_channel_get () . Hi , As described in the API documentation , function sensor_sample_fetch () fetches a sample from the sensor and stores it in an internal driver buffer , returns 0 if successful , and returns negative errno code if failure . And the return value of function sensor_channel_get () has the same format . However , as shown in the following code , two missing error checks take place , sensor_sample_fetch () and sensor_channel_get () . < URL > And , I see , in the same file , the return values of the two functions are checked . See the following code , for example . < URL >	2	0
1 1 1.6 2.0 1.4 1.0 1.25 1.0 1.6666666666666667 2.0 1.0909090909090908 22 1.0 2 7 12 61	UARTE device has no API when run on nrf52810 . Describe the bug I tried to enable console via UARTE on nrf52810 but SOC crashes at early stage . Quick investigation revealed two things . * First is that : uart_console_init . does not check if get binding returned anything and so crash occurs much later when console is actually used . * Second - get binding returns NULL even if device is present ... I checked that it is NULL as API is NULL . This is strange as API is statically added when device is defined ( see : drivers/serial/uart_nrfx_uarte . c . ) . To Reproduce Steps to reproduce the behavior : 1 . Enable console over uarte on nrf52810 2 . start zephyr 3 . observe crash when zephyr os tag is printed Expected behavior No crash , everything works Impact Showstopper Screenshots or console output : 1 : info -> driver_api = ( const void *) 0x20bf8 < _k32src_clock_control_api > 2 : info -> config -> name = 0x224a5 ' CLOCK_32K ' 1 : info -> driver_api = ( const void *) 0x20c04 < _m16src_clock_control_api > 2 : info -> config -> name = 0x224af ' CLOCK_16M ' 1 : info -> driver_api = ( const void *) 0x0 < z_finalize_fd > 2 : info -> config -> name = 0x22412 ' UART_0 ' 1 : info -> driver_api = ( const void *) 0x21084 < entropy_nrf5_api_funcs > 2 : info -> config -> name = 0x22211 ' ENTROPY_0 ' . Environment ( please complete the following information ): master Additional context N/A	1	0
1 1 1.0 1.0 1.1 1.0 0.95 1.0 1.3333333333333333 1.0 0.9489795918367347 196 1.0 12 16 24 82	Separate Kernel/User Space . Reported by Gajinder Vij : Separation of kernel/user space is a consideration for the longer term , though this has significant implications on security . ( Imported from Jira ZEP-336 )	1	1
1 1 0.6 1.0 0.5 0.0 0.55 0.0 0.6666666666666666 1.0 1.0714285714285714 1512 1.0 2 3 7 58	Static code scan ( coverity ) issues seen . Reported by Shilpashree L C : As per the Coverity scan analyses on Aug 03 , 2017 , there were some potential defects that were found in /ext/lib/crypto/ file has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type|| ||Category|| ||File|| ||Function|| |143687| |Array compared against 0| |Incorrect expression| |/ext/lib/crypto/tinycrypt/source/hmac . c| |tc_hmac_final| |143740| |Array compared against 0| |Incorrect expression| |/ext/lib/crypto/tinycrypt/source/hmac . c| |tc_hmac_init| |143737| |Array compared against 0| |Incorrect expression| |/ext/lib/crypto/tinycrypt/source/hmac . c| |tc_hmac_update| |143730| |Array compared against 0| |Incorrect expression| |/ext/lib/crypto/tinycrypt/source/sha256 . c| |tc_sha256_final| |143715| |Array compared against 0| |Incorrect expression| |/ext/lib/crypto/tinycrypt/source/sha256 . c| |tc_sha256_update| |173633| |Out-of-bounds access| |Memory - corruptions| |/ext/lib/crypto/tinycrypt/source/ecc_dh . c| |uECC_shared_secret| ( Imported from Jira ZEP-2468 )  	0	0
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.1305587229190421 1754 1.0 10 17 21 98	[ Coverity CID : 208915 ] Out-of-bounds access in tests/net/icmpv4/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : verify_echo_reply_with_opts . Component : Tests CID : < URL > Details : : 269 ret = net_pkt_read(pkt , buf , payload_len ); 270 if ( ret ! = 0 ) { 271 zasser t_t rue(false , ' echo_reply_opts read payload failed ' ) ; 272 } 273 274 /* Compare the payload */ >>> CID 208915 : Memory - corruptions ( OVERRUN ) >>> Overrunning array ' buf ' of 60 bytes by passing it to a function which accesses it at byte offset 95 using argument ' payload_len ' ( which evaluates to 96 ) . [ Note : The source code implementation of the function has been overridden by a builtin model . ] 275 if ( memcmp(buf , icmpv4_echo_req_opt + 276 NET_IPV4H_LEN + NET_ICMPH_LEN + opts_len , 277 payload_len )) { 278 zasser t_t rue(false , ' echo_reply_opts invalid payload ' ) ; 279 } 280 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 0.8 1.0 0.9 1.0 1.3333333333333333 1.0 1.0909090909090908 11 1.0 4 14 23 94	Bluetooth : Mesh : Model extensions walk stops before last model . When reaching the last model in the circular extension linked list , the walker would abandon the walk before checking the last model . This makes us skip models when checking the subscription list , potentially causing incoming messages to be wrongfully ignored . Fixed by #39010	1	0
2 2 2.0 2.0 1.9 2.0 1.85 2.0 2.0 2.0 1.489051094890511 137 2.0 7 12 24 99	[ Coverity CID : 185280 ] Error handling issues in /tests/posix/pthread_rwlock/src/posix_rwlock . c . Static code scan issues seen in File : /tests/posix/pthread_rwlock/src/posix_rwlock . c Category : Error handling issues Function : test_rw_lock Component : Tests CID : 185280 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.3626373626373627 182 1.0 65 73 85 140	[ Coverity CID : 203475]Memory - corruptions in /subsys/net/lib/lwm2m/ipso_timer . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/ipso_timer . c Category : Memory - corruptions Function : timer_create Component : Networking CID : 203475 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.4 2.0 1.4 2.0 1.55 2.0 1.6666666666666667 2.0 0.3333333333333333 6 0.0 3 16 28 160	Documentation build on Windows . Currently building the documentation requires : make . . As a documentation developer I would like to be able to build the on Windows-based machines . The things that need to happen in order for this to work : Convert : Makefile . to CMake Convert : doc/Makefile . to CMake Check that the sphinx and breathe , alongside genrest , work correctly on Windows	2	2
1 1 1.0 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.9586466165413534 266 1.0 2 2 14 59	 contribute/doxygen/typedefs . rst : examples files are broken . Reported by Inaky Perez-Gonzalez : The two header files referenced by the ReST file are broken : one is a complete C file , but it contains none of the typedefs it claims to be showing how to do another one is completely unexistant As a solution , just introduce a code-block with the good and bad example so that : it does not get out of sync easily ( the C developer has no way to know the file is being backreferenced by ) it is USABLE when reading the rst file directly ( Imported from Jira ZEP-457 )	2	2
2 2 1.6 2.0 1.4 2.0 1.35 1.5 1.3333333333333333 2.0 0.8888888888888888 9 1.0 2 3 10 50	Make it clear in HTML docs what monospaced text is a link . Is your enhancement proposal related to a problem ? Please describe . The HTML docs use the same presentation for code whether or not the text is a link . Example screenshot ( from < URL > In the screenshot , : k_fifo_put () . and : k_fifo_get () . are links which take you to documentation for those functions when clicked , but : net_buf_put () . and : net_buf_get () . are not . The lack of a visual difference means I find myself mousing over text like this in hopes that it's a link , without knowing whether it is or not , and makes it harder for users to know when text is providing a cross-reference . Describe the solution you'd like The HTML docs should use a blue color for links , even if the link text is monospaced because it's code . Describe alternatives you've considered None . Additional context See above .	2	2
1 1 1.4 1.0 1.2 1.0 1.2 1.0 1.0 1.0 1.3522012578616351 159 1.0 22 34 56 160	[ Coverity CID : 190978]Control flow issues in /drivers/spi/spi_intel . c . Static code scan issues seen in File : /drivers/spi/spi_intel . c Category : Control flow issues Function : push_data Component : Drivers CID : 190978 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.2 1.0 1.0 1.0 1.2 1.0 1.0 1.0 1.0666666666666667 120 1.0 7 8 14 51	introduction of demand paging support causing qemu failures on x86_64 , qemu_x86_64_nokpti . : tests/kernel/fatal/exception/kernel . common . stack_sentinel . hangs when running on : qemu_x86_64_nokpti . and : qemu_x86_64 . . In addition : tests/ztest/mock/testing . ztest . mock . on : qemu_x86_64 . Git bisect tracks this down to : : commit 2fe1fc53c85ca544bcc1036a6fa2c270cc9cdeb4 Author : Andrew Boie < andrew.p.boie@intel.com > Date : Thu Dec 10 13:02:24 2020 -0800 kernel : add demand paging implementation .  	0	0
2 2 0.6 0.0 0.9 1.0 1.15 1.0 1.0 1.0 0.9868995633187773 229 1.0 0 3 16 107	ARC EM Starter Kit board support . Reported by Anas Nashif : Board support for the ARC EM Starter Kit . < URL > < URL > youtube : < URL > ( Imported from Jira ZEP-399 )  	0	1
1 1 0.8 1.0 0.8 1.0 0.8 1.0 1.0 1.0 1.0643203883495145 824 1.0 6 23 37 161	[ ARC ] legacy/benchmark/latency_measure not measuring RIRQ/FIRQ . Reported by Chuck Jordan : The latency_measure benchmark is NOT measuring RIRQ or FIRQ interrupts . Rather , it uses irq_offload () to trigger an interrupt . But this isn't really an interrupt , its an EXCEPTION using the trap instruction . Exception handling is much SLOWER on the ARC , since software must save all the registers w/o hardware assist . To truly measure RIRQ and FIRQ , we could either re-work irq_offload so that it uses the AUX_IRQ_HINT register ( requiring some interrupt vector ) , OR , we could create an ARC-only version of this benchmark that is re-written to use AUX_IRQ_HINT from the test itself -- and not use irq_offload . ( Imported from Jira ZEP-1412 )	1	1
2 2 2.0 2.0 2.0 2.0 1.8 2.0 2.0 2.0 1.0887728459530026 1149 1.0 13 25 36 151	Missing board documentation for x86/se_c1000_devboard . Reported by David Kinder : Board documentation is expected for all supported boards found in the /boards folders ( Imported from Jira ZEP-1906 )	2	2
0 0 1.4 2.0 1.4 2.0 1.45 2.0 1.0 1.0 1.0476190476190477 21 1.0 12 12 20 80	Fault in CPU stats . Describe the bug : ASSERTION FAIL [ curren t_t hread = = k_current_get ()] @ . /subsys/debug/tracing/cpu_stats . c : 126 . To Reproduce Steps to reproduce the behavior : 1 . Enable : TRACING_CPU_STATS . 2 . Try to run ... Expected behavior Should work . Impact annoyance - profiling tool is unusable Screenshots or console output Above . Environment ( please complete the following information ): master Additional context N/A	2	0
0 0 0.0 0.0 0.1 0.0 0.2 0.0 0.0 0.0 0.9103448275862069 145 1.0 14 15 30 144	Convert drivers/console/uart_mux . c to new kwork API . Convert drivers/console/uart_mux . c to use new kwork API . See the following issue for details : 33104  	0	0
2 2 2.0 2.0 1.8 2.0 1.9 2.0 2.0 2.0 1.1860832894043225 1897 1.0 10 13 24 101	[ Coverity CID : 212429 ] Negative array index write in tests/subsys/fs/fs_api/src/test_fs_dir_file . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : test_file_read . Component : Tests CID : < URL > Details : : 472 brw = fs_read(&filep , NULL , sz ); 473 zassert_false(brw > = 0 , ' Read data to a invalid buffer ' ) ; 474 475 brw = fs_read(&filep , read_buff , sz ); 476 zasser t_t rue(brw > = 0 , ' Fail to read file ' ) ; 477 >>> CID 212429 : Memory - corruptions ( NEGATIVE_RETURNS ) >>> Using variable ' brw ' as an index to array ' read_buff ' . 478 read_buff[brw ] = 0 ; 479 TC_PRINT('Data read:/'%s/'/n/n ' , read_buff ); 480 481 zasser t_t rue(strcmp(test_str , read_buff ) = = 0 , 482 ' Error - Data read does not match data written ' ) ; 483 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.4 1.0 1.65 2.0 1.3333333333333333 1.0 1.2200501253132832 1995 1.0 10 13 22 138	[ Coverity CID : 218733 ] Explicit null dereferenced in tests/ztest/error_hook/src/main . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : trigger_fault_access . Component : Tests CID : < URL > Details : : 62 /* For most arch which support userspace , derefencing NULL 63 * pointer will be caught by exception . 64 */ 65 void * a = ( void *) NULL ; 66 #endif 67 /* access a illeagal address */ >>> CID 218733 : Null pointer dereferences ( FORWARD_NULL ) >>> Dereferencing null pointer ' a ' . 68 volatile int b = *(( int *) a ); 69 70 printk('b is %d/n ' , b ); 71 } 72 73 static void trigger_fault_divide_zero(void ) . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 0.6 0.0 1.1 1.5 1.05 1.0 1.0 1.0 0.9627118644067797 295 1.0 3 6 12 52	nios2 : support baremetal boot and XIP on Altera MAX10 . Reported by Andrew Boie : Currently , we only can run applications on the MAX10 if we use nios2-download or GDB ' load ' command , which sends . elf sections over the wire directly into RAM and then starts from the __start symbol . We would like to be able to support baremetal boot on Altera MAX10 , which will involve copying certain data from ROM into RAM . XIP-enabled boot copier where code and read-only data are accessed from ROM ( Imported from Jira ZEP-506 )  	0	1
1 1 1.2 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 1.0716374269005848 1368 1.0 4 17 27 96	reconsider k_queue APIs . Reported by Andrew Boie : The k_queue APIs ( and by extension , k_lifo and k_fifo ) place data structures private to the kernel directly in the user-supplied buffers . This is currently an instance of a sys_snode_t which links all the buffers into a linked list that the kernel uses . With memory protection , users should not be able to corrupt the kernel . Redesign this API so that the user either not touch the private kernel data structures , or they are sanitized to such a degree that garbage or maliciously crafted data cannot crash or otherwise negatively affect the kernel . ( Imported from Jira ZEP-2237 )	1	1
2 2 0.8 1.0 1.0 1.0 0.85 1.0 1.0 1.0 1.0931574608408903 1213 1.0 2 7 13 83	missing file reference in boards/nios2/altera_max10 . Reported by David Kinder : in boards/nios2/altera_max10/doc/board . rst line 98 , arch/nios2/soc/nios2f-zephyr/cpu/nios2-configure-sof not found ( Imported from Jira ZEP-2006 )	2	2
2 2 1.2 1.0 1.6 2.0 1.7 2.0 1.6666666666666667 2.0 2.0 1 2.0 3 5 10 83	Scanning for devices sending periodic advertisements stops working after a while , but keeps reporting none periodic . . Describe the bug From what I can read it's ok to keep scanning enabled while using : bt_le_per_adv_sync_create . etc . By removing the : scan_disable () . in direction_finding_connectionless_rx sample scanning stops working after a while . The standard scan callback keeps reporting standard advertisements , but stops reporting devices sending periodic advertisments . I guess the extended scanning stops working , but normal continues . ( never getting in < URL > as : info -> interval . is always 0 . To Reproduce Steps to reproduce the behavior : 1 . Use latest Zephyr direction_finding_connectionless_tx on one device 2 . Use latest Zephyr direction_finding_connectionless_rx on another device and commit out call to : scan_disable () . in : main . . Also comment out the large print in : scan_recv . to avoid to much spam in the logs . 3 . Power on the tag , wait for sync and IQ data , then reset the device . 4 . Re-do step 3 . a few times until the sending device will not be found anymore . Expected behavior Continuous scanning still reporting devices sending periodic advertisements until scan is stopped . Or that application get notfied somehow that scanning stopped . Impact Application ends up in an unknown state and quirky workarounds are necessary ( I assume restarting scanning will work , but have not tried it . If that does not work then impact is larger . Logs and console output In the log I added a print in : scan_recv . to show that scanning is still running , but no device advertising periodic are found . < URL > Environment ( please complete the following information ): - OS : Windows - Toolchain ( e . g Zephyr SDK , ... ) : Zephyr SDK - Commit SHA or Version used : 429d6cf055766d63add2a000ba81c522d2e24f77	2	0
2 2 1.2 1.0 0.9 1.0 0.7 1.0 1.3333333333333333 2.0 1.0804701627486437 1106 1.0 5 18 23 124	Thread Protection . Reported by Robert Beatty : As a developer on Zephyr I need thread protection so that multiple threads can coexist . ' Basic fault tolerance ( no secure attributes )' ( Imported from Jira ZEP-1833 )  	0	1
2 2 2.0 2.0 1.9 2.0 1.9 2.0 2.0 2.0 1.2934497816593886 2290 1.0 5 8 15 105	[ Coverity CID : 236596 ] Logically dead code in subsys/bluetooth/audio/mics . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : bt_mics_included_get . Component : Bluetooth CID : < URL > Details : < URL > : 242 included -> aics_cnt = ARRAY_SIZE(mics_inst . aics_insts ); 243 included -> aics = mics_inst . aics_insts ; 244 245 return 0 ; 246 } 247 #endif /* CONFIG_BT_MICS */ >>> CID 236596 : Control flow issues ( DEADCODE ) >>> Execution cannot reach this statement : ' return -95;' . 248 return -EOPNOTSUPP ; 249 } 250 251 int bt_mics_unmute(struct bt_conn * conn ) 252 { 253 #if defined(CONFIG_BT_MICS_CLIENT ) . For more information about the violation , check the < URL > . < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 2.0 2.0 2.0 2.0 1.65 2.0 2.0 2.0 1.6 25 2.0 31 36 62 240	[ Coverity CID : 195816]Null pointer dereferences in /tests/net/dhcpv4/src/main . c . Static code scan issues seen in File : /tests/net/dhcpv4/src/main . c Category : Null pointer dereferences Function : prepare_dhcp_offer Component : Tests CID : 195816 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.2 1.0 1.4 2.0 1.3 1.5 1.0 1.0 1.5 4 2.0 4 4 4 4	Arduino 101 AIO not working as expected . Reported by Javier B Perez : Configuration x86 Arduino 101 micro , nano Bug detailed description AIO not working as expected , no callback is triggered Testcase to Reproduce attached Steps to Reproduce Connect A0 to ground with resistor 1.5 k make BOARD = arduino_101 APP = dw_aio_comparator_test flash Wait when DUT says ' waiting for event ' , disconnect A0 from ground Expected Result callback should be triggered Actual Result no callback triggered User Impact AIO is not working ( Imported from Jira ZEP-6 )	2	0
2 2 1.4 2.0 1.7 2.0 1.65 2.0 1.6666666666666667 2.0 1.5 6 1.5 23 33 55 115	Support relative path from application source dir . Fixes : #23825 Today , BOARD , SOC , ARCH , DTS , KCONFIG , and TOOLCHAIN_ROOT can be specified by users or through other CMake files . It is not clear if relative paths are permitted and/or from where a relative path is constructed . Inside CMake , it is very easy to specify : ${ZEPHYR_BASE } . , : ${CMAKE_CURRENT_SOURCE_DIR } . , or similar , thus there is no reason to use relative path inside CMake , as it easy can lead to discussion on relative to what . For users manually invoking CMake using , : cmake ... < app-dir > . it is nice to have to possibility to specify a relative path . For this purpose , relative path are considered relative to the : APPLICATION_SOURCE_DIR . . This commit updates : - BOARD_ROOT - SOC_ROOT - ARCH_ROOT - DTS_ROOT - KCONFIG_ROOT - TOOLCHAIN_ROOT to allow paths relative to : APPLICATION_SOURCE_DIR . when specified with : -D < type > _ROOT = < relative-path > . To support consistent behavior a : zephyr_file () . extension command has been introduced . This commands examines a path list for relative paths , and convert relative paths provided with : -D < path > . into absolute paths , starting from : APPLICATION_SOURCE_DIR . .	2	2
2 2 1.0 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 1.0684326710816776 1359 1.0 5 12 21 89	BSD Sockets API : Select/poll API . Reported by Paul Sokolovsky : ' As an application developer , familiar with BSD Sockets API ( part of POSIX ) , I would like to port existing async network event loops to Zephyr . ' API calls to be implemented : poll () Study feasibility of select () ( Imported from Jira ZEP-2228 )	2	1
2 2 1.4 2.0 1.2 1.0 1.25 1.0 1.6666666666666667 2.0 1.1428571428571428 7 1.0 0 7 14 58	hello world doesn't work on qemu_arc_em when CONFIG_ISR_STACK_SIZE = 1048510 . Describe the bug hello world sample doesn't work on qemu_arc_em when CONFIG_ISR_STACK_SIZE = 1048510 To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = qemu_arc_em -DCONFIG_ISR_STACK_SIZE = 1048510 .. 3 . make run 4 . See error	2	0
2 2 1.8 2.0 1.9 2.0 1.95 2.0 2.0 2.0 1.329243353783231 2445 1.0 46 51 54 99	[ Coverity CID : 240239 ] Uninitialized scalar variable in tests/lib/cmsis_dsp/matrix/src/unary_q7 . c . Static code scan issues found in file : < URL > Category : Uninitialized variables Function : : test_op1 . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 0.8 1.0 0.8 1.0 1.0 1.0 0.3333333333333333 0.0 1.0843373493975903 1079 1.0 2 18 34 112	TCP does not work on Arduino 101 board . . Reported by jiequan wu : Test steps : 1 . cd samples/net/echo_server 2 . enable IPv6 and disable IPv4 : CONFIG_NET_IPV4 = n CONFIG_NET_IPV6 = y 3 . make pristine && make BOARD = arduino_101 flash 4 . connect Arduino to the LAN with ENC28J60 5 . set IPv6 address on linux sudo ifconfig eth1 inet6 add 2001 : db8 :: 2/64 6 . cd ne t-t ools 7 . $ . / tcptest.py eth1 2001 : db8 :: 1 { code } linux @linux -desktop : ~ /latest/ne t-t ools$ . / tcptest.py eth1 2001 : db8 :: 1 Thu Feb 23 14:46:31 2017 : Connecting to [ 2001 : db8 :: 1 ]: 4242 ( through interface eth1 , scope_id 15 ) { code } It can block here . And ping is ok . { code } linux @linux -desktop : ~ /latest/ne t-t ools$ ping6 -I eth1 2001:0 db8 :: 1 PING 2001:0 db8 :: 1(2001 : db8 :: 1 ) 56 data bytes 64 bytes from 2001 : db8 :: 1 : icmp_seq = 1 ttl = 64 time = 12.2 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq = 2 ttl = 64 time = 12.2 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq =3 ttl = 64 time = 12.3 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq = 4 ttl = 64 time = 12.2 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq = 5 ttl = 64 time = 12.2 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq = 6 ttl = 64 time = 12.2 ms 64 bytes from 2001 : db8 :: 1 : icmp_seq = 7 ttl = 64 time = 12.2 ms { code } ( Imported from Jira ZEP-1786 )  	0	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.3057815845824412 2335 1.0 34 37 43 95	[ Coverity CID : 238358 ] Logically dead code in tests/bluetooth/tester/src/mesh . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : config_mod_sub_get . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.2 1.0 1.2 1.0 1.35 1.5 1.0 1.0 1.2 10 1.0 1 1 3 25	Compiler flags added late in the build are not exported to external build systems . The current infrastructure for integrating with external build systems can cause flags to be omitted in a way that is confusing and inconvenient for build script developers . Today it works like this : CMakeLists . txt code is processed in a sequential manner . Different subsystems ( arch/ , zephyr/CMakeLists . txt , subsystems/ , ext/) can globally add flags to the build , and the zephyr_get_* API reads out this global list of flags when it is invoked to export flags to external build systems . For third party build systems that are integrated in the ' app ' CMakeLists . txt file this works fine , because the code in the ' app ' CMakeLists . txt that is placed after boilerplate . cmake is the last code to be executed and will therefore have access to all flags . For Zephyr components things are trickier . No matter how careful we are in ordering arch , ext , subsys , there will eventually arise a use-case where two different systems are both exporting flags to external build systems and also globally adding compiler flags .	2	0
2 2 1.0 1.0 1.0 1.0 1.15 1.0 1.3333333333333333 2.0 1.015625 704 1.0 5 14 46 104	alert : unexpected API listed in ' kernel primer v2 ' . Reported by Sharron LIU : < URL > k_alert_handler_set () is listed , but not defined in ' kernel . h ' . Please review . Thanks . ( Imported from Jira ZEP-1240 )	2	2
2 2 1.6 2.0 1.8 2.0 1.6 2.0 1.6666666666666667 2.0 0.0 0 0.0 5 5 16 59	 [ message_queues . rst ] unclear about data_item structure type . In documentation : reference/kernel/data_passing/message_queues . html - [ x ] : sizeof(data_item_type ) . is used instead of : sizeof(struct data_item_type ) . - [ x ] struct is defined as : data_item_type . and : next data_item_t . - [ x ] could be useful when talking about defining message queue , to talk again about the message queue alignment and propose to use the : aligned . attribute when defining type : : typedef struct { } __attribute__((aligned(4 ))) data_item_t . - [ x ] in ' reading from message queue ' , : k_msgq_get . return value must be tested as : -ENOMSG . can be returned due to : k_msgq_purge . ( edited )	2	2
0 0 0.8 0.0 0.8 0.0 0.8 0.5 0.0 0.0 1.1014492753623188 138 1.0 12 15 16 35	Support for USB communications device class ACM . Reported by Anas Nashif : Zephyr shall support USB communications device class ACM ( Imported from Jira ZEP-232 )  	0	1
1 1 0.8 1.0 0.8 1.0 0.95 1.0 0.6666666666666666 1.0 1.0920195439739413 1228 1.0 3 11 17 65	Add 802.15.4 driver for KW41Z . Reported by Maureen Helm : Add 802.15.4 driver for KW41Z ( Imported from Jira ZEP-2026 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3650793650793651 126 1.0 11 15 18 49	[ Coverity CID : 190631]Control flow issues in /subsys/net/lib/lwm2m/lwm2m_rw_json . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_rw_json . c Category : Control flow issues Function : do_write_op_json Component : Networking CID : 190631 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 1.0246575342465754 730 1.0 2 4 28 120	ARC SPI 1 Port is not working . Reported by Rahul Singh : After the below fixed is merged to master branch ARC SPI port 1 stopped working . < URL > Root Cause : SPI 0 configuation is registered for SPI 1 because of that SPI 1 is not working fine . ( Imported from Jira ZEP-1287 )	1	0
2 2 2.0 2.0 2.0 2.0 1.65 2.0 2.0 2.0 1.5 10 1.5 16 21 47 225	[ Coverity CID : 195860]Null pointer dereferences in /tests/net/tcp/src/main . c . Static code scan issues seen in File : /tests/net/tcp/src/main . c Category : Null pointer dereferences Function : setup_ipv6_tcp Component : Tests CID : 195860 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.6 2.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 1.4736842105263157 19 2.0 3 9 17 93	Zephyr's Kconfig implementation should not behave subtly differently from Linux . Zephyr's Kconfig implementation diverges from Linux by prefering later defaults . This is a problem for several reasons : Problem description Zephyr can no longer rely on the existing Kconfig ecosystem for documentation . Everything in the Linux kernel's Kconfig documentation applies to Zephyr's Kconfig except that the documentation is wrong when it states that earlier defaults have precedence . The divergence must be implemented in Kconfig tools . Currently this is done with an out-of-tree patch on kconfiglib that is expensive to maintain . Readers already familiar with the original Kconfig language will read Zephyr Kconfig files incorrectly . The above two issues are resolvable without aligning with Linux , but this is not . Problem solutions The cleanest solution is simply to follow the Linux kernel's behaviour . But to do this it must be better understood why the divergence occured and what the alternatives for diverging were . @ulfalizer has already looked into this here ( < URL > so we have some idea of why the divergence occured , but our options for re-aligning are not well understood .	1	1
0 0 0.8 1.0 1.1 1.0 1.1 1.0 1.0 1.0 1.1958762886597938 97 1.0 5 8 13 76	tests/misc/test_build/buildsystem . kconfig . utf8_in_values fails on faze . When running : : . /scripts/sanitycheck -p faze -s tests/misc/test_build/buildsystem . kconfig . utf8_in_values . Get : : Generating files from A_kconfig_value_with_a_utf8_char_in_it_Be_ . elf for board : faze Error : [ Errno 2 ] No such file or directory : ' /home/galak/git/zephyr/sanity-out/faze/tests/misc/test_build/buildsystem . kconfig . utf8_in_values/zephyr/zephyr . hex ' .  	0	0
1 1 1.4 1.0 1.5 1.5 1.55 2.0 1.3333333333333333 1.0 1.3478260869565217 161 1.0 24 36 58 162	[ Coverity CID : 190974]Integer handling issues in /subsys/net/ip/trickle . c . Static code scan issues seen in File : /subsys/net/ip/trickle . c Category : Integer handling issues Function : ne t_t rickle_create Component : Networking CID : 190974 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.4 1.5 1.35 1.5 1.6666666666666667 2.0 1.0 9 1.0 2 5 12 79	LOG_PANIC never returns if RTT is disconnected . Describe the bug When RTT is connected LOG_PANIC ends at some point . When RTT is disconnected it does not . To Reproduce Steps to reproduce the behavior : Use LOG_PANIC with JLink disconnected . Expected behavior LOG_PANIC should never lock . Impact LOG_PANIC deadlocks so application cannot finish its activities . Environment ( please complete the following information ): - rev : 5ea8454e46208ab3fd7006e98b47ca15d5c7a450 .	2	0
2 2 2.0 2.0 1.9 2.0 1.95 2.0 2.0 2.0 1.27365020766036 2167 1.0 35 35 44 245	[ Coverity CID : 220419 ] Unchecked return value in subsys/bluetooth/host/gatt . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : gatt_prepare_write_rsp . Component : Bluetooth CID : < URL > Details : < URL > : 3997 if ( ! params -> length ) { 3998 gatt_exec_write(conn , params ); 3999 return ; 4000 } 4001 4002 /* Write next chunk */ >>> CID 220419 : Error handling issues ( CHECKED_RETURN ) >>> Calling ' bt_gatt_write ' without checking return value ( as is done elsewhere 4 out of 5 times ) . 4003 bt_gatt_write(conn , params ); 4004 } 4005 4006 static int gatt_prepare_write_encode(struct net_buf * buf , size_t len , 4007 void * user_data ) 4008 { . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.8 2.0 1.6 2.0 1.55 2.0 2.0 2.0 1.0 1 1.0 10 40 54 266	PCI debug logging cannot work with PCI-enabled NS16550 . Describe the bug 14554 shows a problem when : CONFIG_UART_NS16550_PCI . , : CONFIG_PCI_ENUMERATION . and : CONFIG_PCI_LOG_DBG . are all enabled . The UART driver has not been initialized yet but : pci_dev_scan () . is trying to printing debug messages . Exception was raised and nothing got printed to the console . To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . Enable these options * : CONFIG_LOG = y . * : CONFIG_PCI = y . * : CONFIG_PCI_ENUMERATION = y . * : CONFIG_PCI_LOG_DBG = y . * : CONFIG_SHELL = y . 3 . cmake -DBOARD = up_squared .. / 4 . make 5 . Run with image 6 . See error Expected behavior The shell should come up . Impact Low , as one should use MMIO address anyway .	2	0
2 2 1.4 2.0 1.4 1.5 1.4 1.0 1.3333333333333333 2.0 1.0835987261146496 1256 1.0 5 7 17 61	Fix IID when using CONFIG_NET_L2_BLUETOOTH_ZEP1656 . Reported by guiwu guo : In subsys/net/ip/l2/bluetooth . c ipsp_connected { code : java } static void ipsp_connected(struct bt_l2cap_chan * chan ) { ...... : ll . addr = ctxt -> dst . val ; ll . len = sizeof(ctxt -> dst . val ); /* Add remote link-local address to the nbr cache to avoid sending ns : * < URL > * A Bluetooth LE 6LN MUST NOT register its link-local address . */ net_ipv6_addr_create_iid(&in6 , & ll ); net_ipv6_nbr_add(ctxt -> iface , & in6 , & ll , false , NET_IPV6_NBR_STATE_REACHABLE ); ...... . } { code } forget set the link type , so that it will set a wrong iid in the net_ipv6_addr_create_iid function { code : java } static inline void net_ipv6_addr_create_iid(struct in6_addr addr , struct net_linkaddr lladdr ) { ... if defined(CONFIG_NET_L2_BLUETOOTH_ZEP1656 ) : /* Workaround against older Linux kernel BT IPSP code . * This will be removed eventually . */ if ( lladdr -> type = = NET_LINK_BLUETOOTH ) { addr -> s6_addr[8 ] ^ = 0x02 ; } . endif : if ( lladdr -> type = = NET_LINK_ETHERNET ) { addr -> s6_addr[8 ] ^ = 0x02 ; } ... . } { code } ( Imported from Jira ZEP-2077 )	1	0
0 0 1.2 1.0 1.5 2.0 1.25 1.5 0.6666666666666666 1.0 2.0 1 2.0 10 16 26 85	drivers : SPI NOR : Inconsistency with flash interface docs . Describe the bug The addition of SPI NOR flash driver introduced an incosistency with the docs for flash . According to the docs , < URL > / < URL > return 0 on success . On the contrary , < URL > / < URL > return the amount of bytes read/written from/to spi flash . The big difference can be seen in the usage of flash interface in < URL > vs this < URL > in which the reader of the code should assume the underlying hardware flash scheme . This destroys the abstraction that should be taken for granted . Impact I created a sample for my board that has a SPI NOR . It took me some time to see why the tests were failing , since I followed the docs descriptions .	1	0
2 2 1.4 1.0 1.4 1.0 1.3 1.0 1.6666666666666667 2.0 1.4264705882352942 136 1.0 19 27 39 94	[ Coverity CID : 203542]Error handling issues in /lib/posix/pthread . c . Static code scan issues seen in File : /lib/posix/pthread . c Category : Error handling issues Function : pthread_create Component : Other CID : 203542 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.6 2.0 1.7 2.0 1.4 2.0 1.6666666666666667 2.0 1.3333333333333333 6 1.5 7 14 27 99	Zephyr can no longer apply DT overlays on a per-SoC basis . When Kconfig ran before DTC , we could : ifdef #CONFIG_SOME_SOC . in our application DT overlays , and apply generic configuration on a per-SoC basis . Now that DTC runs first , this is impossible . A solution was attempted in < URL > but apparently has been abandoned for LTS at the moment . This regression makes it much more difficult to write portable applications that need to do something on a per-SoC basis , as Zephyr now only supports bringing in DT overlays on a per-board basis . Since many boards share SoCs , this hurts application portability . One use case for SoC-level overlays is to place extra partitions not served by the default upstream per-board overlays , or override them entirely to suit application requirements . A mechanism should be provided to change the device tree overlay depending on the SoC , not just the board .  	0	0
2 2 1.0 1.0 1.2 1.0 1.35 1.5 1.0 1.0 0.967391304347826 184 1.0 0 5 14 71	kernel need update for mmap . Reported by Sharron LIU : < URL > Sections ' Example : xxx ' ' char block_ptr;' should be replaced with ' void block_ptr;' With the former , compilation warning will be raised when doing ' alloc ' and ' free ' . Section ' Example : Freeing a Memory Block back to a Map ' ' task_mem_map_free ()' should take two params , the 1st one is missing in the . Issues detected in R- 1.3 release . ( Imported from Jira ZEP-312 )	2	2
0 0 0.8 1.0 0.7 1.0 0.75 1.0 0.6666666666666666 1.0 1.038860103626943 772 1.0 20 26 39 143	Update external fs with new FATFS revision 0.12 b . Reported by Ramesh Thomas : Currently Zephyr uses 0.12 a of elm-chan FATFS . Update to the latest revision . It was 0.12 b at the time of creation of this story . ( Imported from Jira ZEP-1338 )	1	1
0 0 0.8 1.0 0.8 1.0 0.85 1.0 0.6666666666666666 0.0 1.0939044481054365 1214 1.0 0 3 13 74	Port tickless idle test to unified kernel and cleanup . Reported by Anas Nashif : tests/legacy/kernel/tes t_t ickless still using legacy APIs , move to unified kernel and cleanup , including coding style . ( Imported from Jira ZEP-2008 )  	0	1
1 1 1.2 1.0 1.1 1.0 1.3 1.0 1.6666666666666667 2.0 0.9770114942528736 174 1.0 1 2 27 65	Reduce Kconfig variables in sensor drivers . Reported by Anas Nashif : In many sensor drivers we use choice to select the right value for addresses and other entries , for example : : choice prompt ' Acceleration data filter bandwidth ' depends on BMA280 default BMA280_PMU_BW_7 help Bandwidth of filtered acceleration data . config BMA280_PMU_BW_1 bool prompt ' 7.81 Hz ' config BMA280_PMU_BW_2 bool prompt ' 15.63 HZ ' config BMA280_PMU_BW_3 bool prompt ' 31.25 Hz ' config BMA280_PMU_BW_4 bool prompt ' 62.5 Hz ' config BMA280_PMU_BW_5 bool prompt ' 125Hz ' config BMA280_PMU_BW_6 bool prompt ' 250HZ ' config BMA280_PMU_BW_7 bool prompt ' 500Hz ' config BMA280_PMU_BW_8 bool prompt ' unfiltered ' . Instead , lets just have : config BMA280_PMU prompt ' Acceleration data filter bandwidth ' hex .. . ( Imported from Jira ZEP-293 )	1	1
0 0 0.8 1.0 0.9 1.0 1.1 1.0 0.3333333333333333 0.0 1.0756756756756756 1295 1.0 10 12 19 70	build on windows failed ' zephyr/scripts/Makefile . build : 280 : *** multiple target patterns . ' . Reported by Sharron LIU : Build ' zephyr/samples/hello_world ' failed at windows/MSYS . : $ pwd /home/xianrong/zephyr/samples/hello_world $ make BOARD = quark_d2000_crb C : /msys64/home/xianrong/zephyr/scripts/Makefile . build : 280 : *** multiple target patterns . Stop . make[2 ]: *** [/home/xianrong/zephyr/arch/x86/Makefile . idt : 32 : C : /msys64/home/xianrong/zephyr/scripts/gen_idt/gen_idt ] Error 2 make[2 ]: Leaving directory ' /home/xianrong/zephyr/samples/hello_world/outdir/quark_d2000_crb ' make[1 ]: *** [ Makefile : 177 : sub-make ] Error 2 make[1 ]: Leaving directory ' /home/xianrong/zephyr ' make : *** [ C : /msys64/home/xianrong/zephyr/Makefile . inc : 82 : all ] Error 2 . how-to-reproduce setup windows build env at win10 < URL > source zephyr-env.sh cd samples/hello_world make pristine make BOARD = quark_d2000_crb verify the build log User impact : blocking windows build validation for v 1.8 ( Imported from Jira ZEP-2140 )  	0	0
1 1 1.2 1.0 1.4 1.5 1.05 1.0 1.3333333333333333 1.0 0.75 4 1.0 5 22 25 111	Bluetooth : controller : Prevent LLCP handling of must-expire events ( BT_CTLR_CONN_META ) . When a must-expire ticker callback is executed , it is important not to call the LLCP state machine , as the lazy state is unavailable . The code must rely on the next proper event to call ull_conn_llcp with an updated non-zero lazy count . Note : This is for BT_CTLR_CONN_META only , which is not default enabled . Fixes : #23015 Signed-off-by : Morten Priess < URL >	1	0
1 1 0.6 1.0 0.9 1.0 1.25 1.0 1.0 1.0 1.0256410256410255 39 1.0 6 6 9 85	Convert iwdg_stm32 STM32 Watchdog driver to new API . We have a new driver API for watchdog , the old API has been deprecated for several releases now . We need to convert the driver to use the API or remove it .	1	0
2 2 1.6 2.0 1.4 1.5 1.3 1.0 1.6666666666666667 2.0 1.0625 16 1.0 3 6 25 96	arch : arm : kw41z : Set DTS fixup for CONFIG_RTC_0_NAME . Recent change to RTC core now gets CONFIG_RTC_0_NAME from device tree . So we need a fixup for KW41Z for that . Signed-off-by : Kumar Gala < URL >  	0	0
0 0 1.0 1.0 1.3 2.0 1.05 1.0 0.3333333333333333 0.0 0.9671641791044776 335 1.0 1 5 14 53	warn user if SDK is out of date . Reported by Andrew Boie : As a developer , I would like to be warned by the build system if my SDK installation is out of date so that I am not otherwise confused or surprised by issues in the build . It could be something as simple as : Warning : Your SDK version is 0.8.0 , but version 0.8.1 or greater is recommended ( Imported from Jira ZEP-584 )	1	1
0 0 1.2 1.0 1.3 1.5 1.3 1.5 1.0 1.0 1.1956521739130435 92 1.0 2 9 11 54	Build failure on nucleo_wb55rg for tests/kernel/profiling/profiling_api/kernel . common . profiling . The following fails ( shown in the daily overall build ): : . /scripts/sanitycheck -p nucleo_wb55rg -s tests/kernel/profiling/profiling_api/kernel . common . profiling .  	0	0
0 0 1.2 1.0 1.4 1.5 1.3 1.0 1.0 1.0 1.014265335235378 701 1.0 10 24 46 102	Removal of fiber * APIs due to unified migration breaks USB mass storage patchset . Reported by Jithu Joseph : The affected patch is < URL > Debugged the issue a bit further , looks like the mass_fiber_main () , is not getting scheduled , though the semaphore is signaled . I tried with the unified semaphore APIs , but it didn't help either . So I am assuming the issue is related to fiber scheduling . = = = with the microkernel build you could see the following in the console logs , with the unified one the red stuff is missing . .... [ general ] [ DBG ] mass_storage_bulk_in : < BI - WAIT_CSW [ general ] [ DBG ] mass_storage_bulk_out : > BO - READ_CBW [ general ] [ DBG ] CBWDecode : >> READ [ general ] [ DBG ] infoTransfer : LBA ( block ) : 0x0 [ general ] [ DBG ] infoTransfer : Size ( block ) : 0x8 [ general ] [ DBG ] memoryRead : Signal fiber for 0 { color : red}[general ] [ DBG ] mass_fiber_main : sem 1{color } { color : red}[general ] [ DBG ] memoryRead : Signal fiber for 1 [ general ] [ DBG ] mass_fiber_main : sem 1 [ general ] [ DBG ] memoryRead : Signal fiber for 2 [ general ] [ DBG ] mass_fiber_main : sem 1 [ general ] [ DBG ] memoryRead : Signal fiber for 3 [ general ] [ DBG ] mass_fiber_main : sem 1 [ general ] [ DBG ] memoryRead : Signal fiber for 4{color } ( Imported from Jira ZEP-1234 )  	0	0
0 0 1.4 2.0 1.3 1.5 1.35 1.5 1.3333333333333333 2.0 0.6666666666666666 9 0.0 3 5 19 151	Remove the Kconfig helper options for nRF ICs once DT can replace them . The helper options introduced by #8363 are a temporary measure until #7302 is resolved in a way that allows us to handle the equivalent hardware support mapping into ICs properly . Remove them once the relationship between Kconfig and DT is clarified and there is a clear path ahead on how to deal with instancing .	2	1
0 0 0.8 1.0 0.6 0.0 0.5 0.0 0.6666666666666666 0.0 1.0757927300850734 1293 1.0 8 10 19 72	Static code scan ( coverity ) issues seen . Reported by Shilpashree L C : As per the Coverity last analyses on April 18 , 2017 , there were potential defects that were found in /arch/arm/ file has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type| ||Category|| ||File|| ||Function|| |151970| |Logically dead code| |Control flow issues| |/arch/arm/soc/st_stm32/stm32l4/soc_gpio . c| |stm32_gpio_flags_to_conf| ( Imported from Jira ZEP-2138 )  	0	0
2 2 1.8 2.0 1.7 2.0 1.4 1.0 1.6666666666666667 2.0 1.4197530864197532 81 1.0 14 14 24 78	[ Coverity CID : 188743]Program hangs in /tests/posix/common/src/posix_rwlock . c . Static code scan issues seen in File : /tests/posix/common/src/posix_rwlock . c Category : Program hangs Function : test_posix_rw_lock Component : Tests CID : 188743 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
1 1 1.0 1.0 1.1 1.0 1.1 1.0 1.0 1.0 0.8807947019867549 151 1.0 3 5 13 135	samples/net/civetweb/websocket_server fails to build . Describe the bug Trying to build samples/net/civetweb/websocket_server fails To Reproduce Steps to reproduce the behavior : 1 . mkdir samples/net/civetweb/websocket_server/build ; cd samples/net/civetweb/websocket_server/build 2 . cmake -DBOARD = nucleo_h745zi_q_m7 3 . make 4 . See error : : [ 3%] Generating zephyr/include/generated/web_page/ws . js . inc /bin/sh : /home/galak/git/zephyr/samples/net/civetweb/websocket_server/build/zephyr/include/generated//web_page/ws . js . inc : No such file or directory make[2 ]: *** [ CMakeFiles/gen_ws_js_inc_9dd2249e742a278f4e7dceadee74a807 . dir/build . make : 80 : zephyr/include/generated/web_page/ws . js . inc ] Error 1 make[1 ]: *** [ CMakeFiles/Makefile 2:2407 : CMakeFiles/gen_ws_js_inc_9dd2249e742a278f4e7dceadee74a807 . dir/all ] Error 2 make : *** [ Makefile : 103 : all ] Error 2 . This is due to the fact that the dir : build/zephyr/include/generated//web_page/ . doesn't get created .  	0	0
1 1 0.8 1.0 0.9 1.0 0.65 1.0 1.0 1.0 1.0966084275436794 973 1.0 2 8 33 99	include precompiled tools into SDKs . Reported by Sonia Leon Bautista : include precompiled tools ( kbuil , fixdep , genidt , gen_ofset_header ) into SDKs ( Imported from Jira ZEP-1637 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.4955752212389382 113 2.0 6 6 14 75	[ Coverity CID : 198866]Null pointer dereferences in /subsys/net/lib/dns/llmnr_responder . c . Static code scan issues seen in File : /subsys/net/lib/dns/llmnr_responder . c Category : Null pointer dereferences Function : create_ipv6_dst_addr Component : Networking CID : 198866 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 0.8 0.0 1.0 1.0 1.1 1.0 1.3333333333333333 2.0 1.85 20 2.0 47 58 77 253	 update robots . txt to exclude more old docs . The current robots . txt excludes old docs ( from 1.4.0 through 1.8.0 ) from search engines but is letting really old docs from 1.2.0 and 1.3.0 through . Add these two folder to the Disallow list too ( or just delete some of these really old sets .	2	2
2 2 1.0 1.0 0.9 1.0 1.1 1.0 1.0 1.0 0.9652650822669104 547 1.0 2 31 62 143	Fail to get ATT response . Reported by Mariusz Skamra : In test TC_GAD_CL_BV_02_C PTS sends ATT Indication prior to ATT Find By Type Value Response . Stack handles ATT Indication : [ bt ] [ DBG ] bt_recv : ( 0x20004ee0 ) buf 0x200016dc len 15 [ bt ] [ DBG ] hci_rx_fiber : ( 0x200066e0 ) buf 0x200016dc type 3 len 15 [ bt ] [ DBG ] hci_acl : ( 0x200066e0 ) buf 0x200016dc [ bt ] [ DBG ] hci_acl : ( 0x200066e0 ) handle 64 len 11 flags 2 [ bt ] [ DBG ] bt_conn_ref : ( 0x200066e0 ) handle 64 ref 3 [ bt ] [ DBG ] bt_conn_recv : ( 0x200066e0 ) handle 64 len 11 flags 02 [ bt ] [ DBG ] bt_conn_recv : ( 0x200066e0 ) First , len 11 final 7 [ bt ] [ DBG ] bt_conn_recv : ( 0x200066e0 ) rx_len 0 [ bt ] [ DBG ] bt_conn_recv : ( 0x200066e0 ) Successfully parsed 11 byte L2CAP packet [ bt ] [ DBG ] bt_l2cap_recv : ( 0x200066e0 ) Packet for CID 4 len 7 [ bt ] [ DBG ] l2cap_chan_recv : ( 0x200066e0 ) chan 0x200049d8 len 7 [ bt ] [ DBG ] bt_att_recv : ( 0x200066e0 ) Received ATT code 0x1d len 7 [ bt ] [ DBG ] att_indicate : ( 0x200066e0 ) handle 0x0012 [ bt ] [ DBG ] bt_gatt_notification : ( 0x200066e0 ) handle 0x0012 length 4 But ATT Response is not passed to the ATT handler , so that according to the logs it stucks in bt_recv . [ bt ] [ DBG ] bt_recv : ( 0x20004ee0 ) buf 0x20001744 len 13 [ bt ] [ DBG ] bt_recv : ( 0x20004ee0 ) buf 0x200014e0 len 7 See btsnoop logs and debug logs attached v 1.5.0 -408-ge4b92eb ( Imported from Jira ZEP-940 )	1	0
1 1 1.8 2.0 1.3 1.5 1.45 2.0 1.6666666666666667 2.0 1.6363636363636365 11 2.0 2 3 19 166	West warnings ( and others ? ) are ignored when building documentation . Describe the bug West warnings ( and others ? ) are ignored when building documentation To Reproduce Break the following file like this : : --- a/scripts/west_commands/runners/ bossac.py +++ b/scripts/west_commands/runners/ bossac.py @@ -5 , 6 +5 , 9 @@ ''' bossac-specific runner ( flash only ) for Atmel SAM microcontrollers . ''' + +import missing_stuff + . Build the documentation : : cd zephyr make -C . The following warning appears yet the documentation build completes successfully : : The module for runner ' bossac ' could not be imported ( No module named ' missing_stuff ' ) . This most likely means it is not handling its dependencies properly . Please report this to the zephyr developers . . Expected behavior The build should fail because sphinx and other warnings are either explicitly filtered or treated as errors . Impact Hard to tell , depends on which warnings are ignored . Logs and console output See above . Environment ( please complete the following information ): Documentation for Zephyr commit : v 2.6.0 -rc3 . built on Linux . Additional context Commit 442f631af1f6 and before may be related . Note you will most likely miss that warning ( which is part of the problem ! ) because the documentation build is quite verbose . To see it better and test it faster , trigger an incremental build like this : : printf ' /n ' >> doc/guides/west/build-flash-debug . rst # makes sure bossac.py is needed again make -C doc/ . See more info in PR #33448	2	2
1 1 1.4 2.0 1.2 1.0 1.3 1.5 1.6666666666666667 2.0 1.0916530278232406 1222 1.0 4 8 17 60	Xtensa port does not compile if CONFIG_TICKLESS_IDLE is enabled . Reported by Andreas Lenz : Compiler error is : {{ arch/xtensa/core/xtensa_vectors . S : 989 : undefined reference to `_power_save_idle_exit ' }} ( Imported from Jira ZEP-2019 )  	0	0
0 0 0.0 0.0 0.0 0.0 0.3 0.0 0.0 0.0 0.9565217391304348 138 1.0 7 8 23 137	Convert samples nrf clock_skew to new kwork API . Convert samples/boards/nrf/clock_skew/src/main . c to use new kwork API . See the following issue for details : 33104  	0	0
2 2 1.2 1.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 0.8 5 1.0 1 2 47 73	unexpected user mode stack overflows on ARM . I am using nxp frdm_k64f ( has cortex M4 core ) . I tried running zephyr/tests/kernel/mem_protect/userspace . It passes successfully . However if I introduce a printf () in function userspace/src/main . c : umode_enter_func () under the condition when is_user_context is true , zephyr kernel crashes . * USAGE FAULT *** Executing thread ID ( thread ): 0x200002ec Faulting instruction address : 0x61a0 Attempt to execute undefined instruction Caught system error -- reason 0 Further decoding faulting instruction address 0x61a0 using ' addr2line ' takes me to userspace/build/frdm_k64f/zephyr/priv_stacks_hash . gperf : 32 The given line number is inside following function ( at the location where variable map is being dereferenced to get priv_stack_addr ) . : u8_t *_k_priv_stack_find(void * obj ) { const struct _k_priv_stack_map * map = _k_priv_stack_map_lookup((const char *) obj , sizeof(void *)) ; return map -> priv_stack_addr ; } .  	0	0
2 2 1.4 1.0 1.5 1.5 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 0 5 21 107	KW41Z crash on echo apps ( ieee802154 ) . KW41Z with Echo Server|Client hard faults To Reproduce Just flash a kw41z with echo-server or client @ master zephyr and look at console cmake -GNinja -DBOARD = frdm_kw41z -DCONF_FILE='boards/frdm_kw41z . conf prj . conf ' .. / cp zephyr/zephyr . bin /media/ /FRDM-KW41ZJ/ Expected behavior Should work out of the box . Impact Showstopper to test 802154 between devices on KW41Z Toolschain SDK 0.9.5 and 7.3.1 master  	0	0
1 1 0.8 1.0 1.2 1.0 1.25 1.0 0.6666666666666666 1.0 1.1333333333333333 15 1.0 3 7 16 89	xlnx_psttc_timer driver has an imprecise z_clock_se t_t imeout () implementation . The xlnx_psttc_timer driver used in qemu_cortex_r5 has a sloppy z_clock_se t_t imeout () implementation . If asked to set a timeout for N ticks in the future , it simply adds N ticks worth of counter cycles to the current time and schedules an interrupt for that time . This is incorrect , as any fractional tick that may have elapsed at the moment of the call will get lost , leading to timekeeping errors over time . The driver needs to announce ticks as close to their natural ' tick boundaries ' as possible , and not lose precision . See the documentation for z_clock_se t_t imeout () in include/drivers/timer/system_timer . h and doc/reference/kernel/timing/clocks . rst , and also the implementation of the tick rounding logic in other timer drivers ( nrf_rtc_timer , hpet and cortex_m_systick are all very mature ) .	1	0
2 2 1.6 2.0 1.4 1.0 1.45 1.0 1.6666666666666667 2.0 1.1944444444444444 36 1.0 12 12 24 89	t1_adc108s102 buffer overflow due to chan -> buf_idx growth . Sampling is done in an infinite loop until no more data is received from SPI for that transaction (_ti_adc108s102_sampling () returns 0 ) . For each iteration , _ti_adc108s102_handle_result () is called in increments chan -> buf_idx + = 2 for each entry . The check for free space in the buffer ( entry -> buffer_length - chan -> buf_idx = = 0 ) only works if entry -> buffer_length is an even number . chan -> buf_idx will keep increasing and writing out of bounds (( u16_t )( entry -> buffer + chan -> buf_idx )) = ADC102S102_RESULT(adc -> sampling_buffer[s_i ]);	1	0
2 2 1.2 1.0 1.4 2.0 1.4 2.0 1.6666666666666667 2.0 1.5 16 1.5 0 1 10 82	Zephyr application build system is not aware of settings partition . Describe the bug Application build system is not aware of settings partition . For big applications that may result in building improper hex . In case code does not fit on the ' code partition ' , part of the firmware may actually reside in the settings FLASH area . Expected behavior Developer should not be able to successfully build application that does not fit into memory ( or at least there should be warning related to the problem ) . Impact Settings may remove/damage part of the firmware . That leads to errors that could be really difficult to debug . RFC Proposal for nRF boards : < URL >	1	1
1 1 1.4 1.0 1.3 1.0 1.4 1.0 1.6666666666666667 2.0 1.2 5 1.0 1 2 11 83	RT1050/60/64-evk board user LED does not work . A recent change ( 572f440 ) added a condition that CONFIG_NET_L2_ETHERNET be true to initialize a set of GPIO port pins . One of the port pins is a shared pin between ENET and ' user LED ' so without Ethernet being configured the user LED cannot be used .	2	0
1 1 1.4 1.0 1.3 1.0 1.25 1.0 1.6666666666666667 2.0 1.0721442885771544 1497 1.0 3 9 13 81	[ nrf ] Scheduling test API is getting failed in case of nrf51/nrf52 platforms . Reported by Youvedeep Singh : Platform is getting into hard Hang in case of nrf platform family Here is crash log : - * BOOTING ZEPHYR OS v 1.8.99 - BUILD : Jul 28 2017 05:42:10 *** Running test suite tes t_t hreads_scheduling tc_start () - test_priority_cooperative = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_priority_cooperative . tc_start () - test_priority_preemptible = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_priority_preemptible . tc_start () - test_yield_cooperative = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_yield_cooperative . tc_start () - test_sleep_cooperative = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_sleep_cooperative . tc_start () - test_sleep_wakeup_preemptible = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_sleep_wakeup_preemptible . tc_start () - tes t_t ime_slicing_preemptible : Assertion failed at /home/ysingh/IOT/Zephyr/Source_Code/github/Zephyr_May16e . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FAIL - tes t_t ime_slicing_preemptible . tc_start () - tes t_t ime_slicing_disable_preemptible = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - tes t_t ime_slicing_disable_preemptible . tc_start () - test_lock_preemptible * HARD FAULT *** Executing thread ID ( thread ): 0x20000508 Faulting instruction address : 0x98f4 Fatal fault in ISR ! Spinning ... ( Imported from Jira ZEP-2444 )	1	0
2 2 0.4 0.0 0.6 0.0 0.95 1.0 0.6666666666666666 0.0 1.4545454545454546 11 2.0 3 16 20 38	 Zephyr OpenOCD documentation is weak/non-existent . Quite a number of boards supported by Zephyr rely on OpenOCD . However , there's barely any generic information how OpenOCD can be used/controlled/is integrated into Zephyr toolset/build system . The only information available are copy-paste flashing and debugging instructions , e.g. < URL > . They don't go any further than saying ' ninja flash ' . As an outstanding exception , < URL > actually mentions that there's : OPENOCD_INTERFACE . envvar which can be controlled one aspect of OpenOCD functioning . Beyond that , there's absolutely no generic , board-independent documentation on OpenOCD in Zephyr . That's unlike e.g. QEMU and gdb , which have nice , generic quick start instructions to let users easily going ( but also include some additional usage and troubleshooting hints ) .	2	2
1 1 1.4 1.0 1.4 1.5 1.45 2.0 1.3333333333333333 1.0 1.0 9 1.0 59 71 82 128	tests : dma : memory-to-memory transfer fails on stm32f746zg nucleo board . Describe the bug test cases : tests/drivers/dma/chan_blen_transfer . / and : tests/drivers/dma/loop_transfer . fail on nucleo_f746zg board To Reproduce Steps to reproduce the behavior : 1 . west build -p auto -b nucleo_f746zg tests/drivers/dma/chan_blen_transfer/ Expected behavior test PASSED Logs and console output ... timeout Environment ( please complete the following information ): - Commit SHA 53b8706f05aee7777caae8b6d3c2e5bde957a4bf	1	0
2 2 1.8 2.0 1.1 1.0 0.9 1.0 2.0 2.0 0.9842381786339754 571 1.0 2 3 21 157	Add doxygen documentation to both include/kernel . h and include/legacy . h . Reported by Benjamin Walsh : As a user of the kernel , I want to be able to reference both the new API and the legacy API in the documentation . ( Imported from Jira ZEP-981 )  	0	1
1 1 1.2 1.0 1.4 1.0 1.4 1.0 1.3333333333333333 1.0 1.0 6 1.0 7 8 19 100	MISRA C Make external identifiers distinct according with C99 . Even gcc allowing much bigger identifiers , Zephyr is supposed to be built using other compilers , so it is extremely important following what is defined in C standard . Any identifier must be at most 31 characters long . According C99 standard : 5.2.4.1 - Translation limits . . Example of invalid identifier is the generated code : : _handler_flash_get_page_info_by_offs . part of : #9552	1	1
0 0 0.8 0.0 0.9 1.0 0.95 1.0 0.0 0.0 1.2857142857142858 7 1.0 1 4 4 58	cmake : Add LANG-aware versions to the zephyr_get_* API . When exporting flags to an external build system we need to deal with the fact that we sometimes use generator expressions . Specifically , we use generator expressions that look like this : $ < $ : -fno-exceptions > This patch introduces an API where users can ask for compile options for specific languages , like this : zephyr_get_compile_options_for_lang_as_string(CXX x ) This deprecates the existing API . Because today the existing API will either crash or silently omit flags when a COMPILE_LANG generator expression is present . The existing API is kept for the time being to allow users that are not affected by the above issues to update cleanly . Signed-off-by : Sebastian Be < URL >  	0	0
2 2 2.0 2.0 2.0 2.0 1.8 2.0 2.0 2.0 1.0863874345549738 1146 1.0 10 22 33 148	Missing board documentation for arm/bbc_microbit board . Reported by David Kinder : Board documentation is expected for all supported boards found in the /boards folders ( Imported from Jira ZEP-1903 )	2	2
2 2 0.8 1.0 0.4 0.0 0.35 0.0 1.0 1.0 1.075 1120 1.0 2 6 32 130	remove legacy micro/nano kernel APIs . Reported by Andrew Boie : In 1.6 we deprecated the legacy kernel APIs in favor of the unified kernel . Our deprecation policy is to let the deprecated APIs exist for 2 releases . We can remove these legacy APIs in 1.8 . ( Imported from Jira ZEP-1856 )  	0	0
0 0 0.8 1.0 0.7 0.5 0.8 1.0 0.3333333333333333 0.0 1.0784313725490196 867 1.0 6 8 24 120	Update supported distros in getting started guide . Reported by Anas Nashif : right now we reference Ubuntu 14.04 LTS 64-bit Fedora 22 64-bit as the supported host distros , those are very old and soon to be EOLed . We need to change the documentation with latest distros and make sure the steps are compatible with the latest Fedora and LTS from ubuntu . ( Imported from Jira ZEP-1480 )	1	2
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.6666666666666667 18 2.0 8 8 20 74	[ Coverity CID : 186847 ] Parse warnings in /tests/kernel/mem_protect/mem_protect/src/inherit . c . Static code scan issues seen in File : /tests/kernel/mem_protect/mem_protect/src/inherit . c Category : Parse warnings Function : Component : Tests CID : 186847 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
2 2 1.8 2.0 1.4 1.5 1.55 2.0 1.6666666666666667 2.0 1.3333333333333333 6 1.5 2 6 9 47	twister : using unsupported fixture without defined harness causes an infinite loop during on-target test execution . Describe the bug The bug can be observed when the following conditions combine : - a test requiring a fixture - the test does not have harness : console or ztest - the test is called for hardware that does not have the fixture defined . Even though a test requires a fixture in its yaml , twister will get in an infinite loop waiting for the device to become ready . I think the logic in : handle () . ( line 689 in twisterlib.py ) is wrong : : while not self . device_is_available(self . instance ): logger . debug('Waiting for device {} to become available ' . format ( self.instance.platform.name )) time . sleep(1 ) . The function : device_is_available () . checks if the fixture exists in the device and returns False . Then the 1 sec sleep is applied and the check for the fixture repeats . This happens until the timeout termination . If the test defines harness as console or ztest then the test is skipped correctly . If none of these harnesses is used then we end up in the loop . I am not sure if it is a real error . I found it when I was trying to figure out why #31188 was not getting filtered ( now harness : ztest is added to the yamls in PR and fixture is skipped correctly ) .	2	0
0 0 0.0 0.0 0.1 0.0 0.45 0.0 0.0 0.0 1.0941176470588236 1190 1.0 2 7 22 107	Provide a sample application for kernel_event_logger . Reported by Anas Nashif : Provide a sample for kernel_event_logger functionality and logging features in the kernel . Such a sample should be standalone and should expose all features provided by the kernel event option . ( Imported from Jira ZEP-1967 )	1	1
1 1 1.0 1.0 1.4 1.5 1.25 1.0 1.3333333333333333 1.0 1.09375 96 1.0 7 26 73 249	userspace : naive header parsing algorithm in parse_syscalls . py . Is your enhancement proposal related to a problem ? Please describe . parse_syscalls . py has a naive algorithm : It very naively parses system call invocations . It can't handle argument type declarations which are arrays , or function pointers . It looks at headers without invoking the preprocessor . This causes every : __syscall . found to generate an 8-byte entry in the system call dispatch table , even if the syscall is unimplemented . This situation is handled gracefully at runtime if such a call is invoked , but space is wasted in the table . Another side effect of not invoking the preprocessor is that you can't conditionally define whether an API is a syscall , for example : : #ifdef FOO_NEEDS_THESE_SYSCALLS #define FOO_SYSCALL __syscall #else #define FOO_SYSCALL #endif FOO_SYSCALL foo_yourself(void ); . Hopelessly confuses it . Describe the solution you'd like 1 . The semantics of __syscall should work , from an end user perspective , like any other C token 2 . The full extent of the C language should be usable for syscall function protoypes . 3 . Unimplemented system calls don't take up room in the dispatch table/ Number 3 is what really annoys me . This is overall a low-priority issue though . I thought of something clever of using DWARF parsing to get the syscall metadata instead of parsing headers , but this has a chicken-egg problem in that the generated syscall headers need to be in place or nothing compiles .	2	1
2 2 1.4 2.0 1.2 1.0 0.95 1.0 1.3333333333333333 2.0 1.6666666666666667 9 2.0 0 4 31 116	subsys : logger : fix merge error . Fix merge error introduced in : ba01a3952f2180d51c514dd08ff07b1cb7d5e180 ( as part of #9362 ) which deleted the native_posix backend for the logger . Signed-off-by : Alberto Escolar Piedras < URL > Partially f ixes #10164 Needed by #10163  	0	0
1 1 1.0 1.0 1.1 1.0 1.1 1.0 1.0 1.0 0.9584775086505191 289 1.0 0 1 17 46	Update QMSI shim drivers to use new version of QMSI 1.1 . Reported by Kuo-Lang Tseng : QMSI shim drivers would need updated if any API changes from new version of QMSI drivers to make sure they continue supporting newer version of QMSI drivers ( 1.1 beta ) . ( Imported from Jira ZEP-498 )	1	1
2 2 1.4 2.0 1.2 1.0 1.05 1.0 1.6666666666666667 2.0 1.1134020618556701 97 1.0 6 7 12 44	Device Get Binding Functions not documented . Reported by Vinay Rao : For the Device driver Interfaces , the device_get_binding functions are not documented . ( Imported from Jira ZEP-160 )	1	2
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.3557046979865772 149 1.0 12 24 46 150	[ Coverity CID : 190991]Error handling issues in /subsys/bluetooth/controller/ll_sw/ull_conn . c . Static code scan issues seen in File : /subsys/bluetooth/controller/ll_sw/ull_conn . c Category : Error handling issues Function : ticker_op_stop_cb Component : Bluetooth CID : 190991 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.6 1.0 0.8 1.0 0.85 1.0 0.6666666666666666 1.0 0.9866071428571429 224 1.0 5 14 35 105	Change Freescale to NXP . Reported by Rodrigo Caballero : The branding of the Freedom board must be changed from Freescale to NXP . ( Imported from Jira ZEP-386 )  	0	0
1 1 1.2 1.0 1.2 1.0 1.25 1.0 1.3333333333333333 1.0 1.4545454545454546 44 1.0 2 10 19 55	tests/kernel/timer/timer_api failed on iotdk board . . To Reproduce Steps to reproduce the behavior : 1 . west build -b iotdk -p auto tests/kernel/timer/timer_api/ 2 . west flash 3 . See error Screenshots or console output Booting Zephyr OS build zephyr-v 2.2.0 -2667-g57671d97165f Running test suite timer_api starting test - tes t_t ime_conversions PASS - tes t_t ime_conversions starting test - tes t_t imer_duration_period PASS - tes t_t imer_duration_period starting test - tes t_t imer_period_0 PASS - tes t_t imer_period_0 starting test - tes t_t imer_expirefn_null PASS - tes t_t imer_expirefn_null starting test - tes t_t imer_periodicity PASS - tes t_t imer_periodicity starting test - tes t_t imer_status_get PASS - tes t_t imer_status_get starting test - tes t_t imer_status_get_anytime Assertion failed at WES T_T OPDIR/zephyr/tests/kernel/timer/timer_api/src/main . c : 335 : tes t_t imer_status_get_anytime : k_timer_status_get(&status_anytime_timer ) = = 4 is false FAIL - tes t_t imer_status_get_anytime starting test - tes t_t imer_status_sync PASS - tes t_t imer_status_sync starting test - tes t_t imer_k_define PASS - tes t_t imer_k_define starting test - tes t_t imer_user_data PASS - tes t_t imer_user_data starting test - tes t_t imer_remaining PASS - tes t_t imer_remaining starting test - tes t_t imeout_abs PASS - tes t_t imeout_abs Test suite timer_api failed . PROJECT EXECUTION FAILED Environment ( please complete the following information ): - OS : fedora28 - Toolchain : zephyr-sdk- 0.11.2 - Commit ID : 57671d9716  	0	0
2 2 1.4 1.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 0.9670658682634731 334 1.0 2 7 13 59	' make debugserver ' get ' lakemont_halt ' @quark_se_devboard . Reported by Sharron LIU : ' make debugserver ' works @arduino_101 but failed @quark_se_devboard . Suspect debug script issue . Error message from gdbserver ( details see attached ' quark_se_devboard . gdbserver . log ' ) : : Error : lakemont_halt target not running set_swbp software breakpoint 0 set at 0x400300ba Warn : negative acknowledgment , but no packet pending Warn : negative acknowledgment , but no packet pending Warn : negative acknowledgment , but no packet pending . Then from gdbclient , below error messages shown and unable to hit any breakpoints . ( details see attached ' quark_se_devboard . gdbclient . log ' ) : Ignoring packet error , continuing ... warning : Invalid remote reply : warning : Invalid remote reply : . how-to-reproduce 1 . With SDK 0.8.1 follow instruction on < URL > ARC debug is not involved in this issue reporting . 2 . flash the x86 image make -C samples/hello_world/nanokernel/ BOARD = quark_se_devboard pristine make -C samples/hello_world/nanokernel/ BOARD = quark_se_devboard flash 3 . make debugserver , detailed steps see attached log ' quark_se_devboard . gdbserver . log ' ' quark_se_devboard . gdbclient . log ' 4 . Also attached gdb log @arduino_101 , which is good result , for your ref . ' arduino_101 . gdbserver . log ' ' arduino_101 . gdbclient . log ' ( Imported from Jira ZEP-583 )	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.3340097402597402 2464 1.5 65 70 73 118	[ Coverity CID : 240213 ] Incompatible cast in tests/lib/cmsis_dsp/filtering/src/misc_f32 . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : test_arm_levinson_durbin_f32 . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.0 1.0 1.15 1.0 1.0 1.0 0.9939393939393939 165 1.0 14 19 43 59	nios2 : implement sys_io . h functions . Reported by Andrew Boie : These are required for the nanokernel . Stubs are currently defined in include/arch/nios2/asm_inline_gcc . h ( Imported from Jira ZEP-277 )  	0	1
2 2 1.4 2.0 1.2 1.0 1.15 1.0 2.0 2.0 1.1590909090909092 44 1.0 44 44 44 44	investigate use of -fomit-frame-pointer . Reported by Hirally Santiago : This reduces the number of instructions for each function for a small reduction in code size , and allows an additional general purpose register for use which may improve performance on register-starved platforms like IA32 . The downside is that it makes source-level GDB debugging impossible . We may want to consider using this though for ' production ' builds which are not intended to be debugged . ( Imported from Jira ZEP-58 )	1	1
1 1 1.6 2.0 1.3 1.5 1.35 1.0 1.6666666666666667 2.0 1.2941176470588236 17 2.0 3 9 19 110	scripts : yet another runners fix . Commit eb95bed552f2977d77511d3c4fab0cba9f30a7a9 fixed an issue preventing board . cmake files from using arguments like -- hex-file in : board_runner_args () . . Unfortunately , it broke the ability to use those types of arguments from the command line . Fix that . Only the last commit ( : scripts : run_common : fix command line -- hex-file and friends . ) is a fix . The other two are there to hopefully make this easier to review . Since it's so late in the development cycle , I'm fine with dropping them and just making the change in the last patch .  	0	0
2 2 1.6 2.0 1.7 2.0 1.55 2.0 1.6666666666666667 2.0 1.0 1 1.0 0 6 10 21	dts generation incorrect . We end up generating something like : / i2c @40066000 / define NXP_KINETIS_I2C_40066000_BASE_ADDRESS_0 0x40066000 define NXP_KINETIS_I2C_40066000_BASE_ADDRESS_1 0x1000 This is wrong , this is probably due to miss handling of addr/size cells in the i2c bus controller node . This should be : / i2c @40066000 / define NXP_KINETIS_I2C_40066000_BASE_ADDRESS_0 0x40066000 define NXP_KINETIS_I2C_40066000_SIZE_0 0x1000	2	0
2 2 1.4 2.0 1.2 1.5 1.2 1.5 2.0 2.0 0.0 0 0.0 10 11 20 97	lib/posix/mqueue . c : WARNING : Unsigned expression compared with zero . Found using Coccinelle . < URL > : himanshu @himanshu -Vostro-3559 : ~ /zephyr$ . /scripts/coccicheck -- mode = report -- cocci = scripts/coccinelle/unsigned_lesser_than_zero . cocci -- verbose = 1 lib/ Please check for false positives in the output before submitting a patch . When using ' patch ' mode , carefully review the patch before submitting it . Processing unsigned_lesser_than_zero . cocci with option(s ) ' Message example to submit a patch : Unsigned expressions cannot be lesser than zero . Presence of comparisons ' unsigned (<|<=) 0 ' often indicates a bug , usually wrong type of variable . The semantic patch that makes this report is available in scripts/coccinelle/unsigned_lesser_than_zero . cocci . More information about semantic patching is available at < URL > Running ( 4 in parallel ): /usr/local/bin/spatch -D report -- no-show-diff -- very-quiet -- cocci-file scripts/coccinelle/unsigned_lesser_than_zero . cocci -- patch /home/himanshu/zephyr -- dir lib/ -- jobs 4 -- chunksize 1 lib/posix/mqueue . c : 71:45 -53 : WARNING : Unsigned expression compared with zero . lib/posix/mqueue . c : 72:10 -18 : WARNING : Unsigned expression compared with zero . .	2	0
2 2 1.2 1.0 1.2 1.5 1.35 1.5 1.3333333333333333 2.0 1.0865191146881288 994 1.0 4 5 12 89	SDK : BLE cannot be initialized/advertized with CONFIG_ARC_INIT = y on Arduino 101 . Reported by Kien Dinh : Applications using BLE on the x86 core of the Arduino 101 didn't get initialized when setting CONFIG_ARC_INIT = y use the the ARC core at the same time . I'm on the latest master branch ( @fd74c0 ) with Zephyr SDK v 0.9 Following steps can be used to reproduce : 1 . Build and flash the bluetooth firmware at samples/bluetooth/hci_uart to the arduino_101_ble 2 . Build and flash samples/hello_world app to the arduino_101_sss 3 . Build and flash samples/bluetooth/peripheral_hr to arduino_101 4 . Turn on the Arduino 101 device a . Here is the serial output from the device : ... Bluetooth initialized Advertising successfully started ... Since the CONFIG_ARC_INIT is set to ' n ' by default . There was no message from the ARC side . b . At this stage , the Zephyr BLE device was visible to other devices . I could connect the phone with nRF Connect app to receive data . Add ' CONFIG_ARC_INIT = y ' to the prj . conf file under samples/bluetooth/peripheral_hr/ , then build and flash it to the arduino_101 Turn on the Arduino 101 a . Here is the serial output ... BOOTING ZEPHYR OS v 1.6.99 - BUILD : Feb 7 2017 03:21:18 * Hello World ! arc ... There was no messages related to Bluetooth . b . Here , the BLE device was not visible to other devices for connection . Obviously , the CONFIG_ARC_INIT = y caused some unnecessary effects . It only happened with BLE app . The IPM sample apps worked fine with CONFIG_ARC_INIT = y . The issue doesn't exist with Zephyr SDK v 0.82 . ( Imported from Jira ZEP-1677 )  	0	0
2 2 1.4 1.0 1.3 1.0 1.35 1.0 1.6666666666666667 2.0 2.0 1 2.0 1 11 21 80	Bug in sockets . c ( subsys/net/lib/sockets ) . Describe the bug When zsock_accept_ctx is called on a non-blocking socket , after a few times it returns ENFILE - no more file descriptors available Call z_free_fd(fd ); Before returning EAGAIN ( line 16 of the function accept ) To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = frdm_k64f 3 . make 4 . See error Expected behavior Accept should return EAGAIN when there is no pending connection on the listening socket Impact Showstopper . This bug means non-blocking sockets cannot be used for listening and accepting on the server side . Screenshots or console output N/A Environment ( please complete the following information ): - OS : Windows - Toolchain arm mbed - Commit SHA or Version used : top as of Jan 30 2020 Additional context code snippet : : @@ -421 , 6 +421 , 7 @@ int zsock_accept_ctx(struct net_context * parent , struct sockaddr * addr , ctx = k_fifo_get(&parent -> accept_q , timeout ); if ( ctx = = NULL ) { errno = EAGAIN ; + z_free_fd(fd ); return -1 ; } .	1	0
1 1 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.0756895445798589 1559 1.0 17 22 25 84	Static code scan ( Coverity ) issue seen in file : /subsys/net/ip/rpl . c . Reported by Shilpashree L C : Coverity issue seen with CID : 173650 Category : API usage errors Function : forwarding_dao Please fix or provide comments to square it off in coverity : < URL > ( Imported from Jira ZEP-2533 )	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.1592286501377411 1815 1.0 57 63 68 159	[ Coverity CID : 210615 ] Incompatible cast in tests/benchmarks/cmsis_dsp/basicmath/src/f32 . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : test_benchmark_vec_add_f32 . Component : Tests CID : < URL > Details : : 157 zassert_not_null(output , ' output buffer allocation failed ' ) ; 158 159 /* Begin benchmark */ 160 benchmark_begin(&irq_key , tamp ); 161 162 /* Execute function */ >>> CID 210615 : Integer handling issues ( INCOMPATIBLE_CAST ) >>> Pointer ' input2 ' points to an object whose effective type is ' unsigned int ' ( integral ) but is dereferenced as a ' float ' ( floating point ) . The cast will not convert the value of the object . 163 arm_add_f32 ( 164 ( float32_t *) input1 , ( float32_t *) input2 , output , 165 PATTERN_LENGTH ); 166 167 /* End benchmark */ 168 timespan = benchmark_end(irq_key , timestamp ); . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 0.8 1.0 1.1 1.0 0.8 1.0 0.3333333333333333 0.0 1.0707070707070707 1485 1.0 4 9 14 77	x86 : implement memory domain interface . Reported by Andrew Boie : This is in reference to : GH-3716 Work with Chunlin on reviewing this proposal and implement a MMU-based implementation for x86 . Part of this work will be to establish the interface between the core kernel and the arch/ code , generic to architectures . This can either be separate APIs for MMU and MPU based systems , or a single API , as you see fit . ( Imported from Jira ZEP-2421 )  	0	1
1 1 1.2 1.0 1.4 1.0 1.4 1.0 1.0 1.0 1.1428571428571428 7 1.0 9 15 26 84	Delayed works are not scheduled when system is busy . Describe the bug Replicated with nrf52840 , revision We execute most of our things from workqueue thread via works . During the latest testing we found out that when there is a lot of normal works , delayed works are not scheduled for execution . Quick investigation shows that delayed work is never submitted to the workqueue until system has nothing else to do . I.e. when user stops generating hid events system finally gets time to check expired delayed works and submit them . Another quick look into the timeout shows that when problem happens : z_clock_announce . is not called . Note that normal works are executed without a problem . Also low priority thread is executed without a problem while issue is seen . To Reproduce Steps to reproduce the behavior : Enable USB , periodically transmit HID reports via USB through normal works . Schedule delayed work that would periodically run some check . Observe that when when frequency of normal work calls increases at some point delayed work is not scheduled . Expected behavior Delayed work should always be scheduled when expired if there is CPU time to handle normal work ( i.e. workq thread is normally scheduled ) . Impact showstopper Screenshots or console output N/A Environment ( please complete the following information ): rev : : 9c14767475a682c20927746dc652a0e644922241 .  	0	0
2 2 1.2 1.0 1.2 1.0 1.15 1.0 1.6666666666666667 2.0 0.9676258992805755 556 1.0 0 8 43 151	Create example sample for new unified kernel API usage . Reported by Benjamin Walsh : As a Zephyr user , I would like to have a reference example that uses the new unified kernel API . ( Imported from Jira ZEP-957 )  	0	1
0 0 1.0 1.0 1.5 2.0 1.45 2.0 1.0 1.0 1.2432432432432432 37 1.0 4 9 14 62	[ TOPIC-GPIO ]: Support for legacy interrupt configuration breaks new API contract . In the original API development in #16648 and as merged to the topic branch : gpio_pin_configure () . was changed to not affect any interrupt configuration except : GPIO_INT_DEBOUNCE . . In #19248 this decision was reverted , and : gpio_pin_configure () . was changed to include a call to : gpio_pin_interrupt_configure () . . < URL > questioned this and was answered with the point that this is necessary to support legacy API that configures both pin and interrupt in the same call . It was described as to-be-removed-later , but there are no details/plans for how to accomplish that . This breaks the promised new API : it is no longer possible to do things like reconfigure pull state without affecting the interrupt configuration , because presence of : GPIO_INT_DISABLED . cannot be distinguished from a set of flags that does not touch the interrupt configuration , so pin configuration while interrupts are enabled will disable ( or reconfigure ) the interrupt . A potential solution is to change : GPIO_INT_DISABLED . to be a non-zero value , and so support a new : GPIO_INT_MODE_UNCHANGED . mode that has no effect . This would not work on legacy code that intentionally disables interrupts by not providing any interrupt configuration flags in the call to : gpio_pin_configure () . .	1	0
0 0 0.6 0.0 1.0 1.0 0.95 1.0 0.3333333333333333 0.0 1.0901722391084092 987 1.0 3 5 8 100	pinmux : missing default pinmux driver config for quark_se_ss . Reported by Qiu Peiyang : Missing default pinmux driver config for quark_se_ss . According to zephyr commit 42e1c9c('pinmux: make pinmux_dev the default pinmux driver for quark ' ) , pinmux_dev is the default pinmux driver for quark . But this patch only sets default pinmux driver for x86 , and doesn't set for ARC . ( Imported from Jira ZEP-1665 )  	0	0
0 0 0.4 0.0 0.6 0.0 0.8 1.0 0.0 0.0 1.0990615224191866 959 1.0 8 19 26 87	Stack Monitoring . Reported by Anas Nashif : On some system without hardware memory protection stack monitoring provides an alternative ( but less secure ) solution where some protection is deemed better then none . The operating system shall be able to monitor stack usage and check for a stack overflow on a per executable object basis ( Thread/ISR ) . ( Imported from Jira ZEP-1621 )	1	1
1 1 1.4 1.0 1.4 1.0 1.6 2.0 1.3333333333333333 1.0 2.0 1 2.0 1 7 18 63	k_uptime_delta returns wrong times . I like to detect button events . They are selected after different holding times for a button . A gpio interrupt is generated at every change of the button pin state . At the interrupt handler the time difference is measured between the current and the previous interrupt . For that : k_uptime_delta . is used . I recognized that my measured times are at least by the factor 2 to low . My setup is a own stm32F412 board with following config : : CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC = 96000000 CONFIG_SYS_CLOCK_TICKS_PER_SEC = 1000 # clock configuration CONFIG_CLOCK_CONTROL = y # Clock configuration for Cube Clock control driver CONFIG_CLOCK_STM32_HSE_CLOCK = 24000000 CONFIG_CLOCK_STM32_SYSCLK_SRC_PLL = y # use HSE as PLL input CONFIG_CLOCK_STM32_PLL_SRC_HSE = y # the board have an external oscillator CONFIG_CLOCK_STM32_HSE_BYPASS = n # produce 96MHz clock at PLL output CONFIG_CLOCK_STM32_PLL_M_DIVISOR = 12 CONFIG_CLOCK_STM32_PLL_N_MULTIPLIER = 96 CONFIG_CLOCK_STM32_PLL_P_DIVISOR = 2 CONFIG_CLOCK_STM32_PLL_Q_DIVISOR = 4 CONFIG_CLOCK_STM32_AHB_PRESCALER = 2 CONFIG_CLOCK_STM32_APB1_PRESCALER = 4 CONFIG_CLOCK_STM32_APB2_PRESCALER = 4 . Maybe I setup the config wrongly or the : k_uptime_delta . function is buggy . Any ideas ?	1	0
2 2 1.6 2.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 1.0244897959183674 735 1.0 4 9 28 125	workq existing in ' kernel . h ' while missing in ' kernel primer v2 ' . Reported by Sharron LIU : Could you review if workq should be listed in ' kernel . h ' as public API ? As it is missing in ' kernel primer v2 ' now . If this's public API , I will need to add test cases to cover it . Thanks . ( Imported from Jira ZEP-1294 )	2	2
2 2 2.0 2.0 1.8 2.0 1.6 2.0 2.0 2.0 1.2799086757990867 2190 1.0 5 11 70 269	[ Coverity CID : 220538 ] Logically dead code in subsys/net/l2/virtual/virtual . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : virtual_enable . Component : Networking CID : < URL > Details : < URL > : 103 } 104 105 if ( ! ctx_up ) { 106 break ; 107 } 108 >>> CID 220538 : Control flow issues ( DEADCODE ) >>> Execution cannot reach this statement : ' ctx = net_if_l2_data(ctx_up ... ' . 109 ctx = net_if_l2_data(ctx_up -> virtual_iface ); 110 interfaces = & ctx -> virtual_iface -> config . virtual_interfaces ; 111 } while ( ! sys_slist_is_empty(interfaces )); 112 113 if ( net_if_is_up(ctx_orig -> virtual_iface )) { 114 NET_DBG('Taking iface %d down ' , . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.2 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 2.0 1.0540880503144654 795 1.0 7 9 40 142	Missing wiki board support page for arm/stm32_mini_a15 board . Reported by David Kinder : Is this covered by the < URL > page ? ( Imported from Jira ZEP-1369 )	2	2
2 2 1.2 1.0 1.4 1.5 1.25 1.0 1.0 1.0 1.0925737538148526 983 1.0 1 4 11 103	Zoap doxygen documentation needs to be perfected . Reported by Tomasz Bursztyka : missing brief marker for function/structs and so on . Though the brief description is there . missing documentation on function ( or function typedef ) parameters and return . ( Imported from Jira ZEP-1657 )	1	2
1 1 0.8 1.0 0.9 1.0 1.1 1.0 1.0 1.0 1.345029239766082 171 1.0 34 46 68 172	[ Coverity CID : 190964]Integer handling issues in /arch/arm/core/cortex_m/mpu/nxp_mpu . c . Static code scan issues seen in File : /arch/arm/core/cortex_m/mpu/nxp_mpu . c Category : Integer handling issues Function : _mpu_configure_regions Component : Architectures CID : 190964 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 1.8 2.0 1.75 2.0 2.0 2.0 1.1714285714285715 35 1.0 0 19 24 87	Doc build warning lvgl/README . rst . Describe the bug When building the , there is a build warning in lvgl/README . rst To Reproduce Steps to reproduce the behavior : 1 . make htmldocs Expected behavior No warning Impact Yet another warning , maybe some broken links Screenshots or console output : doc/_build/rst/doc/samples/display/lvgl/README . rst : 4 : WARNING : duplicate label lvgl-sample , other instance in doc/_build/rt . Environment ( please complete the following information ): - OS : Ubuntu - Toolchain N/A - Commit SHA or Version today's master : e12757e9e91ebc9dbe2a4ff13631e7a3b6536580	2	2
0 0 1.0 1.0 1.1 1.0 1.35 1.0 0.3333333333333333 0.0 1.2 15 1.0 5 9 14 203	Long ATT MTU reports wrong length field in write callback . . Describe the bug When exchanging an ATT MTU field larger than 256 bytes the write callbacks report wrong length field when receiving larger MTU packets . A write command of length 517 will be report as length 2 . This means that the application is not properly informed about the length of received data and data is then lost . To Reproduce Steps to reproduce the behavior : Negotiate ATT MTU larger than 256 , ( android supports maximum 517 ) . Receive maximum ATT MTU payload in an ATT Write operation e . g Wrrite Command . Expected behavior Length of received data should be given to application Impact MTUs larger than 256 bytes are not supported and will result in data loss . Environment ( please complete the following information ): - Commit SHA or Version used : v 2.1.0 -rc3	1	0
1 1 0.8 1.0 0.7 0.5 0.9 1.0 1.0 1.0 1.0729646697388633 1302 1.0 4 17 19 72	Move Quark D2000 to device tree . Reported by Anas Nashif : Move Quark D2000 to use device tree ( Imported from Jira ZEP-2151 )	1	1
2 2 1.4 1.0 1.5 1.5 1.45 2.0 1.3333333333333333 1.0 1.2340425531914894 188 1.0 2 10 18 72	tests/kernel/context hangs on ARC in test_kernel_cpu_idle . In all cases the test times out with no output . Observed on nsim_sem , nsim_em , nsim_sem_mpu_stack_guard , nsim_em_mpu_stack_guard : = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_kernel_cpu_idle .	1	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.3333333333333333 1.0 1.0780456852791878 1576 1.0 35 39 43 102	ESP32 uart poll_out always return 0 . Reported by Nirmala Devi M : poll_out api of uart driver always returns 0 as compared to the expected data sent . unsigned char ( poll_out)(struct device dev , unsigned char out_char ); Need to return the data byte sent based on success status . ( Imported from Jira ZEP-2552 )  	0	0
1 1 1.0 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.1470588235294117 34 1.0 34 34 34 34	Enable SSP events . Reported by Javier B Perez : Enable SSP events ( Imported from Jira ZEP-47 )	1	1
1 1 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.0340314136125655 764 1.0 12 18 31 135	Rename kernel APIs that have ' nano_' prefixes . Reported by Allan Stephens : The stuff dragged in by arch . h is a real hodge-podge , and uses ' nano_' , ' sys_' , ' k_' , and other prefixes . This needs to be rationalized . Note : When this stuff is changed , be sure to also the Kernel Primer and API Guide too . This might require adding new material to the Primer , not just renaming existing material . Likewise , it will be necessary to ensure they are mentioned in the API Guide , by updating the guide and by adding doxygen tags to the code . ( Imported from Jira ZEP-1329 )	2	1
2 2 0.4 0.0 0.7 0.5 0.75 1.0 0.6666666666666666 0.0 2.0 2 2.0 6 10 29 90	usb : Fix for is_ep_valid . is_ep_valid () function was incorrectly searching through all used endpoints . All endpoints for class must be checked if they match requested endpoint . Signed-off-by : Emil Obalski < URL >  	0	0
2 2 1.6 2.0 1.6 2.0 1.4 2.0 2.0 2.0 1.2 5 1.0 4 8 15 58	System stack usage analysis code seems to be broken . It seems CONFIG_INIT_STACKS = y is no longer enough to enable logs . I've somehow missed commit 0fb9ea03043551c66e6f0ec14c4ef9a001255d7d from @ramakrishnapallala which adds dependencies to CONFIG_THREAD_STACK_INFO ( why this option and not CONFIG_INIT_STACKS ? ) to hci_cor e.c. However now even when I enable both CONFIG_INIT_STACKS = y and CONFIG_THREAD_STACK_INFO = y nothing gets output for the system stacks when a disconnection happens ( which is the trigger for this kind of logging ) . I've tried this with samples/bluetooth/peripheral .	2	0
1 1 1.4 1.0 1.4 1.0 1.25 1.0 1.0 1.0 1.069511355815554 1453 1.0 1 5 14 79	x86 : QEMU : enable MMU at boot by default . Reported by Andrew Boie : QEMU has lots of RAM available for page tables , and we can catch a lot of bugs if we turn on the MMU . Enable boo t-t ime MMU policy by default . ( Imported from Jira ZEP-2368 )  	0	1
1 1 0.8 1.0 0.9 1.0 1.25 1.0 1.0 1.0 1.2222222222222223 18 1.0 5 19 30 80	sanitycheck fails to generate coverage report if samples/application_development/external_lib is run . Describe the bug When samples/application_development/external_lib is part of the tests sanitycheck runs , running sanitycheck with the -C option ( so a coverage report is generated ) , will fail when genhtml fails to find the mylib . c included file To Reproduce Steps to reproduce the behavior : 1 . sanitycheck -p native_posix -C -T samples/application_development/ 2 . See error Expected behavior No error , and the html report being generated Impact A small anoyance for developers : Cannot generate coverage reports directly with sanitycheck . Environment ( please complete the following information ): - OS : Linux - Toolchain gcc 7.0 - Commit SHA ( todays master ) 69045011733b9e97bb8974a22bb83637520f61c Additional context Incoming bugfix	2	0
2 2 1.4 2.0 1.5 2.0 1.35 1.5 1.0 1.0 2.0 1 2.0 1 4 22 71	I2C Driver does not compile for nrf5 boards . When enabling I2C driver for nrf52_pca10040 or nrf51_pca10028 the following error is given : : zephyr/include/generated/generated_dts_board . h : 91:33 : error : ' NORDIC_NRF5_I2C0_40003000_BASE_ADDRESS_0 ' undeclared here ( not in a function ); did you mean ' NORDIC_NRF_UART_40002000_BASE_ADDRESS_0 ' ? zephyr/include/generated/generated_dts_board . h : 93:31 : error : ' NORDIC_NRF5_I2C0_40003000_CLOCK_FREQUENCY ' undeclared here ( not in a function ); did you mean ' NORDIC_NRF5_I2C0_40003000_BASE_ADDRESS_0 ' ? zephyr/include/generated/generated_dts_board . h : 92:28 : error : ' NORDIC_NRF5_I2C0_40003000_LABEL ' undeclared here ( not in a function ); did you mean ' NORDIC_NRF_UART_40002000_LABEL ' ? . And so on . Tested on version c0d0a61bcc4f To reproduce , build : samples/bluetooth/beacon/ . for either nrf52_pca10040 or nrf51_pca10028 with the following configuration set : CONFIG_I2C = y CONFIG_I2C_NRF5 = y CONFIG_I2C_0 = y CONFIG_I2C_NRF5_0_GPIO_SDA_PIN = 12 CONFIG_I2C_NRF5_0_GPIO_SCL_PIN = 13  	0	0
1 1 1.8 2.0 1.9 2.0 1.9 2.0 1.6666666666666667 2.0 1.143658810325477 1782 1.0 24 30 35 126	[ Coverity CID : 210602 ] Unchecked return value in tests/drivers/uart/uart_basic_api/src/test_uart_fifo . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : uart_fifo_callback . Component : Tests CID : < URL > Details : : 76 } 77 } 78 79 /* Verify uart_irq_rx_ready () */ 80 if ( uart_irq_rx_ready(dev )) { 81 /* Verify uart_fifo_read () */ >>> CID 210602 : Error handling issues ( CHECKED_RETURN ) >>> Calling ' uart_fifo_read ' without checking return value ( as is done elsewhere 13 out of 16 times ) . 82 uart_fifo_read(dev , & recvData , 1 ); 83 TC_PRINT('%c ' , recvData ); 84 85 if (( recvData = = ' /n ' ) || ( recvData = = ' /r ' )) { 86 data_received = true ; 87 } . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.6 2.0 1.4 1.5 1.15 1.0 1.6666666666666667 2.0 0.9867724867724867 378 1.0 4 4 16 63	Support for UART interrupt on ARC . Reported by ravi hegde : We are working on a solution that runs on the Quark SE ARC core . The solution sends/receives constant stream of data over UART . Since UART interrupt mode is not supported on ARC core , we are unable to do this without having to resort to a mailbox mechanism . The current Zephyr UART driver only supports polled mode on ARC . We are requesting that interrupt mode be added on the ARC core as well . Pls see the linked issue for discussion . ( Imported from Jira ZEP-677 )  	0	1
1 1 0.8 1.0 1.2 1.0 1.1 1.0 0.6666666666666666 1.0 1.0712678169542384 1333 1.0 11 15 24 82	use API to validate user-supplied kernel buffers . Reported by Andrew Boie : Many system calls will work on user-provided buffers . We need to have a way to prove that these buffers reside in a region of memory that a thread has read or write access to . We will need to define a general interface for this ( probably calling into architecture-specific APIs ) , and then add conditionally compiled hooks into it in all our kernel APIs which work on buffers . Separate JIRAs have been filed to implement this on ARM and x86 . Scope of this JIRA is to modify the system calls themselves to use this API . ( Imported from Jira ZEP-2192 )  	0	1
1 1 1.4 1.0 1.1 1.0 1.05 1.0 1.3333333333333333 1.0 1.0547945205479452 146 1.0 0 21 24 41	Use gcc for linking instead of ld . Reported by Anas Nashif : We currently use ld for linking which does not know all the internals and paths the compiler wants and we end up having to supply the link and include path instead of relying on the gcc to figure it out on its own ( Imported from Jira ZEP-241 )  	0	1
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.0 1.0 1.4099378881987579 161 1.0 44 52 64 119	[ Coverity CID : 203435]Error handling issues in /subsys/net/l2/ppp/fsm . c . Static code scan issues seen in File : /subsys/net/l2/ppp/fsm . c Category : Error handling issues Function : fsm_recv_terminate_req Component : Networking CID : 203435 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.2 1.0 1.3 1.5 1.5 2.0 1.0 1.0 1.0076335877862594 131 1.0 4 12 26 218	Remove deprecated items in 2.7 . Here's a list we should update on things deprecated in 2.5 that should be removed in zephyr 2.7 [ x ] STM32 pinmux macros [ x ] bt_set_id_addr - include/bluetooth/bluetooth . h [ x ] DEVICE_INIT / DEVICE_AND_API_INIT - include/device . h [ x ] BUILD_ASSERT_MSG - include/toolchain/common . h , include/toolchain/gcc . h [ x ] GET_ARG2 / GET_ARGS_LESS_1 - include/sys/util_macro . h [ x ] CONFIG_FS_LITTLEFS_FC_MEM_POOL - subsys/fs/Kconfig . littlefs [ x ] CONFIG_PRINTK64 in lib/os/Kconfig [ x ] DT properties ( : timer-instance . in : nordic , nrf-sw-pwm . , : has-be32k . in : jedec , jesd216 . )  	0	0
2 2 1.0 1.0 1.3 1.5 1.0 1.0 1.6666666666666667 2.0 0.3333333333333333 3 0.0 4 9 12 55	cmake : fix menuconfig , guiconfig , etc . Commit 269f35048770cc981a1db1ecc770ded62e141291 introduced a new mechanism for loading the edtlib . EDT representation of the devicetree from kconfigfunctions.py . While this works for running kconfig.py from kconfig . cmake using execute_process () , it doesn't work when kconfigfunctions.py is loaded by the menuconfig target or any other Kconfig targets that use add_custom_target () . The reason why is that these targets ' environments do not have the location of the EDT pickle file available . This is unlike kconfig.py, which executes using the same environment as cmake itself , where edt . pickle's location is already available in the environment . Fix that by adding EDT_PICKLE to the environment for menuconfig and friends . Reported-by : Simon Guinot < URL > Signed-off-by : Mart Bolvar < URL >  	0	0
1 1 1.2 1.0 1.2 1.0 1.3 1.0 1.3333333333333333 1.0 1.5 2 1.5 3 10 33 211	Bluetooth GATT descriptor discovery returns all attributes . Describe the bug Running a GATT Descriptor discovery i.e. : bt_gatt_discover_params . type = BT_GATT_DISCOVER_DESCRIPTOR . results in the discovery callback being triggered for every attribute in the ATT table instead of only the descriptor . Expected behavior Instead of returning all attributes , the discovery shall only return descriptors ( like service , characteristic discovery and similar ) Impact Showstopper Environment ( please complete the following information ): - OS : Linux - Toolchain : Zephyr SDK 0.9.5 - Commit SHA : 1.13 -branch @c478b5bb6e	1	0
2 2 1.0 1.0 1.3 1.0 1.1 1.0 1.0 1.0 1.4 10 1.5 3 19 21 66	Flashing EM Starterkit with EM7D fails on master . This works fine on 1.9 . x but fails on master with the new flashing scripts  	0	0
1 1 1.0 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.0016233766233766 616 1.0 3 6 14 68	Proposal : Move subsystems to subsys/ . Reported by Anas Nashif : Rationale We have been adding a few features and subsystems and the only natural place right is to put those in the top level directory . This does not scale and the top-level dir will become crowded . Additional background information : The bluetooth maintainers are looking for a new home and structure for BT support in Zephyr after the addition of the controller . Bluetooth is being maintained as an individual feature across the tree and is under net/ for historical reasons . sys/ seems to be more appropriate . Proposal Move subsystems and features one level below and have all subsystems that are not core kernel features under sys/ ( or something else ) For example : * fs/ -> sys/fs * usb/ -> sys/usb * net/bluetooth -> sys/bluetooth Impact Minor ( Imported from Jira ZEP-1089 )	1	1
2 2 1.2 1.0 1.3 1.5 1.3 1.0 1.0 1.0 0.9813278008298755 482 1.0 0 54 60 96	test_context fails on quark d2000 . Reported by Anas Nashif : : PROJECT EXECUTION SUCCESSFUL tc_start () - Test Nanokernel CPU and thread routines Initializing nanokernel objects Testing nano_cpu_idle () Testing interrupt locking and unlocking Testing irq_disable () and irq_enable () = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FAIL - main . = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PROJECT EXECUTION FAILED . commit e98ac235e672b6bdc4a63491557f84f09f708e9b is the guilty one after bisecting the tree . ( Imported from Jira ZEP-848 )	1	0
2 2 1.2 1.0 1.5 2.0 1.4 2.0 1.3333333333333333 1.0 1.5 4 1.5 2 7 11 62	DTS : Changes done to support QSPI memory mapped flash breaks intel_s1000 build . The commit e57a596a0c7d2b40bd1baa46f72a04066bdbdaa4 breaks the cmake build for intel_s1000 . You can try cmaking tests/boards/intel_s1000_crb and below is what you see . : Traceback ( most recent call last ): File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract_dts_includes . py ' , line 773 , in < module > main () File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract_dts_includes . py ' , line 754 , in main defs = generate_node_definitions () File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract_dts_includes . py ' , line 713 , in generate_node_definitions flash . extract(node_address , ' zephyr , flash ' , ' FLASH ' ) File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract/ flash.py ' , line 161 , in extract self . _extract_flash(node_address , prop , def_label ) File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract/ flash.py ' , line 115 , in _extract_flash default . extract(node_address , prop , None , def_label ) File ' /home/rgundi/RajZephyr/zephyr/scripts/dts/extract/ default.py ' , line 36 , in extract prop_values = reduced[node_address]['props'][prop ] KeyError : ' write-block-size ' CMake Error at /home/rgundi/RajZephyr/zephyr/cmake/dts . cmake : 193 ( message ): command failed with return code : 1 Call Stack ( most recent call first ): /home/rgundi/RajZephyr/zephyr/cmake/app/boilerplate . cmake : 296 ( include ) CMakeLists . txt : 2 ( include ) .  	0	0
1 1 1.0 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.0234159779614325 726 1.0 0 13 35 120	Provide Event Queues Object . Reported by XiaoHua Yang : Add new kernel API for Event Queues . Similar to mynewt /contiki : < URL > Having such API would make it easier to port applications to Zephyr . ( Imported from Jira ZEP-1280 )	1	1
2 2 1.2 1.0 1.5 2.0 1.55 2.0 1.3333333333333333 1.0 1.3428571428571427 70 1.0 13 14 26 119	Increase coverage of tests . Describe the bug When evaluating coverage data we notice some features in the core kernel is not be covered with any tests . To Reproduce Run with coverage enable and look at reports of kernel and core OS services . Expected behavior Line and function coverage is or close to 100% . Impact We do not test everything , we might introduce bugs without being able to catch them .	1	1
2 2 2.0 2.0 2.0 2.0 1.75 2.0 2.0 2.0 1.2113821138211383 1968 1.0 26 31 44 85	[ Coverity CID : 215385 ] Out-of-bounds access in tests/net/lib/dns_sd/src/main . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : test_add_ptr_record . Component : Tests CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.0 1.0 1.1 1.0 1.15 1.0 0.6666666666666666 0.0 1.0716871832005792 1381 1.0 3 6 14 97	Need MQTT sample with TLS . Reported by Anas Nashif : We need a sample application with MQTT and TLS to demonstrate secure connectivity to the cloud . ( Imported from Jira ZEP-2261 )	1	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2061381074168798 1955 1.0 13 18 31 72	[ Coverity CID : 216789 ] Wrong sizeof argument in include/kernel . h . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : k_malloc . Component : Other CID : < URL > Details : : 4349 * @param size Amount of memory requested ( in bytes ) . 4350 * 4351 * @return Address of the allocated memory if successful ; otherwise NULL . 4352 */ 4353 static inline void * k_malloc(size_t size ) 4354 { >>> CID 216789 : Incorrect expression ( SIZEOF_MISMATCH ) >>> Passing argument ' 4U /* sizeof ( void *) */' to function ' k_aligned_alloc ' which returns a value of type ' void *' is suspicious . 4355 return k_aligned_alloc(sizeof(void *) , size ); 4356 } 4357 4358 /** 4359 * @brief Free memory allocated from heap . 4360 * . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.2 1.0 1.4 1.5 1.3 1.0 1.0 1.0 0.9896907216494846 388 1.0 2 9 19 69	bad hyperlink on Zephyr docs page . Reported by Andrew Boie : To see what I am seeing : Go to the documentation page : < URL > Click on the ' Zephyr ' logo in the upper left . This takes you to : < URL > Which nobody cares about . The link should go to < URL > ( Imported from Jira ZEP-696 )	2	2
1 1 1.2 1.0 1.2 1.5 1.4 2.0 1.3333333333333333 1.0 2.0 1 2.0 2 3 7 49	It is not documented how to discover , install , and use external toolchains . Currently each board will describe how to use an external toolchain . This causes duplication between boards , as they re-iterate what toolchains are available and how to use them , and it causes some users to not discover that there are more supported toolchains available than what the board's documentation mentions .	2	2
0 0 1.2 1.0 1.4 1.5 1.35 1.0 0.6666666666666666 1.0 1.1285714285714286 70 1.0 1 2 58 219	Fix build issue with counter test on several boards . .	1	0
0 0 0.2 0.0 0.6 0.0 1.0 1.0 0.3333333333333333 0.0 1.2380952380952381 42 1.0 7 10 28 100	nrf52_pca10040 : tests/bluetooth/init/test_controller_dbg fails build with CONFIG_USERSPACE = y . Very strange error on in nrf52_pca10040 : tests/bluetooth/init/test_controller_dbg : : /home/buildslave/src/ github.com/zephyrproject-rtos/zephyr/subsys/bluetooth/host/smp.c : In function ?sign_test ?: /home/buildslave/src/ github.com/zephyrproject-rtos/zephyr/subsys/bluetooth/host/smp.c:3864:1 : error : r7 cannot be used in asm here } ^ zephyr/subsys/bluetooth/host/CMakeFiles/subsys__bluetooth__host . dir/build . make : 254 : recipe for target ' zephyr/subsys/bluetooth/host/CMakeFiles/subsys__bluetooth__host . dir/smp . c . obj ' failed make[3 ]: *** [ zephyr/subsys/bluetooth/host/CMakeFiles/subsys__bluetooth__host . dir/smp . c . obj ] Error 1 .	1	0
1 1 1.0 1.0 1.0 1.0 1.15 1.0 1.0 1.0 1.6666666666666667 3 2.0 0 3 18 52	posix : fix pthread for SMP platforms . We shouldn't use swapping with an interrupt lock held as it works incorrectly on SMP platforms ( see #36736 for details ) Fix that by replacing irq_lock ( which is defined to SMP global lock on SMP systems ) with spinlock for pthread subsystem . NOTE : we fix that in a simple way with single spinlock for mutex / cond_var / barrier . That could be improved later ( i.e. split it for several spinlocks ) . Fixes : #36736 Fixes : #37109	1	0
2 2 1.6 2.0 1.5 1.5 1.35 1.5 1.6666666666666667 2.0 1.8 5 2.0 4 14 22 94	Nordic PWM causing lock up due to infinte loop . Describe the bug We are using a Nordic PWM for control of 2 LEDs , in very random cases we get a module lock up which is caused by < URL > in which case it keeps running the loop . It seems we can get the issue to occur within a minute by flicking the LED states to be PWM to off and back again . To Reproduce PWM led which changes state from PWM to off and back again and rapidly change it Expected behavior The code to work without a lock up Impact As this kills the code right it it's tracks , show stopper . Environment ( please complete the following information ): - OS : Linux - Toolchain : Zephyr SDK 0.13.1 - Commit SHA or Version used : Using nRF connect SDK 1.6.1 so zephyr 2.6	2	0
1 1 1.4 1.0 1.5 2.0 1.45 2.0 1.3333333333333333 1.0 1.1153846153846154 52 1.0 0 3 7 62	ARM MPU _arch_buffer_validate allowing reads to kernel memory . Reproducible with this PR : < URL > Run tests/kernel/mem_protect/syscalls on sam_e70_xplained . The check to _arch_buffer_validate on a buffer defined with __kernel is not failing as it ought to be . Not reproducible on frdm_k64f , so this seems specific to ARM MPU .  	0	0
0 0 0.4 0.0 0.8 0.5 0.95 1.0 0.3333333333333333 0.0 1.0357142857142858 28 1.0 8 17 34 133	tests : kernel : userspace : fix test for non-secure builds . This commit fixes a test in kernel/mem_protect/userspace , which was attempting to read from an address that was not necessarily within the image memory range , causing faults in TrustZone-enabled builds . Signed-off-by : Ioannis Glaropoulos < URL >  	0	0
2 2 1.4 1.0 1.0 1.0 0.95 1.0 1.6666666666666667 2.0 1.060718711276332 807 1.0 6 19 28 153	Add support for FRDM-KW41Z . Reported by Maureen Helm : < URL > ( Imported from Jira ZEP-1390 )	1	1
1 1 1.2 1.0 1.4 1.5 1.25 1.0 1.0 1.0 1.0857699805068226 1026 1.0 0 4 36 93	sample of mqtt_publisher is not able to find the mosquitto server on FRDM . Reported by jiequan wu : Configuration x86 Bug detailed description = = = = = = = = = = = = = = = = = = = sample of mqtt_publisher is not able to find the mosquitto server = = = = = = = = = = = = = = = = = = 1 . cd samples/net/mqtt_publisher 2 . Enable ipv4 and disable ipv6 prj_frdm_k64f . conf : CONFIG_NET_IPV4 = y CONFIG_NET_IPV6 = n 3 . make pristine && make BOARD = frdm_k64f 4 . copy the zephyr . bin file to the FRDM 5 . Connect FRDM to Ubuntu by the LAN 6 . Set ipv4 address on Ubuntu $ sudo ifconfig eth1 192.168.1.10 /24 7 . run the mosquitto server $ mosquitto -v -p 1883 8 . open serial port 9 . reset the FRDM serial port output : { code } [ dev/eth_mcux ] [ INF ] eth_0_init : Enabled 100M full-duplex mode . [ dev/eth_mcux ] [ DBG ] eth_0_init : MAC 00:04:9 f : 89:8 c : 32 net_context_connect error Is the server ( broker ) up and running ? [ publisher : 234 ] network_setup : -60 Bye ! { code } BTW , I try to ping 192.168.1.101 on Ubuntu . Not at first , but it is fine after a while . { code } linux @linux -desktop : ~ /latest/zephyr . latest/samples/net/mqtt_publisher$ ping 192.168.1.101 PING 192.168.1.101 ( 192.168.1.101 ) 56(84 ) bytes of data . 64 bytes from 192.168.1.101 : icmp_seq = 1 ttl = 64 time = 0.326 ms 64 bytes from 192.168.1.101 : icmp_seq = 2 ttl = 64 time = 0.361 ms 64 bytes from 192.168.1.101 : icmp_seq =3 ttl = 64 time = 0.386 ms 64 bytes from 192.168.1.101 : icmp_seq = 4 ttl = 64 time = 0.374 ms 64 bytes from 192.168.1.101 : icmp_seq = 5 ttl = 64 time = 0.322 ms { code } ( Imported from Jira ZEP-1715 )  	0	0
1 1 0.6 0.0 0.9 1.0 1.25 1.5 1.0 1.0 1.0 1 1.0 0 7 19 212	minor : kswap . h is included twice in kernel/init . c . < URL >	2	1
2 2 1.6 2.0 1.1 1.5 1.15 1.0 1.3333333333333333 2.0 1.08165548098434 894 1.0 2 12 16 60	Missing dependency on Windows . Reported by Sebastian Be : As mentioned in < URL > I believe that msys-libncurses is a missing dependency for the Windows environment . Steps to reproduce : Follow the Getting started guide . Run ' make menuconfig ' in the hello world sample . ( Imported from Jira ZEP-1526 )	1	2
2 2 1.4 2.0 1.3 1.0 1.4 1.0 1.0 1.0 1.5 2 1.5 4 8 14 74	serial : nrfx : Enforced pull-ups on RXD and CTS conflict on many custom boards . Describe the bug After #36366 was merged RXD and CTS pins have configured pullups , while they were floating before . This PR solved an issue with UART interfaces not being connected to anything . In most embedded devices however UART is used to communicate with peripheral chips , like 4G modems , WiFi chips ( ESP-AT ) , sensors , other MCUs , etc . In all those cases when UART is always connected , having pullups enabled increases average power consumption ( UART signal needs to fight the pullup to set a defined state ) . Additionally some of the PCB designs and/or peripheral chips already have pullups or pulldowns already in hardware . In some cases this will mean that peripheral chip won't have enough signal strength to fight configured pullups . In other cases there might be pulldowns on those lines , conflicting with pullups configured in nRF MCU ( which is the case in one of my custom boards , resulting non-working offloaded WiFi ) . To Reproduce Use Zephyr from tip of : main . branch . Expected behavior By default there should be no pull ups and no pull downs . This is the default for every GPIO when no DT flags are configured , so I expect the same behavior ( floating lines ) for UART IOs . Pullup or pulldown should be configured only on explicit request from user ( e.g. by adding/configuring device-tree properties ) . Impact Showstopper for existing projects that rely on UART lines to be floating by default . As an example in one of the projects I am working on this breaks communication between nRF and ESP8266 ( offloaded WiFi ) . Proposed solution Revert #36366 to have floating lines by default and implement device-tree flags for configuring pullups/pulldowns on user choice .	2	0
0 0 0.4 0.0 1.0 1.0 1.1 1.0 0.3333333333333333 0.0 1.0852557673019056 997 1.0 2 7 13 88	Save/restore debug registers during soc_sleep/soc_deep_sleep in c1000 . Reported by Sarath Nandu Ramachandran Nair : In order to set watchpoints and debug issues when the application transition through the soc_sleep and soc_deep_sleep states of quark_se DR0/DR1/DR2/DR3 and DR6/DR7 need to be save and restored . The save/restore of debug register might be useful to the end user in debugging the application that transition through the DEEP_SLEEP states of quark_se platform soc_sleep and soc_deep_sleep . In addition to the application debug the Intel energy analyzer for Micro controller distributed as a part of Intel system studio for micro-controller ( soc_watch)uses watch-point mechanism to extract the trace information and enabling save/restore DR registers allow the users to run the Energy analysis in production build . This cane be guarded by #if defined ( CONFIG_DEBUG ) || defined ( CONFIG_SOC_WATCH ) since production build need not have to restore watchpoints . ( Imported from Jira ZEP-1681 )	1	1
2 2 1.4 1.0 1.3 1.0 1.4 1.0 1.6666666666666667 2.0 1.4605263157894737 228 1.0 4 5 21 193	[ Coverity CID : 203623]Memory - illegal accesses in /tests/subsys/settings/fcb_init/src/settings_test_fcb_init . c . Static code scan issues seen in File : /tests/subsys/settings/fcb_init/src/settings_test_fcb_init . c Category : Memory - illegal accesses Function : test_prepare_storage Component : Tests CID : 203623 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
0 0 1.0 1.0 0.9 1.0 1.3 2.0 1.0 1.0 1.0727013542409123 1403 1.0 0 1 11 86	scripts/ filter-known-issues.py does not work with python3 . Reported by Anas Nashif : : ERROR : E : . known-issues/make . conf : can't load config file : cannot use a string pattern on a bytes-like object Traceback ( most recent call last ): File ' . /scripts/ filter-known-issues.py ' , line 96 , in config_import_path config_import_file(filename ) File ' . /scripts/ filter-known-issues.py ' , line 62 , in config_import_file for m in re . finditer(config_regex , mm , re . MULTILINE ): File ' /usr/lib64/python 3.5 / re.py ' , line 220 , in finditer return _compile(pattern , flags ) . finditer(string ) TypeError : cannot use a string pattern on a bytes-like object During handling of the above exception , another exception occurred : Traceback ( most recent call last ): File ' . /scripts/ filter-known-issues.py ' , line 145 , in < module > config_import(args . config_dir ) File ' . /scripts/ filter-known-issues.py ' , line 118 , in config_import config_import_path(path ) File ' . /scripts/ filter-known-issues.py ' , line 99 , in config_import_path e , traceback . format_exc ())) Exception : E : . known-issues/ : can't load config files : cannot use a string pattern on a bytes-like object Traceback ( most recent call last ): File ' . /scripts/ filter-known-issues.py ' , line 96 , in config_import_path config_import_file(filename ) File ' . /scripts/ filter-known-issues.py ' , line 62 , in config_import_file for m in re . finditer(config_regex , mm , re . MULTILINE ): File ' /usr/lib64/python 3.5 / re.py ' , line 220 , in finditer return _compile(pattern , flags ) . finditer(string ) TypeError : cannot use a string pattern on a bytes-like object . ( Imported from Jira ZEP-2290 )	1	0
1 1 1.2 1.0 1.2 1.0 1.1 1.0 1.6666666666666667 2.0 1.0713809206137426 1499 1.0 2 8 12 76	' make debugserver ' fails for qemu_x86_iamcu . Reported by Andrew Boie : It doesn't realize it's a variant of qemu_x86 when looking for Makefile . board : $ mj BOARD = qemu_x86_iamcu debugserver make[1 ]: Entering directory ' /projects/zephyr ' make[2 ]: Entering directory ' /projects/zephyr/samples/hello_world/outdir/qemu_x86_iamcu ' CHK include/generated/generated_dts_board . conf make[2 ]: *** No rule to make target ' /projects/zephyr/boards//qemu_x86_iamcu/Makefile . board ' . Stop . make[2 ]: Leaving directory ' /projects/zephyr/samples/hello_world/outdir/qemu_x86_iamcu ' Makefile : 178 : recipe for target ' sub-make ' failed make[1 ]: *** [ sub-make ] Error 2 make[1 ]: Leaving directory ' /projects/zephyr ' make : execvp : /projects/zephyr/scripts/support/ : Permission denied /projects/zephyr/Makefile . inc : 108 : recipe for target ' debugserver ' failed make : *** [ debugserver ] Error 127 . ( Imported from Jira ZEP-2447 )	2	0
1 1 0.8 1.0 1.2 1.0 1.05 1.0 1.0 1.0 0.9547169811320755 265 1.0 1 2 13 58	 `IDT security` section dissapeared . Reported by Inaky Perez-Gonzalez : Rev f81ee6e ( < URL > reorganized documentation , taking with it the ' IDT Security` section , which is still referenced ( and link is thus broken ) . Shall it be brought back ? [ ~ andrewboie ] , can you provide feedback ? ( Imported from Jira ZEP-456 )	2	2
2 2 1.8 2.0 1.6 2.0 1.6 2.0 2.0 2.0 0.0 1 0.0 7 16 35 98	devicetree : nRF5340 application core DTSI is missing cryptocell node . Describe the bug The nRF5340 SoC's application core < URL > , but this is not available in the corresponding DTSI . Now that entropy sources have moved to DTS's zephyr , entropy chosen node from Kconfig's CONFIG_ENTROPY_NAME , this means users can no longer easily instantiate devices for managing the cryptocell in a way that interoperates with the rest of the system . Expected behavior nrf5340_cpuapp . dtsi should have nodes for all hardware addressable from the secure world . Impact Showstopper for ' standard zephyr ' entropy use on this core . Environment ( please complete the following information ): - Commit SHA or Version used : v 2.3.0 -rc1 for example	1	0
2 2 1.0 1.0 0.8 1.0 1.2 1.0 1.3333333333333333 2.0 1.0946681175190425 919 1.0 7 14 31 81	Implement _tsc_read equivalent for NiosII . Reported by Anas Nashif : This is needed for benchmarks and boot time measurements ( Imported from Jira ZEP-1561 )	2	1
0 0 1.0 1.0 1.3 1.5 1.35 2.0 1.0 1.0 0.9894736842105263 475 1.0 49 53 56 99	Thread requirements in RFC4443 . Reported by Gajinder Vij : The Thread Protocol imposes the following requirements on RFC4443 : RFC 4443.2 : ICMPv6 ( ICMP for IPv6 ) RFC 4443.2.1 : Message General Format RFC 4443.2.2 : Message Source Address Determination RFC 4443.2.3 : Message Checksum Calculation RFC 4443.2.4 : Message Processing Rules RFC 4443.3 : ICMPv6 Error Messages RFC 4443.3.1 : Destination Unreachable Message RFC 4443.3.2 : Packet Too Big Message RFC 4443.3.4 : Parameter Problem Message RFC 4443.4 : ICMPv6 Informational Messages RFC 4443.4.1 : Echo Request Message RFC 4443.4.2 : Echo Reply Message ( Imported from Jira ZEP-837 )  	0	1
1 1 1.0 1.0 0.8 1.0 1.25 1.0 0.6666666666666666 1.0 1.002433090024331 411 1.0 1 4 7 61	API documentation doesn't link to conceptual documentation . Reported by Geoff Gustafson : There is a lot of important documentation under [ Zephyr Kernel Primer| < URL > the conceptual information underlying the individual APIs for example . But I've confirmed it's not just me ... if you're trying to get some work done , you tend to click on [ API Documentation| < URL > and try to figure things out . The problem is these two trees of knowledge don't seem to be interconnected at all . So I suggest that the top of every section in the API documentation should have a link to the corresponding section in the overview documentation . For example , right after the heading [ Semaphores| < URL > it should say something like : See here for an [ Overview of Semaphores| < URL > And vice versa , probably the concept docs should link to API function detail docs when they are mentioned . ( Imported from Jira ZEP-746 )	2	2
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.125 24 1.0 0 0 26 40	[ Coverity CID : 178334 ] Null pointer dereferences in /subsys/usb/class/netusb/function_ecm . c . Static code scan issues seen in File : /subsys/usb/class/netusb/function_ecm . c Category : Null pointer dereferences Function : ecm_send Component : Other CID : 178334 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 0.9 1.0 1.05 1.0 1.0 1.0 0.9771863117870723 526 1.0 12 34 44 125	Eliminate kernel object API anomalies . Reported by Benjamin Walsh : Most of this is already done , but keep for reference until this list is gone through with a fine comb : A potpourri of API inconsistencies that should be fixed : Complete elimination of K_type_OBJ_DEFINE () macros . ** These still exist for mutex and thread types . Complete elimination of kernel object typdefs that aren't wanted . These still exist for mutex and memory pool . May also want to get rid of for timer ? ** May also want to get rid of for thread ? ( I think Ben has a good argument for keeping this one , but I'm not sure ... ) Add missing delay argument support for K_THREAD_DEFINE () . ** Currently can specify delay via k_thread_spawn () only ... Ensure kernel object init API arguments match what's specified in the Kernel Primer ( v2 ) . In some cases you may need to change the code -- in other cases you may need to change the documentation . Should review all kernel object types , but at one point there were issues with thread , memory map , stack , message queue , and pipe . Issues to watch for : Missing arguments ; extra arguments ; arguments in the wrong order . ** Should try to have consistency when specifying ' related ' arguments . One thing in particular to try and ensure is that whenever an object is passed a pointer to a memory region and a size for that region , the pointer should be first and the size ( or , in some cases , sizes ) should be second . Right now we seem to have cases where the pointer comes last ... ... other anomalies ? ... ( Imported from Jira ZEP-916 )  	0	1
1 1 0.6 1.0 0.8 1.0 1.05 1.0 0.6666666666666666 1.0 1.0078988941548184 633 1.0 3 4 20 65	move top level fs/ to sys/fs . Reported by Anas Nashif : As a subsystem , move fs to sys/ , sys will be the home for all subsystems . ( Imported from Jira ZEP-1120 )	1	1
0 0 0.4 0.0 1.0 1.0 0.8 1.0 0.6666666666666666 1.0 0.9897610921501706 586 1.0 0 0 16 164	IPSP router role support . Reported by Andrei Laperie : Zephyr IP/Bluetooth stacks should support IPSP router role ( Imported from Jira ZEP-1032 )	1	1
0 0 1.0 1.0 1.2 1.5 1.0 1.0 0.6666666666666666 0.0 0.9459459459459459 259 1.0 3 7 9 79	Test task ( do not update ) . Reported by Kuo-Lang Tseng : This is a test task from Kuo . Will be deleted soon . ( Imported from Jira ZEP-442 )	1	1
1 1 1.6 2.0 1.7 2.0 1.45 1.5 1.6666666666666667 2.0 0.0 0 0.0 0 3 20 65	Bluetooth : controller : assert on conn update in slave role under max . throughput usecases . : [ bt ] [ ERR ] ticker_update_slave_assert : assert : ' ( status = = 0 ) || (_radio . ticker_id_stop = = ticker_id )' failed ***** Kernel OOPS ! ***** Current thread ID = 0x20005d58 Faulting instruction address = 0x148a8 [ general ] [ ERR ] _SysFatalErrorHandler : Caught system error -- reason 4 . Entering infinite loop . This was reported under max . throughput usecases at 7.5 ms conn intervals subjected to connection update procedures . In slave role , ticker_update interface is used to compensate for clock drifts . ticker_stop and ticker_start interfaces are used to perform connection update . A race condition in the order of these calls is suspected to cause the assert . A fix for this will be sent after a detailed analysis after a controlled reproduction of the said assert .	1	0
2 2 1.6 2.0 1.4 2.0 1.4 2.0 2.0 2.0 1.0833333333333333 12 1.0 7 23 57 240	Support shared gpio interrupts on kw40/41 and kl25z . Is your enhancement proposal related to a problem ? Please describe . Kinetis kw40/41 and kl25z socs have multiple port instances that share a common interrupt vector . We don't currently have a way to express this in device tree , and are working around it by supporting interrupts on only one of the port instances . See #15127 Describe the solution you'd like We need a way to support both port instances with a common interrupt handler . Describe alternatives you've considered 14653 was considered , but it doesn't quite work because : gpio_mcux_configure . returns an error code on the daisy-chained instance . Additional context N/A cc : @jfischer -phytec-iot	2	1
1 1 1.0 1.0 1.0 1.0 1.35 1.0 1.0 1.0 1.5098039215686274 51 2.0 8 21 28 72	[ Coverity CID : 187820 ] Memory - illegal accesses in /subsys/bluetooth/host/hci_core . c . Static code scan issues seen in File : /subsys/bluetooth/host/hci_core . c Category : Memory - illegal accesses Function : bt_id_reset Component : Bluetooth CID : 187820 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.0 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.3444444444444446 90 1.0 4 12 23 89	qemu_x86 unexpected thread behavior . qemu_x86_64 appears to handle semaphores differently with respect to counting and impact on ready but not active threads : it allows cooperative threads to be pre-empted without yielding , and may mishandle semaphore counts . Using the modified hello-world at < URL > with qemu_x86 : : *** Booting Zephyr OS build zephyr-v 2.4.0 -1701-g414ba6b0741e *** Main thread prio : -1 main giving 1 main back 1 main giving 2 main back 2 main giving 3 main back 3 coop_main 0x105000 at prio -3 <- coop_main doesn't start until main yields coop_main blocking coop_main took : 0 coop_main blocking . With qemu_x86_64 : : *** Booting Zephyr OS build zephyr-v 2.4.0 -1701-g414ba6b0741e *** Main thread prio : -1 <- coop_main gets to run without main yield coop_main 0x105000 at prio -3 main giving 1 coop_main blocking main back 1 main giving 2 main back 2 main giving 3 coop_main took : 0 <- coop_main gets to run without main yield main back 3 coop_main blocking coop_main took : 0 <- coop_main gets to run again ? coop_main blocking . This causes test failures at < URL > in code that relies on consistent behavior of the scheduler across platforms .	1	0
1 1 1.2 1.0 1.5 1.5 1.6 2.0 1.0 1.0 1.3783783783783783 37 2.0 0 1 16 60	nsim_sem board does not work . The simulator configuration for ARC SEM ( nsim_sem ) is not working , no output from console . @ruuddw @andrewboie FYI	1	0
2 2 1.6 2.0 1.4 1.0 1.35 1.0 1.6666666666666667 2.0 1.320754716981132 106 1.0 2 3 18 62	STM32 : Wrong uart_even t_t x len calculation . Describe the bug We need to reset the buffer_length when the transmission is finished , but in order to give the correct value to the uart_even t_t x struct , we use the dma_tx . buffer_length in the calculation of the dma_tx . counter , used for the len of the event ( number of bytes sent ) .	2	0
1 1 1.2 1.0 1.1 1.0 1.15 1.0 1.3333333333333333 1.0 1.0476190476190477 42 1.0 4 22 50 223	arch : arm : arch . mode variable _not_ initialized to nPRIV in user space enter . It seems that a user thread's : arch . mode . state variable is not initialized to mode :: user , for threads entering user mode . This may cause a critical error for a user thread that ends up executing in PRIV mode . The scenario is , briefly , as follows : under : CONFIG_USERSPACE = y . , a thread reads : thread . arch . mode . field in a context-switch , to select the appropriate privilege mode : thread . arch . mode . is initialized to 0 ( PRIV ) in : z_new_thread () . in : arm_userspace_enter () . , a thread drops to nPRIV mode , but the : arch . mode . variable is not updated . the variable is , finally , updated in : swap () . , i.e. when the thread intentionally yields to be switched-out and -in again . So , there seems to be a scenario , where after arm_userspace_enter () and before swap () , an IRQ triggers a context-switch . In that case , and when this thread is finally switched-back-in , it will have PRIV mode instead of nPRIV mode . Letting a user thread execute in PRIV mode outside system calls is a critical error . As we aim at claiming USER SPACE support in 1.14 , this needs to be fixed .  	0	0
2 2 1.4 1.0 1.3 1.0 1.35 1.0 1.3333333333333333 1.0 1.0157142857142858 700 1.0 9 23 46 101	mbedDTLS DTLS client stability does not work on top of the tree for the net branch . Reported by Sergio Rodriguez : The QEMU version of the DTLS client use to work , on the SLIP TAP interface , as described on the README file of the samples/net/mbedtls_dtsl_client directory , now with the top of the tree , commit cc58bf809c2aaea239c725042a5741855f5a2f4d , the app does not completes the DTLS handshake ( Imported from Jira ZEP-1233 )  	0	0
0 0 1.2 2.0 1.5 2.0 1.45 2.0 0.6666666666666666 0.0 1.0 1 1.0 2 17 26 138	The dma-stm32 driver don't build for STM32F0 MCUs . Here is the error message when building the dma-stm32 driver for a STM32F0 MCU : : drivers/dma/dma_stm32 . c : In function ' dma_stm32_configure ' : drivers/dma/dma_stm32 . c : 470:16 : error : ' LL_DMA_InitTypeDef ' { aka ' struct < anonymous>'} has no member named ' PeriphRequest ' DMA_InitStruct . PeriphRequest = config -> dma_slot ; ^ . I encountered this issue when building a Zephyr application for a nucleo_f070rb board with SPI_STM32_DMA enabled .	2	0
2 2 1.2 1.0 1.2 1.0 0.9 1.0 1.3333333333333333 1.0 1.0891089108910892 909 1.0 4 9 28 71	Add support for H7 crypto function and CT2 SMP auth flag . Reported by Mark Linkmeyer : Bluetooth 5.0 added new crypto function H7 for key derivation and CT2 auth flag . ( Imported from Jira ZEP-1547 )	2	1
2 2 1.8 2.0 1.6 2.0 1.45 1.5 2.0 2.0 1.5 18 1.5 5 42 52 167	Newlib retargetable lock init fails on qemu_xtensa . Describe the bug : __retarget_lock_init . fails on the : qemu_xtensa . board . To Reproduce Build : tests/lib/newlib/thread_safety . and run it on : qemu_xtensa . . Expected behavior The : malloc . call in : __retarget_lock_init . succeeds . Impact Any components using the newlib are unusable on Xtensa . Logs and console output : *** Booting Zephyr OS build zephyr-v 2.6.0 -2927-ga77e7566a8bb *** Running test suite newlib_thread_safety_locks = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = START - test_retargetable_lock_sem ASSERTION FAIL [* lock ! = (( void *) 0 )] @ WES T_T OPDIR/zephyr/lib/libc/newlib/libc-hooks . c : 362 non-recursive lock allocation failed @ WES T_T OPDIR/zephyr/lib/os/assert . c : 45 E : >>> ZEPHYR FATAL ERROR 4 : Kernel panic on CPU 0 E : Current thread : 0x60008db0 ( test_retargetable_lock_sem ) E : Halting system . Environment ( please complete the following information ): - OS : Ubuntu 20.04 - Toolchain : Zephyr SDK 0.13.0 - Commit SHA : a77e7566a8bb0135b52737e62fd1d6503b7b057a Additional context For some unknown reason , a77e7566a8bb0135b52737e62fd1d6503b7b057a causes the newlib : malloc . to fail and return : NULL . on Xtensa . After < URL > on the : tests/lib/newlib/thread_safety . , only : qemu_xtensa . fails and the rest of the platforms succeed .  	0	0
0 0 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 0.0 0 0.0 1 3 7 58	ipv6 : promiscuous mode : packet flood over 802.15.4 adapter . Describe the bug When 802.15.4 driver working in promiscuous mode and neighbor cache enabled , in some network configurations ( more than 2 nodes placed in nearest locations ) we observe packet flood generation as a result of unfiltered packet retransmission : < URL > To Reproduce Set ' CONFIG_NET_PROMISCUOUS_MODE = y ' Place devices near each other , it was pretty hard to find the exact way how to reproduce this rare behavior . Expected behavior The device should ignore its own retransmitted packet . Impact Network speed degradation Environment ( please complete the following information ): - OS : Windows - Toolchain Zephyr SDK , GCC - Commit SHA ffd8e8aefcee4acff280e834ce55a8646d7cc195	2	0
1 1 0.6 1.0 0.9 1.0 1.25 1.0 1.0 1.0 1.0277777777777777 36 1.0 2 2 5 81	Convert Atmel SAM Watchdog driver to new API . We have a new driver API for watchdog , the old API has been deprecated for several releases now . We need to convert the driver to use the API or remove it .	1	0
1 1 0.8 1.0 1.2 1.0 1.25 1.0 0.6666666666666666 1.0 1.2777777777777777 18 1.5 0 0 4 26	Native port ( posix ) to write own PID into a file . This will allow us to send a signal to the executable and shut it down gracefully .	2	1
1 1 1.0 1.0 1.2 1.0 1.4 1.0 1.0 1.0 1.5806451612903225 31 2.0 37 42 68 246	[ Coverity CID : 195770]Memory - illegal accesses in /drivers/ethernet/eth_native_posix_adapt . c . Static code scan issues seen in File : /drivers/ethernet/eth_native_posix_adapt . c Category : Memory - illegal accesses Function : eth_iface_create Component : Drivers CID : 195770 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.0984589041095891 1168 1.0 0 0 6 108	Packet loss make RPL mesh more vulnerable . Reported by Ravi kumar Veeramally : RPL mesh network with set of devices forms mesh network . But there is plenty of packet loss . Which makes loss of device registration with central node ( e.g. Border router ) , loss of active connections ( Ping fails ) with packet routing . ( Imported from Jira ZEP-1935 )	1	0
2 2 1.2 1.0 1.1 1.0 1.45 2.0 1.6666666666666667 2.0 1.0763416477702192 1323 1.0 4 5 14 74	INADDR_ANY ( 0.0.0.0 ) doesn't seem to be handled for bind () . Reported by Paul Sokolovsky : Passing 0.0.0.0 as IPv4 address to bind () doesn't seem to have the desired effect . Well , the desired effect per POSIX is ' When INADDR_ANY is specified in the bind call , the socket will be bound to all local interfaces . ' ( < URL > For Zephyr case , we can start with just using the default netif for this case . ( Imported from Jira ZEP-2180 )	1	0
2 2 2.0 2.0 2.0 2.0 1.65 2.0 2.0 2.0 1.4170616113744077 211 1.0 94 102 114 169	[ Coverity CID : 203507]Error handling issues in /tests/kernel/mutex/sys_mutex/src/main . c . Static code scan issues seen in File : /tests/kernel/mutex/sys_mutex/src/main . c Category : Error handling issues Function : test_main Component : Tests CID : 203507 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
2 2 1.2 1.0 1.0 1.0 0.8 1.0 1.3333333333333333 1.0 0.9595588235294118 544 1.0 30 52 62 143	Adapt networking to unified kernel . Reported by Benjamin Walsh : if needed -- legacy API support should be sufficient to allow this to run ( Imported from Jira ZEP-937 )	2	1
1 1 0.8 1.0 0.9 1.0 1.05 1.0 1.3333333333333333 1.0 1.2307692307692308 26 1.0 26 26 26 26	Implement Environmental Sensing Profile sample app . Reported by Javier B Perez : Prepare sample application that implements environmental sensing profile ( Imported from Jira ZEP-33 )	1	1
2 2 1.2 1.0 1.0 1.0 1.1 1.0 1.6666666666666667 2.0 0.9572368421052632 304 1.0 4 4 14 52	srctree changes are breaking applications . Reported by Flavio Santes : Some changes introduced last days in the build system , negatively affect sample code that previously was working in 1.4 . The error seems to be related to the removing of the srctree variable . After some debugging , we found that the scripts/Kbuild . include file still makes use of the srctree variable instead of ZEPHYR_BASE . However , if scripts/Kbuild . include is modified , it breaks other applications that require to include headers from other directories ( see our first workaround with the coap_server example in < URL > Error reported by the compiler : zephyr/samples/net/scripts/Makefile . build : No such file or directory However , Makefile . build is located in $ZEPHYR_BASE/scripts . ( Imported from Jira ZEP-525 )  	0	0
1 1 0.8 1.0 0.6 0.5 0.75 1.0 0.6666666666666666 1.0 0.8461538461538461 13 1.0 1 1 4 56	Bluetooth : controller : split : Fix tx_time calculation for length update . Fix tx_time calculation for the case that BT_CTRL_PHY is defined and there has not been a feature exchange . Signed-off-by : Wolfgang Puffitsch < URL > Signed-off-by : Vinayak Kariappa Chettimada < URL >	1	0
1 1 1.0 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.3430232558139534 172 1.0 35 47 69 173	[ Coverity CID : 190961]Error handling issues in /subsys/bluetooth/host/mesh/prov . c . Static code scan issues seen in File : /subsys/bluetooth/host/mesh/prov . c Category : Error handling issues Function : prov_data Component : Bluetooth CID : 190961 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 1.0 1.0 0.8 0.5 1.15 1.0 0.6666666666666666 0.0 1.0364109232769831 769 1.0 17 23 36 140	Add ' make debug ' support for QEMU-based boards . Reported by Allan Stephens : It would be nice if ' make debug ' worked with qemu_x86 and qemu_cortex_m3 boards . That is , issuing this command would build the application and then invoke QEMU and GDB so that a user could easily debug the application . Obviously , this would require popping up another window , since you'd need one for GDB and one to act as the application console . Having this capability would relieve users of the burden of having to manually fire up GDB and attach it to QEMU . ( Imported from Jira ZEP-1334 )	1	1
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.3666666666666667 180 1.0 63 71 83 138	[ Coverity CID : 203420]Memory - corruptions in /subsys/net/lib/lwm2m/ipso_timer . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/ipso_timer . c Category : Memory - corruptions Function : timer_create Component : Networking CID : 203420 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.2 1.0 1.25 1.0 1.0 1.0 1.4 95 1.0 1 4 24 82	[ Coverity CID : 188889]Memory - illegal accesses in /subsys/bluetooth/host/gatt . c . Static code scan issues seen in File : /subsys/bluetooth/host/gatt . c Category : Memory - illegal accesses Function : gatt_find_type Component : Bluetooth CID : 188889 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.2 1.0 1.4 1.0 1.45 1.0 1.3333333333333333 1.0 0.0 0 0.0 12 14 19 106	k_delayed_work_submi t_t o_queue returns error code when resubmitting previously completed work . . Describe the bug k_delayed_work_submi t_t o_queue returns error code -EALREADY when submitting previously completed task . Tak is submitted successfully . This response is not covered in doc . This should probably be changed to 0 since error code is propagated from k_delayed_work_cancel . Expected behavior 0 result - work was submitted to queue . OR response described in doc  	0	0
2 2 1.6 2.0 1.6 2.0 1.7 2.0 2.0 2.0 1.1165893271461718 1724 1.0 0 9 31 83	[ Coverity CID : 208209 ] ' Constant ' variable guards dead code in drivers/gpio/gpio_sx150 9b.c . Static code scan issues found in file : < URL > Category : Possible Control flow issues Function : : sx1509b_config . Component : Drivers CID : < URL > Details : : 199 200 LOG_DBG('CFG %u %x : ID %04x ; PU %04x ; PD %04x ; DIR %04x ; DAT %04x ' , 201 pin , flags , 202 pins -> input_disable , pins -> pull_up , pins -> pull_down , 203 pins -> dir , pins -> data ); 204 if ( data_first ) { >>> CID 208209 : Possible Control flow issues ( DEADCODE ) >>> Execution cannot reach this statement : ' rc = i2c_reg_write_word_be (...' . 205 rc = i2c_reg_write_word_be(drv_data -> i2c_master , 206 cfg -> i2c_slave_addr , 207 SX1509B_REG_DATA , pins -> data ); 208 if ( rc = = 0 ) { 209 rc = i2c_write(drv_data -> i2c_master , 210 & outbuf . reg , . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.2 1.0 1.4 2.0 1.25 1.0 1.0 1.0 1.0460947503201024 781 1.0 3 32 44 149	ARC sleep needs to pass interrupt priority threshold when interrupts are enabled . Reported by Ramesh Thomas : When ARC sleep instruction is called with the interrupt enable bit set , the interrupt priority threshold should also be set to enable interrupts > = priority can wake the sleep . ( Imported from Jira ZEP-1349 )	1	0
1 1 0.8 1.0 1.2 1.0 1.4 2.0 1.0 1.0 1.0819672131147542 854 1.0 1 11 17 117	Add SPDX Tags to Zephyr licence boilerplate . Reported by Anas Nashif : Use Copyright [ year file created ] - [ last year file modified ] , [ project founder ] and the [ project name ] contributors SPDX-License-Identifier : [ SPDX license expression ] : /* * Copyright ( c ) 2010-2014 Wind River Systems , Inc . * * Licensed under the Apache License , Version 2.0 ( the ' License ' ) ; * you may not use this file except in compliance with the License . * You may obtain a copy of the License at * * < URL > * * Unless required by applicable law or agreed to in writing , software * distributed under the License is distributed on an ' AS IS ' BASIS , * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . * See the License for the specific language governing permissions and * limitations under the License . */ . becomes : : /* * Copyright ( c ) 2010-2014 Wind River Systems , Inc . * SPDX-License-Identifier : Apache- 2.0 */ . Another real world example : : # # Copyright ( c ) 2016 , Intel Corporation # SPDX-License-Identifier : Apache- 2.0 # . ( Imported from Jira ZEP-1457 )  	0	1
1 1 1.4 1.0 1.4 1.0 1.45 1.5 1.3333333333333333 1.0 1.1570247933884297 121 1.0 0 2 6 36	net_set_mac () didn't deal wtih NULL . Reported by Elva Fu : net_set_mac () in net_core . c is expected to deal with NULL . Failure shows if input parameters are as below : e.g. ret = net_set_mac(NULL , 6 ); Steps : 1 . download zephyr ( latest zephyr is commit 1b737d4cf4da40507bc3cdf15ff76459a6918da2 when filing this issue ) 2 . source zephyr-env.sh 3 . set SDK environment ( zephyr- 0.7.5 I use ) 4 . download net core test in attachment and decompress it 5 . cd test_net_set_mac_04 6 . make pristine 7 . make BOARD = quark_se_devboard flash TEST FAILED will appear in output . ( Imported from Jira ZEP-213 )	2	0
2 2 1.6 2.0 1.6 2.0 1.7 2.0 2.0 2.0 1.225 80 1.0 19 24 25 109	nRF : we do not always guarantee that SystemInit is inlined . Describe the bug In nRF platforms , SystemInit () is invoked by z_platform_init , during early reset cycle . Normally SRAM should not be accessed before SystemInit has returned , so we should be ensuring that no push register instructions are executed when branching to SystemInit () . Currently we do not ensure this under all optimization regimes . This needs to be fixed . Impact Unclear . It is however specified that SRAM access needs to be avoided before system is initialized , so we better comply with the standard .	2	0
2 2 1.0 1.0 1.2 1.0 1.3 1.0 1.3333333333333333 1.0 1.0 1 1.0 2 5 10 86	[ v 1.14 ] Bluetooth : controller : Fix uninit conn context after invalid channel map . When a connect indication contains a channel map of all zeros , the adv -> conn is left NULL'ed after connect establishment is abborted and next connect attempt leads to a crash . This was identified via the Sweyntooth test suite - executing the script re . issue 6.14 towards an Oticon target . < URL > Zephyr v 1.14 needs to be analysed . See #27507  	0	0
1 1 1.0 1.0 1.2 1.0 1.15 1.0 1.0 1.0 1.4150943396226414 159 1.0 42 50 62 117	[ Coverity CID : 203541]Integer handling issues in /subsys/net/ip/6lo . c . Static code scan issues seen in File : /subsys/net/ip/6lo . c Category : Integer handling issues Function : uncompress_nh_udp Component : Networking CID : 203541 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.12 25 1.0 3 3 7 48	[ Coverity CID : 178794 ] Error handling issues in /tests/subsys/dfu/mcuboot/src/main . c . Static code scan issues seen in File : /tests/subsys/dfu/mcuboot/src/main . c Category : Error handling issues Function : test_bank_erase Component : Tests CID : 178794 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.8 1.0 1.1 1.0 1.1 1.0 0.3333333333333333 0.0 1.5 6 1.5 9 34 55 264	USB : usb/console sample does not work for most of the boards . I have tested some boards and the sample only works for boards for which we have overlay .	2	0
2 2 1.4 2.0 1.4 2.0 1.55 2.0 1.3333333333333333 2.0 1.5 4 1.5 1 2 2 23	GDB : Ubuntu's default GDB package does not support arm . Using debugserver and gdb caused gdb to crash with some platforms , but pass on others . qemu_x86 works fine . qemu_cortex_m3 crashes . Using the SDK provided gdb client , e.g. zephyr-sdk/sysroots/x86_64-pokysdk-linux/usr/bin/arm-zephyr-eabi/arm-zephyr-eabi-gdb works fine . As does Ubuntu's gdb-multiarch package . It looks like we need to change the docs so that Ubuntu users either use the SDK-provided GDB client for the platform they are debugging , or use gdb-multiarch . EDIT : Steps to reproduce : make debugserver ( in another shell ) gdb path/to/elf/file You might see a warning warning : while parsing target description ( at line 1 ): Target description specified unknown architecture ' arm ' warning : Could not load XML target description ; ignoring warning : Cannot convert floating-point register value to non-floating-point type . and the gdb command ' info registers ' might crash gdb .	1	2
1 1 1.0 1.0 1.3 1.0 1.45 2.0 1.3333333333333333 1.0 0.0 0 0.0 2 5 94 208	The z_smp_reacquire_global_lock () internal API is not used any where inside zephyr code base . Describe the bug The z_prefix internal API , z_smp_reacquire_global_lock () in kernel/smp . c , which is not used by any code in zephyr project . To Reproduce 1 . By shell command grep z_smp_reacquire_global_lock -rn -- exclude-dir ={ doc , twister-out , build } , you can only find it is declared and defined , but found nowhere it was called . 2 . Run ' twister -T tests/kernel/ -p qemu_x86 -- coverage ' to generate the coverage report , and look at the kernel/smp . c line 44 ~ 52 were not be executed . Expected behavior This internal function shall be used by zephyr code base . Impact The impact is low . But there is no way to be covered by testing unless we call this internal API directly . Logs and console output Gcov coverage report : : 44 : 0 : void z_smp_reacquire_global_lock(struct k_thread * thread ) 45 : : { 46 [ # # ]: 0 : if ( thread -> base . global_lock_count ) { 47 : 0 : arch_irq_lock (); 48 : : 49 [ # # ]: 0 : while ( ! atomic_cas(&global_lock , 0 , 1 )) { 50 : : } 51 : : } 52 : 0 : } . Additional context We want to confirm which solution can be applied for this issue : 1 . Remove this API ( Is it belongs to a dead code ? ) 2 . Design a test case that will call internal API z_smp_reacquire_global_lock () . 3 . Leave it there and use / LCOV_EXCL_START / / LCOV_EXCL_STOP / to skip it in code coverage report . or another better solution for it , thanks !	2	0
0 0 1.0 1.0 1.2 1.0 1.15 1.0 0.6666666666666666 0.0 0.9545454545454546 242 1.0 10 10 14 118	MQTT client capability : QoS1 , QoS2 . Reported by Anas Nashif : As a user , I want to use Zephyr to send data using MQTT to a broker with quality of services 1 and 2 . MQTT uses a ?publish/subscribe ?model and requires a central MQTT broker to manage and route messages among an MQTT network nodes . Eclipse describes MQTT as ?a many-to-many communication protocol for passing messages between multiple clients through a central broker . ?It uses TCP for its transport layer , which is characterised as ?reliable , ordered and error-checked . ?QoS1 , At least once : The message is always delivered at least once . It might be delivered multiple times if there is a failure before an acknowledgment is received by the sender . The message must be stored locally at the sender , until the sender receives confirmation that the message has been published by the receiver . The message is stored in case the message must be sent again . QoS2 , Exactly once : The message is always delivered exactly once . The message must be stored locally at the sender , until the sender receives confirmation that the message has been published by the receiver . The message is stored in case the message must be sent again . QoS2 is the safest , but slowest mode of transfer . A more sophisticated handshaking and acknowledgement sequence is used than for QoS1 to ensure no duplication of messages occurs . ( Imported from Jira ZEP-416 )  	0	1
1 1 1.0 1.0 1.3 1.0 1.2 1.0 1.0 1.0 1.077922077922078 847 1.0 4 9 14 119	Arduino_101 doesn't response ipv4 ping request after enable ipv4 . Reported by jiequan wu : Configuration x86 Bug detailed description = = = = = = = = = = = = = = = = = = = Arduino_101 doesn't response ipv4 ping request after enable ipv4 Steps to Reproduce cd samples/net/echo_server Enable ipv4 and disable ipv6 prj_arduino_101 . conf : CONFIG_NET_IPV4 = y CONFIG_NET_IPV6 = n make pristine && make BOARD = arduino_101 flash Connect Arduino to the LAN with ENC28J60 Set ipv4 address on Ubuntu $ sudo ifconfig eth1 192.0.2.2 open serial port ping 192.0.2.1 Expected Result = = = = = = = = = = = = = Arduino_101 can response ipv4 ping request after enable echo_server ipv4 Actual Result = = = = = = = = = = Arduino_101 doesn't response ipv4 ping request after enable echo_server ipv4 ( Imported from Jira ZEP-1444 )	1	0
0 0 0.8 0.0 0.8 0.5 0.7 0.5 0.6666666666666666 0.0 1.079185520361991 884 1.0 3 6 9 56	add arc nSIM simulator build target . Reported by Andrew Boie : Create a build target designed to create binaries that run under the Synopsys nSIM ARC simulator , with the nSIM UART enabled . ( Imported from Jira ZEP-1508 )  	0	1
1 1 1.4 1.0 1.3 1.0 1.4 1.0 1.3333333333333333 1.0 0.25 4 0.0 2 6 25 65	samples/drivers/spi_flash has no README . Describe the bug All samples should have README . txt files so they are discoverable by users reading the HTML documentation . This one doesn't .	2	2
2 2 2.0 2.0 1.8 2.0 1.6 2.0 2.0 2.0 1.46875 32 1.0 3 8 11 74	tests/kernel/mem_protect/mem_protect : frdm_k82f/frdm_k64f unexpected fatal error . Describe the bug in memory protection test meet belo werror in test_kobject_perm_error fatal error was unexpected , aborting To Reproduce Steps to reproduce the behavior : tests/kernel/mem_protect/mem_protect 1 . mkdir build ; cd build 2 . cmake -DBOARD = frdm_k82f 3 . make flash 4 . See error Expected behavior all test PASS Impact memory protection featues Logs and console output see attached file < URL > Environment ( please complete the following information ): - OS : ( e.g. Linux ) - Toolchain ( e . g Zephyr SDK , ... ) - Commit SHA or Version used : zephyr-v 2.5.0 -2637-ga3469a049785	1	0
2 2 1.6 2.0 1.5 2.0 1.7 2.0 1.6666666666666667 2.0 1.1296296296296295 54 1.0 1 12 43 116	galileo I2C bus master names aren't getting set in the build . When we build for galileo we get the following settings for the I2C bus master device names : : CONFIG_GPIO_PCAL9535A_0_I2C_MASTER_DEV_NAME=' CONFIG_GPIO_PCAL9535A_1_I2C_MASTER_DEV_NAME=' CONFIG_GPIO_PCAL9535A_2_I2C_MASTER_DEV_NAME=' CONFIG_PWM_PCA9685_0_I2C_MASTER_DEV_NAME=' . We need to extract the bus master name from the dts now .	2	0
1 1 1.0 1.0 1.4 1.0 1.4 1.5 1.0 1.0 1.0833333333333333 12 1.0 2 5 10 70	DTS : generated output for each flash-controller . Problem to be solved Currently flash-controller is generated only for : zephyr , flash . chosen node . This causes problem when need to use DTS data form more than one flash controller at one . For instance when we want to use flash-simulator driver ( on qemu_x86 ) , then need to chose its DT node . This imposes that its values are presented as : DT_FLASH_* . defines . As the result target has fake ROM size etc . solution proposal Generate substitute of flowing DT macros ; : DT_FLASH_BASE_ADDRESS DT_FLASH_ERASE_BLOCK_SIZE DT_FLASH_WRITE_BLOCK_SIZE DT_FLASH_SIZE DT_FLASH_DEV_NAME . for each flash-controller node . Macros for chosen flash flash-controller might be duplicated . Looks like generation of above values based on scripts hacks , not on yaml bindings - which makes it more difficult . Context Situation we have are source of issue signaled < URL > < URL >  	0	0
1 1 1.0 1.0 1.0 1.0 1.2 1.0 1.0 1.0 1.1666666666666667 12 1.0 2 3 4 66	Get ARC boards compliant with default configuration guidelines . Created from #7151 , dedicated to ARC based boards Following introduction of ' default board configuration guidelines ' ( #6858 ) , one part of the work is to move boards already ported to zephyr to conform with guidelines available here : < URL > < URL > could be used as reference for this update .	1	1
0 0 1.4 2.0 1.5 2.0 1.6 2.0 1.0 1.0 1.3529411764705883 68 1.5 2 17 45 243	esp32 build broken . after rename of a string , build is broken and GPIO driver does not build .	1	0
1 1 1.0 1.0 0.9 1.0 1.25 1.0 1.6666666666666667 2.0 1.309090909090909 55 1.0 0 1 3 59	CI failing to complete tests . As reported on Slack 2019-12-23T 15:55 Z the documentation , gitlint , identity/emails , and Kconfig tests are failing to complete on multiple PRs . Resubmitting does not seem to have any effect . See < URL > and note all the orange dots where there should be a : heavy_multiplication_x : or a : heavy_check_mark : .  	0	0
1 1 1.6 2.0 1.4 1.5 1.45 2.0 1.3333333333333333 1.0 1.0576441102756893 798 1.0 10 11 43 145	tickless idle + power management for nios2 . Reported by Sharron LIU : Initial test result @AlteraMax10 shows tickless idle not yet supported on this platform . Using this ticket to log this issue . Please review if any plan to support this feature . Thanks . : CC drivers/timer/altera_avalon_timer . o /home/sharron/workspace/views/iot/zephyr/drivers/timer/altera_avalon_timer . c : 110:2 : error : #error ' Tickless idle not yet implemented for Avalon timer ' #error ' Tickless idle not yet implemented for Avalon timer ' . how-to-reproduce : # source zephyr-env.sh # echo CONFIG_SYS_POWER_MANAGEMENT = y >> samples/hello_world/prj . conf # make -C samples/hello_world BOARD = altera_max10 . ( Imported from Jira ZEP-1372 )	1	1
0 0 0.8 1.0 0.7 1.0 0.75 1.0 0.6666666666666666 1.0 1.0949948927477018 979 1.0 0 0 13 101	Port eth_dw ( Ethernet device of Galileo boards ) to the new IP stack . Reported by Juan Manuel Cruz Alcaraz : Port the eth_dw driver to the new IP stack . This driver is used by a few boards , including the Galileo board . ( Imported from Jira ZEP-1652 )	1	1
2 2 1.4 1.0 1.5 2.0 1.5 2.0 1.6666666666666667 2.0 1.0806270996640537 893 1.0 5 12 16 60	driver : gpio : GPIO driver still uses nano_timer . Reported by Qiu Peiyang : GPIO driver still has nano_timer declarations in it . It shouldn't be used in unified kernel . . /gpio/gpio_pcal953 5a.h : 63 : struct nano_timer timer ; . /gpio/gpio_sch . h : 48 : struct nano_timer poll_timer ; . /gpio/gpio_pcal953 5a.c : 560 : nano_timer_init(&drv_data -> timer , ( void *) 0 ); ( Imported from Jira ZEP-1525 )	2	0
2 2 1.8 2.0 1.6 2.0 1.55 2.0 2.0 2.0 2.0 1 2.0 4 6 19 115	fujitsu FRAM read error on stm32_olimexino . on zephyr 2.1.0 using fram model < URL > on olimexino stm32 , ?Booting Zephyr OS build zephyr-v 2.1.0 -1662-ga28f8fbef542 fujitsu FRAM example application Error during ID read Could not verify FRAM ID is this the model supported ? thanks !	2	0
2 2 1.6 2.0 1.4 1.5 1.2 1.0 1.6666666666666667 2.0 1.0833333333333333 1080 1.0 3 19 35 113	kernel event logger build failed with ' CONFIG_LEGACY_KERNEL = n ' . Reported by Sharron LIU : Build kernel event logger with ' CONFIG_LEGACY_KERNEL = n ' , failed . : subsys/built-in . o : In function `_sys_k_event_logger_enter_sleep ' : /home/sharron/workspace/views/iot/zephyr/subsys/logging/kernel_event_logger . c : 171 : undefined reference to `sys_cycle_get_32 ' subsys/built-in . o : In function `_sys_k_event_logger_exit_sleep ' : /home/sharron/workspace/views/iot/zephyr/subsys/logging/kernel_event_logger . c : 184 : undefined reference to `sys_cycle_get_32 ' collect2 : error : ld returned 1 exit status make[2 ]: *** [ zephyr_prebuilt . elf ] Error 1 . ( Imported from Jira ZEP-1787 )  	0	0
2 2 1.0 1.0 1.2 1.5 1.25 2.0 1.3333333333333333 2.0 1.8888888888888888 9 2.0 1 3 10 64	daily build pages don't indicate their version . Some developers have been confused when viewing documentation on < URL > thinking that they're reading the documentation for a tagged release when instead they're reading the ' Latest ' documentation from the daily build of the master branch . Tagged-release pages include the version number in the breadcrumb header of the document but the daily build docs don't .	2	2
0 0 0.8 1.0 1.2 1.0 1.4 1.5 0.6666666666666666 1.0 0.0 0 0.0 5 7 76 116	Advertiser seen alternating between RPA an ID address with privacy enabled . Description During advertising with privacy enabled , it was observed that the address used was alternating between RPA and public id address with ' RPA timeout ' rate . Steps to reproduce Performing a modified ( see below ) of LL/SEC/ADV/BV-03 test case , using EDTTool/ll_verification . py is is observable in the output generated by the simulation that the advertiser will switch between RPA and ID address for ad Expected behavior The advertised address should be RPA only and should be updated with the ' RPA timeout ' rate Impact This will violate the advertisers privacy , even with privacy enabled Affects 2.0.0	1	0
2 2 1.4 1.0 1.5 1.5 1.5 1.5 1.3333333333333333 1.0 0.0 0 0.0 1 8 8 46	delta_ticks_from_prev become negative and waiting tasks never scheduled . After a suspend period , if you wake up late and announce to the kernel a greater number of ticks than the requested suspend period , timeouts are never processed in _handling_timeouts function because delta_ticks_from_prev become negative . To resolved this issue , i have make the following modification with sucess . Is anyone seeing a problem with this change ? : kernel/sys_clock . c @@ -240 , 7 +240 , 10 @@ static inline void handle_timeouts(s32_t ticks ) return ; } - head -> delta_ticks_from_prev - = ticks ; + if ( head -> delta_ticks_from_prev <= ticks ) + head -> delta_ticks_from_prev = 0 ; + else + head -> delta_ticks_from_prev - = ticks ; /* * Dequeue all expired timeouts from _timeout_q , relieving irq lock .	1	0
2 2 1.0 1.0 1.4 2.0 1.45 2.0 1.0 1.0 0.0 0 0.0 2 7 10 47	fatal error : setjmp . h : No such file or directory . I'm trying to compile Lua with Zephyr , but an error has occurred , some * . h can not find . setjmp . h , locale . h for now . I checked toolchain gcc-arm-none-eabi-8-2019-q3-update-win32 and gcc-arm-none-eabi-10-2020-q4-major-win32 , the problem is still . I create an project without zephyr , the problem not happend . Maybe some compiler options missing in zephyr project ...	2	0
1 1 1.2 1.0 1.4 1.0 1.55 2.0 1.0 1.0 1.0835857056329496 1651 1.0 11 19 28 141	[ Coverity CID : 205839 ] Error handling issues in drivers/usb/device/usb_dc_native_posix . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : handle_usb_data . Component : Drivers CID : 205839 Please fix or provide comments in coverity using the link : < URL >	1	0
2 2 2.0 2.0 1.8 2.0 1.75 2.0 2.0 2.0 1.0 3 1.0 0 4 13 65	stm32g431rb : PLL setting result to slow exccution . Describe the bug I have a small test program regitering an interrupt , the irq sets a semaphore and wake a Thread who toggles an output . On the ' nucleo_g4rb31 ' this is slower than on the ' f401re ' even though it should have double the CPU-Freq . If I reconfigure the pll manually to 170Mhz the time goes down a lot . In numbers : * : f401re . : 12.4 us . * : g431rb . : 13.4 us . * : g431rb custom pll . : 5.3 us . To Reproduce * Build attached example My PL settings : : CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC = 170000000 CONFIG_CLOCK_STM32_PLL_SRC_HSI = n CONFIG_CLOCK_STM32_PLL_SRC_HSE = y CONFIG_CLOCK_STM32_PLL_M_DIVISOR = 6 CONFIG_CLOCK_STM32_PLL_N_MULTIPLIER = 85 CONFIG_CLOCK_STM32_PLL_P_DIVISOR = 7 CONFIG_CLOCK_STM32_PLL_Q_DIVISOR = 2 CONFIG_CLOCK_STM32_PLL_R_DIVISOR = 2 . Expected behavior g431 shoudl be fatser than f401 Impact Slow excecution Environment ( please complete the following information ): - Debian 10 - Zehpyrtoolchain - v 2.1.0	2	0
2 2 1.6 2.0 1.4 2.0 1.55 2.0 2.0 2.0 1.8823529411764706 17 2.0 3 3 8 92	Publish PDF with the release build . Currently , we do a daily build to publish documentation for the project's master branch to the < URL > site . PR #9557 enabled PDF generation of the Zephyr documentation , but generating and publishing a PDF has not been integrated with our daily build ( or release build ) processes . We should not add PDF generation to the CI build testing done for every PR however .	2	2
2 2 0.8 1.0 1.2 1.0 1.3 1.0 1.0 1.0 1.0772640911969602 1579 1.0 36 42 45 103	ESP32 watchdog WDT_MODE_INTERRUPT_RESET mode fails . Reported by Nirmala Devi M : Watchdog does not work as expected in WDT_MODE_INTERRUPT_RESET mode . Steps to reproduce : $cd $ZEPHYR_BASE/samples/drivers/watchdog $make pristine ; make BOARD = esp32 flash Expected output : Callback function wdt_example_cb () to be invoked on watchdog timeout where we reload timer . Observed output : Callback is not getting invoked hence the system reboots on watchdog timeout . Console log : ets Jun 8 2016 00:22:57 rst : 0x1 ( POWERON_RESET ) , boot : 0x13 ( SPI_FAST_FLASH_BOOT ) ets Jun 8 2016 00:22:57 rst : 0x10 ( RTCWDT_RTC_RESET ) , boot : 0x13 ( SPI_FAST_FLASH_BOOT ) configsip : 0 , SPIWP : 0xee clk_drv : 0x00 , q_drv : 0x00 , d_drv : 0x00 , cs0_drv : 0x00 , hd_drv : 0x00 , wp_drv : 0x00 mode :D IO , clock div : 2 load : 0x3ffb0000 , len : 84 load : 0x3ffb0060 , len : 636 load : 0x3ffb02e0 , len : 1880 load : 0x40080000 , len : 1024 load : 0x40080400 , len : 84 ho 0 tail 12 room 4 load : 0x40080454 , len : 8024 ho 0 tail 12 room 4 load : 0x400c0000 , len : 0 entry 0x400805f8 Start watchdog test Inside wdt_esp32_set_config Inside wdt_esp32_get_config timeout : 11 mode : 1 ets Jun 8 2016 00:22:57 rst : 0xb ( TGWDT_CPU_RESET ) , boot : 0x13 ( SPI_FAST_FLASH_BOOT ) configsip : 0 , SPIWP : 0xee clk_drv : 0x00 , q_drv : 0x00 , d_drv : 0x00 , cs0_drv : 0x00 , hd_drv : 0x00 , wp_drv : 0x00 mode :D IO , clock div : 2 load : 0x3ffb0000 , len : 84 load : 0x3ffb0060 , len : 636 load : 0x3ffb02e0 , len : 1880 load : 0x40080000 , len : 1024 load : 0x40080400 , len : 84 ho 0 tail 12 room 4 load : 0x40080454 , len : 8024 ho 0 tail 12 room 4 load : 0x400c0000 , len : 0 entry 0x400805f8 Start watchdog test Inside wdt_esp32_set_config Inside wdt_esp32_get_config timeout : 11 mode : 1 ( Imported from Jira ZEP-2556 )  	0	0
1 1 0.6 0.0 0.7 0.0 1.0 1.0 1.0 1.0 1.0775665399239545 1315 1.0 3 10 18 78	Add functionality of Gesture Sensor - . Reported by punit vara : Implement Gesture sensor recognition to apds9960 driver . Add Gesture related APIs to APDS9960 Driver . ( Imported from Jira ZEP-2169 )	2	1
2 2 1.0 1.0 1.1 1.5 1.25 1.0 1.0 1.0 1.0098765432098766 405 1.0 1 1 8 66	Minimal libc shouldn't be providing stddef . h . Reported by Andy Ross : Relevant to < URL > ( which is a perfectly fine patch ) , it was pointed out that the stddef . h include file is in almost all other platforms provided by the compiler , not the C library . Figure out why we have our own , and remove it if possible in favor of the toolchain defines . ( Imported from Jira ZEP-733 )	1	0
1 1 1.8 2.0 1.6 2.0 1.55 2.0 1.6666666666666667 2.0 1.0812461820403176 1637 1.0 5 6 11 64	Failed test : kernel . common . timing . pending on nrf51_pca10028 and nrf52_pca10040 ( tests/kernel/pending/kernel . common . timing ) . test fails on nrf51/nrf52 : ***** delaying boot 1000ms ( per build configuration ) ***** ***** Booting Zephyr OS 1.12.99 ( delayed boot 1000ms ) ***** Running test suite pend = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_pending Testing preemptible threads block on fifos ... Testing fifos time-out in correct order ... Testing fifos delivered data correctly ... Testing preemptible threads block on lifos ... Testing lifos time-out in correct order ... Testing lifos delivered data correctly ... Testing preemptible thread waiting on timer ... Assertion failed at zephyr . git/tests/kernel/pending/src/main . c : 412 : test_pending : (( timer_end_tick < timer_star t_t ick + NUM_SECONDS(1 )) is true ) Task waiting on timer error FAIL - test_pending = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = RunID : ci-180710-1801-1919 : lisa PROJECT EXECUTION FAILED .	1	0
0 0 0.0 0.0 0.1 0.0 0.2 0.0 0.0 0.0 0.8986486486486487 148 1.0 17 18 33 147	Convert tests/kernel/pending/src/main . c to new kwork API . Convert tests/kernel/pending/src/main . c to use new kwork API . See the following issue for details : 33104  	0	0
2 2 1.8 2.0 1.8 2.0 1.5 2.0 2.0 2.0 1.0064 625 1.0 3 12 19 71	' kernel primerer v2 ' doc inconsistant with header file ' kernel . h ' . Reported by Sharron LIU : Kernel Primer V2 doc inconsistent with unified kernel header file , regarding parameters passed . Please review and decide which side should update . Thanks , Actual result : in doc ( attached screen snapshot ): < URL > in code : : extern k_tid_t k_thread_spawn(char * stack , unsigned stack_size , void (* entry)(void * , void * , void *) , void * p1 , void * p2 , void * p3 , int32_t prio , uint32_t options , int32_t delay ); #define K_THREAD_DEFINE(name , stack_size , / entry , p1 , p2 , p3 , / abort , prio , delay ) . ( Imported from Jira ZEP-1104 )	2	0
0 0 0.8 0.0 0.9 1.0 1.25 2.0 0.6666666666666666 0.0 0.9915611814345991 474 1.0 48 52 55 98	Thread requirements in RFC2460 . Reported by Gajinder Vij : The Thread Protocol imposes the following requirements on RFC2460 : RFC 2460.3 : IPv6 Header Format RFC 2460.4 : IPv6 Extension Headers RFC 2460.4.1 : Extension Header Order RFC 2460.4.2 : Options RFC 2460.4.3 : Hop-by-Hop Options Header RFC 2460.4.6 : Destination Options Header RFC 2460.4.7 : No Next Header RFC 2460.5 : Packet Size Issues Not Required ?Path MTU Discovery is not required . ?Only Border Routers are required to receive packets as large as 1500 bytes . ?IPv6-to-IPv4 tunneling and fragmentation is not required . RFC 2460.8 : Upper-Layer Protocol Issues RFC 2460.8.1 : Upper-Layer Checksums RFC 2460.8.2 : Maximum Packet Lifetime RFC 2460.8.3 : Maximum Upper-Layer Payload Size RFC2460 . Appendix B : Formatting Guidelines for Options ( Imported from Jira ZEP-835 )  	0	1
2 2 1.6 2.0 1.3 1.5 1.3 2.0 2.0 2.0 1.0855721393034825 1005 1.0 8 13 21 93	[ PTS ] GAP/TC_SEC_AUT_BV_14_C fails . Reported by Dawei Wu : Test Env : Zephyr revision : master/033b5e9a7de8fa17abcd1f2fc4bd09f421383a34 PTS : 7.0 Host : Win10 64bit Enterprise , Dell Optiplex with Intel Core i7-4770 @3 . 4GHZ , 8GB Memory BT USB dongle : CSR There is a PTS upstream issue < URL > , but is closed . Please see attached log for more info . ( Imported from Jira ZEP-1690 )	2	0
0 0 1.2 2.0 0.9 0.5 0.75 0.5 0.6666666666666666 0.0 0.8580246913580247 162 1.0 3 4 10 108	tests/kernel/timer/timer_api/kernel . timer . tickless fails to build on npcx9m6f_evb . : . /scripts/twister -s tests/kernel/timer/timer_api/kernel . timer . tickless -p npcx9m6f_evb . gets : : [ 86%] Linking C executable app_smem_unaligned_prebuilt . elf /opt/zephyr-sdk- 0.13.0 -alpha-1/arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 10.3.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld . bfd : libzephyr . a(power . c . obj ): in function `npcx_power_enter_system_sleep ' : /home/galak/git/zephyr/soc/arm/nuvoton_npcx/common/power . c : 135 : undefined reference to `npcx_uart_enable_access_interrupt ' /opt/zephyr-sdk- 0.13.0 -alpha-1/arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 10.3.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld . bfd : drivers/serial/libdrivers__serial . a(uart_npcx . c . obj ): in function `uart_npcx_rx_wk_isr ' : /home/galak/git/zephyr/drivers/serial/uart_npcx . c : 329 : undefined reference to `npcx_uart_disable_access_interrupt ' collect2 : error : ld returned 1 exit status gmake[2 ]: *** [ zephyr/CMakeFiles/app_smem_unaligned_prebuilt . dir/build . make : 125 : zephyr/app_smem_unaligned_prebuilt . elf ] Error 1 gmake[1 ]: *** [ CMakeFiles/Makefile 2:3229 : zephyr/CMakeFiles/app_smem_unaligned_prebuilt . dir/all ] Error 2 .  	0	0
1 1 1.4 1.0 1.4 1.0 1.5 1.5 1.3333333333333333 1.0 1.1194029850746268 67 1.0 1 3 11 67	QMSI SPI write API fail to return . Reported by Lei Liu : Configuration x86 , quark se devboard micro , Bug detailed description = = = = = = = = = = = = = = = = = = = SPI write fail to return . Testcase to Reproduce Download attach tar ball . test_spi_0_master_write_1_to_arduino_spi Steps to Reproduce 1 . Download attachment and uncompress it . 2 . Connect board SPI with a SPI slave . The SPI slave can read data that SPI master send 3 . flash test_spi_0_master_write_1_to_arduino_spi to board Expected Result Quark se devboard QMSI SPI write API return after write data to slave . Actual Result Quark se devboard QMSI SPI write API fail to return . User Impact = = = = = = = = = = Softer ware hang after call spi_write API . ( Imported from Jira ZEP-94 )	1	0
1 1 1.2 1.0 1.2 1.0 1.6 2.0 1.0 1.0 0.9317073170731708 205 1.0 16 21 32 91	Support for the MAX44009 sensor . Reported by Anas Nashif : Add support for the MAX44009 sensor available on some boards . Use the zephyr sensor API . < URL > This sensor is available on the Quark SE Devboard . ( Imported from Jira ZEP-357 )	1	1
2 2 0.8 0.0 0.9 0.5 1.1 1.5 1.3333333333333333 2.0 0.9872068230277186 469 1.0 43 47 50 93	ICMPv6 ' Parameter Problem ' Support . Reported by Gajinder Vij : Add support for sending ' Parameter Problem ' error when required . ( Imported from Jira ZEP-830 )	2	1
2 2 1.8 2.0 1.5 1.5 1.4 1.0 2.0 2.0 0.0 0 0.0 2 9 15 202	zassert prints to UART even when RTT is selected . Describe the bug : zassert_equal(1 , 0 , hello %d , 123 ); . the output from this failure is split into half ; some of it to RTT and the rest ( variadic part ) to UART . To Reproduce Put the above assert in a test . Choose RTT as backend instead of UART . Expected behavior Seeing Assertion failed at .. /src/main . c : 24 : test_assert : ( 1 not equal to 0 ) and also hmm 123 on RTT . Impact Affects systems parsing failings test with variadic output . Environment ( please complete the following information ): - OS : Linux - Toolchain : gnuarmemb 8 2019 q3 update - Commit SHA : 1b5e6072ca8324432aa920f47d8f7931232fb8bc	2	0
1 1 1.6 2.0 1.7 2.0 1.75 2.0 1.6666666666666667 2.0 0.0 0 0.0 2 5 12 108	dtc generates missing #address -cells in interrupt provider warning . Describe the bug : dtc . version 1.6.1 produces a warning when building applications for ARMv7-m targets . This warning does not cause builds to fail . I recently upgraded my : dtc . so I'm not entirely sure what : dtc . version this was introduced with . To Reproduce Steps to reproduce the behavior : 1 . Install : dtc . version 1.6.1 2 . Run : west build -b nrf52833dk_nrf52833 zephyr/samples/hello_world . ( hello_world path depends on workspace setup ) Expected behavior No warnings produced when : dtc . is run . Impact This is a small annoyance , but will be encountered frequently Logs and console output : nrf52833dk_nrf52833 . dts . pre . tmp : 15.39 - 20.5 : Warning ( interrupt_provider ): /soc/interrupt-controller @e000e100 : Missing #address -cells in interrupt provider also defined at nrf52833dk_nrf52833 . dts . pre . tmp : 354.7 - 356.3 . Environment ( please complete the following information ): - OS : MacOS - Toolchain : arm-gcc v 9.3.1 - Commit SHA or Version used : v 2.6.0 Additional context Adding the following line seems to remove the warning but I am not knowledgeable enough on the DeviceTree to know if this fix is valid or how to apply it to other architectures : : diff -- git a/dts/arm/armv7-m . dtsi b/dts/arm/armv7-m . dtsi index cd244f4594 .. 9f2dc66734 100644 --- a/dts/arm/armv7-m . dtsi +++ b/dts/arm/armv7-m . dtsi @@ -11 , 6 +11 , 7 @@ ranges ; nvic : interrupt-controller @e000e100 { + #address -cells = < 1 > ; compatible = ' arm , v7m-nvic ' ; reg = < 0xe000e100 0xc00 > ; interrupt-controller ; . It looks like this will affect other ARM cores but again I'm far from an expert .	2	0
2 2 2.0 2.0 1.4 2.0 1.65 2.0 2.0 2.0 1.306930693069307 101 1.0 6 19 28 126	BT_AUDIO_UNICAST selection rejected in nightly tests . I don't know if this is going to cause a nightly failure , but I suspect it will/should : These tests : tests/bluetooth/init/bluetooth . ini t.t est_ctlr_peripheral_iso tests/bluetooth/init/bluetooth . ini t.t est_ctlr_central_iso on these platforms : nrf51dk_nrf51422 nrf52840dk_nrf52840 all appear to produce this diagnostic : : warning : BT_AUDIO_UNICAST ( defined at subsys/bluetooth/host/audio/Kconfig : 25 ) was assigned the value ' y ' but got the value ' n ' . Check these unsatisfied dependencies : BT_AUDIO (= n ) . See < URL > and/or look up BT_AUDIO_UNICAST in the menuconfig/guiconfig interface . The Application Development Primer , Setting Configuration Values , and Kconfig - Tips and Best Practices sections of the manual might be helpful too . . The < URL > still fails because it ran before #32013 got merged , but although the build completes on current mainline the Kconfig diagnostic is still present .  	0	0
2 2 2.0 2.0 1.9 2.0 1.8 2.0 2.0 2.0 1.0 2 1.0 2 13 20 94	There is no way to leave a ipv6 multicast group . Describe the bug It is possible for the coap_server to join a multicast group , however it is not possible to leave a multicast group . There is no implementation of : NET_EVENT_IPV6_CMD_MADDR_DEL . in : ipv6_addr_event_handler . in : openthread . c . . Building the coap_server with Openthread support fails because of : net_ipv6_mld_join . . Replacing this method with : net_if_ipv6_maddr_add . and : net_if_ipv6_maddr_join . seems to solve the problem . An issue related to the 2 points above has been reported here : < URL > To Reproduce Steps to reproduce the behavior : 1 . Build the coap_server sample with Openthread 2 . Build process fails 3 . Change : net_ipv6_mld_join . to : net_if_ipv6_maddr_add . and : net_if_ipv6_maddr_join . to be able to build the sample . 4 . There is no way of leaving a multicast group Expected behavior I expected that there were a method to leave a certain multicast group . Impact I am not able to leave a multicast group . Environment ( please complete the following information ): - Toolchain ( e . g Zephyr SDK , ... ) - Zephyr : v 2.6.99 -ncs1-rc2	2	0
0 0 0.8 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 1.0818385650224216 892 1.0 4 12 15 61	Add support for computing IP , TCP , UDP checksums in hardware . Reported by Piotr Mienkowski : Modern Ethernet modules in most of the SoC devices/Ethernet cards have ability to generate IP , TCP and UDP checksums in hardware . Add support in the networking stack for computing IP , TCP , UDP checksums in hardware . ( Imported from Jira ZEP-1520 )  	0	1
1 1 1.4 2.0 1.2 1.5 1.0 1.0 1.0 1.0 1.0834970530451866 1018 1.0 19 24 31 103	Barebone Panther board support . Reported by Anas Nashif : Add support for the panther board based on Quark SE C1000 ( Imported from Jira ZEP-1706 )	1	1
0 0 1.2 1.0 0.9 1.0 0.95 1.0 1.0 1.0 0.9672131147540983 183 1.0 3 10 15 74	USB Charging Support for a Zephyr enabled device . Reported by Gajinder Vij : As a consumer , I want to plug my Zephyr based device into a USB power adapter or a USB port on a PC and have the battery be charged or the device be powered . This needs to be added to the validation test plan . This Jira is to capture the work item related to adding this functionality to the test/validation plan and can be closed once that action complete . Any failures of the test should be raised as bugs against the platform . ( Imported from Jira ZEP-310 )	1	1
0 0 1.0 1.0 1.2 1.0 1.35 1.0 1.0 1.0 0.9602888086642599 277 1.0 5 5 8 48	Destination multicast address is not correct . Reported by Biswanath Goswami : In some cases destination multicast address is not getting updated correctly . Below patch temporarily fixes the issue , diff -- git a/net/ip/contiki/ip/tcpip . c b/net/ip/contiki/ip/tcpip . c index 10d9033 .. 79a4cd6 100644 --- a/net/ip/contiki/ip/tcpip . c +++ b/net/ip/contiki/ip/tcpip . c @@ -569 , 6 +569 , 7 @@ tcpip_ipv6_output(struct net_buf buf ) uip_ds6_nbr_t nbr = NULL ; uip_ipaddr_t nexthop ; uint8_t ret = 0 ; / return value 0 = = failed , 1 = = ok */ + uip_lladdr_t multicast_destipaddr ; if ( ! buf || uip_len(buf ) = = 0 ) { return 0 ; @@ -824 , 7 +825 , 10 @@ tcpip_ipv6_output(struct net_buf buf ) return 0 ; / discard packet / } / Multicast IP destination address . / - ret = tcpip_output(buf , NULL ); + multicast_destipaddr . addr[0 ] = 0x33 ; + multicast_destipaddr . addr[1 ] = 0x33 ; + memcpy(&multicast_destipaddr . addr[2 ] , ( uint8_t )(& UIP_IP_BUF(buf ) -> destipaddr ) + 12 , UIP_LLADDR_LEN ); + ret = tcpip_output(buf , & multicast_destipaddr ); uip_len(buf ) = 0 ; uip_ext_len(buf ) = 0 ; return ret ; ( Imported from Jira ZEP-473 )	1	0
1 1 1.2 1.0 1.3 1.0 1.2 1.0 1.6666666666666667 2.0 1.289855072463768 69 1.0 3 9 19 59	drivers/usb/device : stm32 : Update due to API change on F0/F3/L0 . Following update of STM32Cube packages for series F0/L0/F3 , a new file ll_usb . h is now available for these series . As a consequence , specific hanlding is no more requested for this series is stm32 usb_device driver . Fixes #21962 Signed-off-by : Erwan Gouriou < URL >  	0	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.343558282208589 163 1.0 26 38 60 164	[ Coverity CID : 190973]Control flow issues in /subsys/net/ip/net_context . c . Static code scan issues seen in File : /subsys/net/ip/net_context . c Category : Control flow issues Function : net_context_connect Component : Networking CID : 190973 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.4 1.5 1.45 1.5 1.3333333333333333 1.0 0.0 0 0.0 2 8 14 72	Wrong format type for uint32_t . In subsys/logging/log_output . c is a wrong format type for uint32_t : length = print_formatted(log_output , ' 197 0-0 1-01T%02d : %02d : %02d . %06dZ ' , hours , mins , seconds , ms * 1000U + us ); #endif } else { length = print_formatted(log_output , ' [%02d : %02d : %02d . %03d , %03d ] ' , hours , mins , seconds , ms , us ); . %d is for signed int . uint32_t is unsigned int . For unsigned int %u should be used . example : [%02u : %02u : %02u . %03u , %03u ] Please fix this	2	0
1 1 1.0 1.0 0.9 1.0 1.1 1.0 1.3333333333333333 1.0 1.108695652173913 92 1.0 1 2 8 39	API documentation needs to be IP aware . Reported by Daniel Kalowsky : Currently much of our documentation is pretty generic . This works well until we start seeing sections where some IP blocks have support for a function while others do not . Specifically running into a case where the PWM has variable functionality per the IP block . We need to come up with a better solution for documenting what does and does not get needed for the IP blocks . ( Imported from Jira ZEP-155 )	1	2
2 2 2.0 2.0 1.8 2.0 1.55 2.0 2.0 2.0 1.0 2 1.0 5 13 18 65	tests/net/udp/ - MPU fault on sam_e70_xplained . Commit ID : 798360632732b0e687bd20d3bfbfa664066dac7f : E #1 @srrsotc05 /same7 0-0 7r console output : ***** MPU FAULT ***** E #1 @srrsotc05 /same7 0-0 7r console output : Instruction Access Violation E #1 @srrsotc05 /same7 0-0 7r console output : ***** Hardware exception ***** E #1 @srrsotc05 /same7 0-0 7r console output : Current thread ID = 0x20401db0 E #1 @srrsotc05 /same7 0-0 7r console output : Faulting instruction address = 0x521911ae E #1 @srrsotc05 /same7 0-0 7r console output : Fatal fault in essential thread ! Spinning ... . This is the only output target produced before trying to boot zephyr	2	0
1 1 0.8 1.0 1.1 1.0 1.4 1.0 1.0 1.0 1.0 1 1.0 3 15 44 120	OpenOCD support code version not raised on recent additions . The commit a5b6215a060676d07f9a5119f0a05ffa2edc8d85 added three elements to the : _kernel_openocd_offsets . array without raising the : OPENOCD_OFFSET_VERSION . as was instructed in the comment above the array . So even if OpenOCD was able to use those new values , it would not be able to determine if they exist . But since our patch to OpenOCD right now rejects unknown versions ( see zephyrproject-rtos/openocd #3 ) , I suggest to change the meaning of the : OPENOCD_OFFSET_VERSION . field to inform only about in compatible changes . For detecting backward compatible additions to the end of the array like the commit mentioned above , we should add a new variable to the . openocd_debug section that has the value : ARRAY_SIZE(_kernel_openocd_offsets ) . ( C does not allow us to put this value inside the array ) . Also note that our patch to OpenOCD is not yet upstream ( #2933 ) . I'd be willing to make pull requests with the necessary changes , both for this issue and for zephyrproject-rtos/openocd .	1	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0190615835777126 682 1.0 10 21 29 88	Create test for memory pools kernel object using native unified kernel API . Reported by Anas Nashif : Verify memory pools object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . The new test should utilise the ztest framework . ( Imported from Jira ZEP-1210 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.3333333333333333 1.0 1.0292942743009321 751 1.0 2 10 21 122	entropy subsystem . Reported by Inaky Perez-Gonzalez : As a developer , I need a consistent way to generate crypto-grade entropy that can be used to seed pseudo-random-number-generators for crypto , secure storage and hashing . The subsystem shall support : - binding HW sources of entropy to the subsystem - harvesting entropy from said sources : -- the entropy sources that can generate entropy as part of their normal operation shall be able to push entropy to the subsystem when enough is generated -- the entropy sources that can supply entropy on demand shall support being polled by the subsystem - means for the user to query the subssystem for N bytes of entropy -- to be resolved : support source hoping ? or will be adding from multiple SW and HW sources enough ? - sources -- HW sources from SoC , drivers for entropy/crypto specific modules -- SW sources : --- drivers that have soft/random timings --- IRQ handler timings --- network noise The current subsystem implementation ( drivers/random ) is not sufficient as it allows only a single source of entropy to be used . More solid entropy could be achieved by adding push points , reinforced with HW generated one . ( Imported from Jira ZEP-1314 )  	0	1
0 0 1.4 2.0 1.3 1.5 1.35 1.0 1.3333333333333333 2.0 1.5 20 2.0 8 15 26 175	TCP fixes . 2 important fixes : - Fix local TCP connections ( currently leads to non functioning connection and memory leak ) - Fix TCP disconnection initiated on Zephyr side ( currently leads to memory leak )  	0	0
2 2 1.0 1.0 0.8 1.0 0.7 1.0 1.6666666666666667 2.0 1.014018691588785 428 1.0 2 6 9 53	Enable MQTT Paho samples to run on quark se board . Reported by Juan Manuel Cruz Alcaraz : Current samples/net/paho_mqtt/publisher and subscriber were created to run on Galileo ( Quark x1000 ) and we should be able to enable it run it on Quark SE Arduino 101 board using an external Ethernel module and driver ( e.g. ENC28J60 ) as the network interface . ( Imported from Jira ZEP-785 )	2	1
2 2 2.0 2.0 1.7 2.0 1.35 1.0 2.0 2.0 1.4 5 1.0 5 8 21 159	fs : nvs : auto restore FS on writing while power down error . . The scenario when the last entry is corrupt due the power down while write is very likely . Add functionality for auto-restore the NVS once such issue detected - it is obvious the corrupted entry will be lost during the process . cc @Laczen @lemrey @carlescufi	1	1
0 0 1.0 1.0 0.7 0.0 0.9 1.0 1.0 1.0 1.1875 48 1.0 7 17 30 134	tests : mbedtls : don't use stdout console . This redirects PRINT () to printf () and not printk () and was causing stack overflows on some platforms . Fixes : #8033 Signed-off-by : Andrew Boie < URL >  	0	0
1 1 1.0 1.0 1.2 1.0 1.2 1.0 0.6666666666666666 1.0 1.6 5 2.0 3 5 25 68	Convert xtensa boards to device tree . The following boards need to get converted : - [ x ] esp32 - [ x ] qemu_xtensa - [ x ] xt-sim	1	1
2 2 1.2 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 1.0 1.375 8 1.5 4 16 38 142	tests/kernel/arm_irq_vector_table : test case cannot quit displaying ' isr 0 ran!' . Describe the bug Test case did not quit . It kept displaying ' isr 0 ran!' until it times out To Reproduce Steps to reproduce the behavior : 1 . mkdir build ; cd build 2 . cmake -DBOARD = nrf52_pca10040 -DARCH = arm 3 . make 4 . make run Screenshots or console output : ***** delaying boot 1000ms ( per build configuration ) ***** isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! ... isr0 ran ! isr0 ran ! isr0 ran ! isr0 ran ! isr0 . Environment ( please complete the following information ): - OS : fedora29 - Toolchain : zephyr - Commit SHA or Version used : dd5ff3957ceece428e3465dd4e23fb926f61691c	2	0
2 2 1.2 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.044871794871795 780 1.0 5 31 43 149	samples/nfc build failures . Reported by Chuck Jordan : Some deperecated warnings here , but also , README doesn't say much here , and some undefines . I'm building for em_starterkit , SOC = EM11d . Probably this sample doesn't apply for this board , but still , the build error you get should say something like ' not supported on this board ' or some such since it appears to use an opcode = = bswap . /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : In function ' main ' : /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : 79:2 : warning : ' nano_timer_init ' is deprecated ( declared at /home/chuck/repository/zephyr/include/legacy . h : 3077 ) [-Wdeprecated-declarations ] nano_timer_init(&t , & t_data ); ^ /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : 90:3 : warning : ' nano_timer_start ' is deprecated ( declared at /home/chuck/repository/zephyr/include/legacy . h : 3100 ) [-Wdeprecated-declarations ] nano_task_timer_start(&t , MSEC(500 )); ^ /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : 91:3 : warning : ' nano_timer_test ' is deprecated ( declared at /home/chuck/repository/zephyr/include/legacy . h : 3163 ) [-Wdeprecated-declarations ] nano_task_timer_test(&t , TICKS_UNLIMITED ); ^ /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : Assembler messages : /home/chuck/repository/zephyr/samples/nfc/nfc_hello/src/main . c : 41 : Error : unknown opcode ' bswap ' ( Imported from Jira ZEP-1348 )	2	0
1 1 1.2 1.0 1.3 1.5 1.25 1.5 1.6666666666666667 2.0 1.1415929203539823 113 1.0 0 4 5 40	Zephyr driver model is undocumented . Reported by Andrew Boie : How the Zephyr driver model is supposed to work is currently tribal knowledge . We need to add its design goals and implementation details to the Zephyr docs . This will help : 1 . New developers trying to write a driver for the first time 2 . Assist with QMSI engagement , to influence future QMSI revisions to more closely map to our driver model ( Imported from Jira ZEP-199 )	1	2
1 1 1.0 1.0 0.9 1.0 1.2 1.0 0.6666666666666666 1.0 1.4166666666666667 12 1.5 5 6 32 121	Shell dereferences invalid pointer when printing demo command help . On a shell over uart , typing ' demo/r ' without any option causes a bad pointer de-refence : = = 30417 = = at 0x804AD0C : _vprintk ( printk . c : 196 ) = = 30417 = = by 0x804FFA3 : shell_fprintf_fmt ( shell_fprintf . c : 38 ) = = 30417 = = by 0x804F7BD : shell_fprintf ( shell . c : 1409 ) = = 30417 = = by 0x804FADC : help_item_print ( shell . c : 1537 ) = = 30417 = = by 0x804FB62 : help_options_print ( shell . c : 1561 ) = = 30417 = = by 0x804FEB8 : shell_help_print ( shell . c : 1662 ) = = 30417 = = by 0x804EECB : shell_execute ( shell . c : 1080 ) = = 30417 = = by 0x804E87C : shell_state_collect ( shell . c : 770 ) = = 30417 = = by 0x804F69F : shell_process ( shell . c : 1366 ) = = 30417 = = by 0x804F3B5 : shell_thread ( shell . c : 1232 ) = = 30417 = = Address 0xa is not stack'd , malloc'd or ( recently ) free'd	1	0
2 2 1.8 2.0 1.6 2.0 1.45 2.0 2.0 2.0 0.0 0 0.0 12 24 44 85	Bluetooth mesh example not working . Describe the bug Hi , I tried to gest started with the zephyr mesh examples on my custom board ( < URL > that is based on an E73-2G4M04S1B module ( nrf52832 qfaa ) . I tested my custom bluetooth board before using fruitymesh , an other nrf52 mesh software that is based on nordics soft device that worked fine . I used the nrf52dk_nrf5832 as zephyr board , I did not change anything on the nrf52dk_nrf5832 its for testing . After testing the Blinky example that worked fine I wanted to try the mesh examples . I used the examples samples/boards/nrf/mesh/onoff_level_lighting_vnd_app and samples/bluetooth/mesh_demo to get started . Building and flashing worked fine with the lates zephyr 2.30 on ubuntu with nrfjprog and jlink . To Reproduce I followed the instructions from < URL > and < URL > Expected behavior I was not able to get any sign of live from the device . I was not able to get communication on uart ( not sure if this is enabled in this examples ) but I also could not detect the device over bluetooth . Environment ( please complete the following information ): - OS Ubuntu 18.02 - Toolchain latest sdk and lates Zephyr I have no Idea what step I am missing . I appreciate any tip . I am new to zephyr and really want to get the mesh demo running before I make further investigations on how to use zephyr for my application . Thanks for any help . Best regards , Nils	2	0
2 2 2.0 2.0 1.7 2.0 1.75 2.0 2.0 2.0 1.2658227848101267 2133 1.0 5 12 97 210	[ Coverity CID : 219724 ] Side effect in assertion in tests/kernel/queue/src/test_queue_contexts . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : test_queue_poll_race . Component : Tests CID : < URL > Details : < URL > : 356 * consume both . The lower priority thread should stay 357 * asleep . 358 */ 359 k_queue_append(&queue , & data[0 ]); 360 k_queue_append(&queue , & data[1 ]); 361 >>> CID 219724 : Incorrect expression ( ASSERT_SIDE_EFFECT ) >>> Argument ' low_count ' of z_zassert () has a side effect because the variable is volatile . The containing function might work differently in a non-debug build . 362 zasser t_t rue(low_count = = 0 , NULL ); 363 zasser t_t rue(mid_count = = 0 , NULL ); 364 365 k_sleep(K_MSEC(10 )); 366 367 zasser t_t rue(low_count + mid_count = = 2 , NULL ); . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.0 1.0 1.05 1.0 1.0 1.0 0.9693140794223827 554 1.0 4 9 60 150	Update device PM API to allow setting additional power states . Reported by Ramesh Thomas : Currently device PM API consists of the suspend () and resume () hooks implemented by the drivers . In addition to suspend and resume , devices would also need to be set to other power states e.g. a state in which the peripherals can be clock gated . To achieve this , the following needs to be done . Define new device power states Update the device PM API - create a function that can be used to set the different device PM states . Use this function in place of the suspend/resume hooks in drivers that implement PM support . The existing device PM API will be replaced by the new API and will be marked as deprecated . ( Imported from Jira ZEP-954 )	1	1
0 0 1.2 2.0 1.5 2.0 1.6 2.0 1.3333333333333333 2.0 1.1333333333333333 135 1.0 4 23 25 125	code coverage is not tested in CI . To enable code coverage , the special Kconfig option CONFIG_COVERAGE must be enabled . I have found that many tests are failing when this is turned on . Most of this is due to stack overflows , but I have found a variety of issues . We need to stop this from bit-rotting , ensuring code coverage is vital for functional safety requirements . I am going to introduce qemu_x86_coverage and mps2_an385_coverage targets . These have the same configuration but enabled CONFIG_COVERAGE = y . We will then show that coverage is working properly . The first patch is #15886 We also need to put a stop to a trend to whitelist test targets without good reason . #15836 PR does this for network test cases , but there are others .  	0	0
0 0 1.0 1.0 1.1 1.0 1.3 1.0 0.6666666666666666 1.0 1.0699865410497982 1486 1.0 4 9 15 78	samples/bluetooth/ipsp's builtin TCP echo crashes on TCP closure . Reported by Paul Sokolovsky : Spotted on 96b_carbon . From host : : # telnet fe80 :: c103 : b6ff : fea2 : bd03%bt0 4242 Trying fe80 :: c103 : b6ff : fea2 : bd03%bt0 ... Connected to fe80 :: c103 : b6ff : fea2 : bd03%bt0 . Escape character is ' ^]' . hello hello where ? where ? ^] telnet > quit Connection closed . . At that time on ipsp serial output : : [ net/tcp ] [ DBG ] ne t_t cp_change_state : ( 0x20002080 ): state @0x200032d4 ESTABLISHED ( 4 ) => CLOSE_WAIT ( 5 ) tcp_received TCP IPv6 received 58157 bytes[net/net_pkt ] [ DBG ] net_pkt_get_reserve_debug : ( 0x20002080 ): EXT [ 14 ] pkt 0x200048a8 reserve 0 ref 1 ( build_reply_pkt (): 166 ) ***** BUS FAULT ***** Executing thread ID ( thread ): 0x20002080 Faulting instruction address : 0x80009ee Precise data bus error Address : 0xe5f7ffc1 Fatal fault in essential thread ! Spinning ... . This crash on closure is 100% reproducible for me . ( Imported from Jira ZEP-2423 )	1	0
1 1 1.2 1.0 1.0 1.0 1.1 1.0 1.3333333333333333 1.0 1.0296495956873315 742 1.0 1 7 16 122	Define device tree bindings for NXP Kinetis K64F . Reported by Andy Gross : Each board that will utilize device tree needs to have a DTS file defined . This file will reside in the arm device tree directory . The device tree file should be defined in such a way as to partition the information for the SoC from the board specific pieces . This means defining a . dtsi file for the K64F . The FRDM-K64F board will have its own . dts file that will include the SoC . dtsi file . ( Imported from Jira ZEP-1304 )	1	1
1 1 1.4 1.0 1.7 2.0 1.5 2.0 1.0 1.0 1.125 104 1.0 26 36 55 118	samples/net/sockets/echo_client/sample . net . sockets . echo_client . nrf_openthread fails to build . : . /scripts/sanitycheck -p nrf52840dk_nrf52840 -s samples/net/sockets/echo_client/sample . net . sockets . echo_client . nrf_openthread . : -- The C compiler identification is GNU 9.2.0 -- The CXX compiler identification is GNU 9.2.0 -- The ASM compiler identification is GNU -- Found assembler : /opt/zephyr-sdk- 0.11.4 /arm-zephyr-eabi/bin/arm-zephyr-eabi-gcc -- Check if the system is big endian -- Searching 16 bit integer -- Looking for sys/types . h -- Looking for sys/types . h - not found -- Looking for stdint . h -- Looking for stdint . h - not found -- Looking for stddef . h -- Looking for stddef . h - not found -- Check size of unsigned short -- Check size of unsigned short - failed -- Check size of unsigned int -- Check size of unsigned int - failed -- Check size of unsigned long -- Check size of unsigned long - failed CMake Error at /usr/share/cmake/Modules/TestBigEndian . cmake : 50 ( message ): no suitable type found Call Stack ( most recent call first ): /home/galak/git/modules/lib/openthread/CMakeLists . txt : 50 ( TEST_BIG_ENDIAN ) -- Configuring incomplete , errors occurred ! See also ' /home/galak/git/zephyr/sanity-out/nrf52840dk_nrf52840/samples/net/sockets/echo_client/sample . net . sockets . echo_client . nrf_openthread/CMakeFiles/CMakeOutput . log ' . See also ' /home/galak/git/zephyr/sanity-out/nrf52840dk_nrf52840/samples/net/sockets/echo_client/sample . net . sockets . echo_client . nrf_openthread/CMakeFiles/CMakeError . log ' . .  	0	0
2 2 0.8 0.0 0.8 0.5 1.1 1.0 1.3333333333333333 2.0 0.9870689655172413 232 1.0 0 2 7 109	aaD , I want to be able to build my existing code which uses assert . h on Zephyr . Reported by Anas Nashif : ok , lets write a story ... aaD , I want to be able to build my existing code which uses assert . h on Zephyr and hook into the built-in assert functionality in zephyr . assert . h and the assert function are widely used in code that we want to use with Zephyr and when using the minimal c library . Up to now we had different workarounds to make existing code work , this will make it easier to port existing code . ( Imported from Jira ZEP-405 )	1	1
2 2 2.0 2.0 2.0 2.0 1.95 2.0 2.0 2.0 1.1058201058201058 1701 1.0 5 9 78 186	[ Coverity CID : 206016 ] Side effect in assertion in tests/kernel/sched/metairq/src/main . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : coop_thread1 . Component : Tests CID : < URL > Details : : 67 /* High-priority cooperative thread */ 68 void coop_thread1(void ) 69 { 70 k_sem_take(&coop_sem1 , K_FOREVER ); 71 72 /* Expect that low-priority thread has run to completion */ >>> CID 206016 : Incorrect expression ( ASSERT_SIDE_EFFECT ) >>> Argument ' coop_cnt1 ' of z_zassert () has a side effect because the variable is volatile . The containing function might work differently in a non-debug build . 73 zassert_equal(coop_cnt1 , 0 , 74 ' Unexpected cnt1 at start : %d ' , coop_cnt1 ); 75 zassert_equal(coop_cnt2 , LOOP_CNT , 76 ' Unexpected cnt2 at start : %d ' , coop_cnt2 ); 77 78 printk('thread1/n ' ) ; . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 1.4 2.0 1.1 1.0 1.25 1.0 1.0 1.0 1.25 4 1.5 1 7 19 164	boards : beaglev_starlight_jh7100 : integrate manual flashing steps using python so that west flash works . Is your enhancement proposal related to a problem ? Please describe . In < URL > , it mentions The bootloader expects size information at the start of the binary file , so the bin file needs to be processed first to include that information . Download the helper script from starfive-tech github repo here with a link pointing to < URL > Additionally , there are some manual steps required ( open : minicom . , use xmodem protocol , etc ) . Describe the solution you'd like It would probably be helpful to simply integrate those processes into some board-specific hook when west is invoked Most of these additional steps can be hidden from the user . E.g. the binary does not need to be prefixed by its size , but the bootloader expects that the size appear first on the wire . Additionally , the python xmodem package can be used to transmit data via python , as long as the correct uart can be specified or detected . Describe alternatives you've considered Additional context The additional manual processes raised a flag for me when reviewing #38397	2	1
0 0 0.0 0.0 0.0 0.0 0.15 0.0 0.0 0.0 1.0688949522510232 1466 1.0 1 11 15 81	Convert test to use ztest framwork . Reported by punit vara : Analyze all test cases under tests/kernel which tests kernel API functionality Make them unified and convert it to use ztest APIs ( Imported from Jira ZEP-2382 )	1	1
0 0 0.0 0.0 0.4 0.0 0.5 0.0 0.0 0.0 0.9787234042553191 235 1.0 3 4 10 112	Add driver API reentrancy support to I2C driver for LMT . Reported by Kuo-Lang Tseng : Use locking mechanism to guard critical regions in the driver API so that it will allow the driver to be safe from fibers and task . ( Imported from Jira ZEP-409 )  	0	1
1 1 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.368 125 1.0 10 14 17 48	[ Coverity CID : 190633]Control flow issues in /subsys/net/lib/lwm2m/lwm2m_rw_plain_text . c . Static code scan issues seen in File : /subsys/net/lib/lwm2m/lwm2m_rw_plain_text . c Category : Control flow issues Function : plain_text_read_number Component : Networking CID : 190633 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2328902018709995 2031 1.0 39 43 50 127	[ Coverity CID : 219502 ] Improper use of negative value in tests/net/socket/af_packet/src/main . c . Static code scan issues found in file : < URL > Category : Integer handling issues Function : : __test_packet_sockets . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 0.7 1.0 0.8 1.0 0.6666666666666666 1.0 1.0295698924731183 744 1.0 3 9 18 124	Create DTS/DTB parser . Reported by Andy Gross : The DTS/DTB files must be parsed to create configuration information used in the build . The parser must create the necessary #define information as well as any device specific structures . The parser will be written in python . The initial information to be parsed will be the SRAM base address/size and the flash base address/size . ( Imported from Jira ZEP-1306 )	1	1
2 2 1.4 2.0 1.3 1.5 1.45 2.0 1.6666666666666667 2.0 1.0926680244399185 982 1.0 0 3 11 102	IPv6 over BLE no longer works after commit 2e9fd88 . Reported by James Prestwood : Running using Zephyr's IPv6 over BLE seems to have been broken recently . I have tested with iotivity-constrained and do see some data but things are not working correctly . I did a git bisect in Zephyr and was led to this commit : { code } commit 2e9fd888bf49e535a5442c1475868f2bf05c5e59 Author : Luiz Augusto von Dentz < URL > Date : Wed Jan 25 14:36:49 2017 +0200 : net : bt : Fix not checking for valid ll addresses ll addresses need to be set properly before sending as the stack is not checking if they are NULL . Change-Id : Ia4e96240f18b53b0e32e21649a8b571c94260731 Signed-off-by : Luiz Augusto von Dentz < luiz.von.dentz@intel.com > . { code } Everything before this commit works as expected . After looking at the commit it seems to touch IPv6/BLE code that does some checks on network interfaces . If this is something that changed the way IPv6 over BLE needs to be initialized ( like choosing a correct iface ) let me know and this can be disregarded , though I did not see any changes in the samples . ( Imported from Jira ZEP-1656 )	1	0
0 0 1.0 1.0 0.9 1.0 1.2 1.5 1.3333333333333333 2.0 1.0 8 1.0 4 6 15 96	net : ipv4 : Zephyr replies to ICMPv4 packets with incorrect checksums . These packets should be dropped instead . Note that also checksum 0 is not valid for ICMP . < URL > < URL >	1	0
2 2 2.0 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.0714285714285714 28 1.0 7 24 40 87	STM32 : Add erase-block-size to flash node . Similarly to what is done in < URL > define erase-block-size to all STM32 flash nodes with constant page size ( F0 , F3 , not F4 ) . Others TBD .	1	1
1 1 1.4 2.0 1.4 2.0 1.4 1.5 1.0 1.0 0.0 0 0.0 1 4 7 49	Bluetooth : Controller : Missing LL_ENC_RSP after HCI LTK Negative Reply . Describe the bug In the Encryption Start Procedure , for the case when the host does not provide an LTK , the controller is supposed to send an LL_ENC_RSP before sending LL_REJECT_IND or LL_REJECT_EXT_IND . To Reproduce 1 . Modify hci_core . c , : le_ltk_request () . to always call : le_ltk_neg_reply () . : : // if ( bt_smp_request_ltk(conn , evt -> rand , evt -> ediv , ltk )) { // le_ltk_reply(handle , ltk ); // } else { le_ltk_neg_reply(handle ); // } . Build the peripheral_hr sample Connect and try bonding , expect it to fail . Observe the sniffer log . Expected behavior Send LL_ENC_RSP before LL_REJECT_IND . See the MSC in Bluetooth Core Specification v 5.1 , Vol 6 , Part D , Section 6.7 , or Part B Section 5.1.3.1 . If encryption is not supported by the Link Layer of the slave , the Link Layer of the slave shall send an LL_REJECT_IND or LL_REJECT_EXT_IND PDU with the ErrorCode set to Unsupported Remote Feature / Unsupported LMP Feature ( 0x1A ) . ?The Link Layer of the slave shall then send an LL_ENC_RSP PDU . The Link Layer of the slave shall then notify the Host with the Rand and EDIV fields . Impact Possible showstopper . Peer devices may cache that the controller does not support encryption , thereby leaving the link unencrypted . Screenshots or console output Environment ( please complete the following information ): f79fbac101f8febb459acee577e9f6b76e00acc0 The issue is present in both the legacy and split controller . The issue is also present in Zephyr v . 2.0.0	1	0
0 0 0.6 0.0 1.1 1.0 1.35 2.0 0.6666666666666666 0.0 0.0 0 0.0 4 12 40 124	samples/net/sockets/echo doesn link with CONFIG_N O_O PTIMIZATIONS = y . samples/net/sockets/echo doesn link with CONFIG_N O_O PTIMIZATIONS = y To Reproduce cd samples/net/sockets/echo Add CONFIG_N O_O PTIMIZATIONS = y into prj . conf mkdir build ; cd build cmake -DBOARD = qemu_x86 .. make See error Expected behavior Echo sample links . Screenshots or console output : [ 94%] Generating mmu_tables . bin , user_mmu_tables . bin Memory region 1 ( 1e 000:400000 ) overlaps memory region 0 ( 1000:1 e000 ) zephyr/arch/arch/x86/CMakeFiles/mmu_tables_o . dir/build . make : 65 : recipe for target ' zephyr/arch/arch/x86/mmu_tables . bin ' failed make[2 ]: [ zephyr/arch/arch/x86/mmu_tables . bin ] Error 2 CMakeFiles/Makefile 2:933 : recipe for target ' zephyr/arch/arch/x86/CMakeFiles/mmu_tables_o . dir/all ' failed make[1 ]: [ zephyr/arch/arch/x86/CMakeFiles/mmu_tables_o . dir/all ] Error 2 Makefile : 83 : recipe for target ' all ' failed make : *** [ all ] Error 2 Environment : - OS : Ubuntu 18.04.2 LTS - Toolchain : Zephyr SDK 0.9.5 - Commit SHA : 406dc2c	1	0
1 1 1.6 2.0 1.6 2.0 1.45 2.0 1.3333333333333333 1.0 1.5555555555555556 9 2.0 8 24 44 118	shell : add select command . Added : select . command similar to one available in the legacy shell . In order for the command to be selected , it must meet the criteria : - It is a static command . - It is not preceded by a dynamic command . - It has at least one subcommand It means you can select either root command or its subcommands as long as above criteria are met . If you type : select . you can still use the : tab . button to prompt and autocomplete all available commands . To unselect the command one must press : ctrl + s . . You can only select a command if no other command is selected . This prevents ambiguity as to what action should be performed . Fixes #10769 Signed-off-by : Jakub Rzeszutko < URL >	2	0
2 2 1.4 2.0 1.7 2.0 1.7 2.0 1.0 1.0 0.0 0 0.0 1 18 27 88	Linker error when building google_iot_mqtt sample with zephyr-sdk 0.11.1 . Describe the bug After upgrading to zephyr-sdk 0.11.1 I got a linker error when building : samples/net/cloud/google_iot_mqtt . . The linker complains about : _gettimeofday . and seems to be the same error as in < URL > To Reproduce Steps to reproduce the behavior : 1 . west build -b nrf52840_pca10056 -d build/iot-sample zephyr/samples/net/cloud/google_iot_mqtt Screenshots or console output : /opt/zephyr-sdk/arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 9.2.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld : /opt/zephyr-sdk/arm-zephyr-eabi/arm-zephyr-eabi/lib/thumb/v7e-m/nofp/libc_nano . a(lib_a-gettimeofdayr . o ): in function `_gettimeofday_r ' : gettimeofdayr . c :( . text . _gettimeofday_r+0xe ): undefined reference to `_gettimeofday ' collect2 : error : ld returned 1 exit status . Environment ( please complete the following information ): - OS : ArchLinux - Toolchain : zephyr-sdk 0.11.1 - SHA : f21aaeffaa5ed10629915a9d198ff483865f7be9  	0	0
2 2 1.6 2.0 1.7 2.0 1.45 2.0 1.6666666666666667 2.0 0.0 0 0.0 6 9 29 72	USB : documentation needs to be updated . doc/subsystems/usb/usb . rst , chapter : USB device class drivers . needs to be updated . The description is not wrong , but does not reflect current status .	2	2
2 2 1.4 2.0 1.6 2.0 1.55 2.0 1.3333333333333333 2.0 1.28125 96 1.0 8 9 16 118	CI builds nothing if only tests are changed . Describe the bug when only a kernel testcase is changed , we exclude that kernel tag , so nothing is run at all . To Reproduce See < URL > for example . Or , change one or more kernel tests , commit them , then run : : python3 . /scripts/ci/ge t_t wister_opt . py -- commits origin/main .. . you will get : cat modified_tags . args -e posix -e cmsis_dsp -e kernel -e cbprintf -e . and : cat modified_tests . args -T tests/kernel/semaphore/semaphore . The former excludes the latter and no tests are at all . Expected behavior Twister should build and run the tests changed , for example one single kernel test on all boards . Impact Missing lots of changes with CI .  	0	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2043121149897331 1948 1.0 13 14 22 85	[ Coverity CID : 215232 ] Dereference after null check in subsys/emul/emul_bmi160 . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : bmi160_emul_io_spi . Component : Other CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.2 1.0 1.3 1.0 1.4 1.0 1.3333333333333333 1.0 1.4029850746268657 67 1.0 0 6 21 208	ehl_crb : tests/kernel/mem_heap/mheap_api_concept failed . . To Reproduce Steps to reproduce the behavior : 1 . west build -b up_squared -p auto tests/kernel/mem_heap/mheap_api_concept 2 . west flash ~ /up_squared . sh 3 . see error Logs and console output Booting Zephyr OS build zephyr-v 2.5.0 -1430-g911ba334a06a Running test suite mheap_api START - test_mheap_malloc_free PASS - test_mheap_malloc_free in 0.1 seconds START - test_mheap_calloc PASS - test_mheap_calloc in 0.1 seconds START - test_mheap_malloc_align4 PASS - test_mheap_malloc_align4 in 0.1 seconds START - test_mheap_threadsafe Assertion failed at WES T_T OPDIR/zephyr/tests/kernel/mem_heap/mheap_api_concept/src/test_mheap_concept . c : 61 : tmheap_handler : ( block[thread_id ] is NULL ) memory is not allocated FAIL - test_mheap_threadsafe in 0.18 seconds START - test_k_aligned_alloc PASS - test_k_aligned_alloc in 0.1 seconds START - test_sys_heap_mem_pool_assign PASS - test_sys_heap_mem_pool_assign in 0.1 seconds START - test_malloc_in_isr PASS - test_malloc_in_isr in 0.1 seconds START - test_malloc_in_thread PASS - test_malloc_in_thread in 0.1 seconds Test suite mheap_api failed . PROJECT EXECUTION FAILED Environment ( please complete the following information ): - OS : Fedora33 - Toolchain : zephyr-sdk- 0.12.3 - Commit ID : 911ba334a06a	1	0
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.1225546605293442 1738 1.0 14 23 45 97	[ Coverity CID : 208189 ] Self assignment in soc/xtensa/intel_apl_adsp/soc . c . Static code scan issues found in file : < URL > Category : Incorrect expression Function : : soc_set_power_and_clock . Component : Other CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.451219512195122 246 1.0 18 27 35 73	[ Coverity CID : 205643]Integer handling issues in /drivers/video/mt9m114 . c . Static code scan issues seen in File : /drivers/video/mt9m114 . c Category : Integer handling issues Function : mt9m114_read_reg Component : Drivers CID : 205643 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.6 2.0 1.5 1.5 1.45 2.0 1.3333333333333333 1.0 1.0 1 1.0 1 3 16 63	Cmsis_rtos_v2_apis test failed on iotdk board . . Describe the bug The cmsis_rtos_v2_apis test failed on iotdk board , we found that it will occur ' Zephyr fatal error 2 : Stack overflow ' when running cmsis_rots_v2_apis test . To Reproduce Steps to reproduce the behavior : 1 . source zephyr-env.sh 2 . west build -b iotdk -p = auto tests/cmsis_rtos_v2 3 . screen /dev/ttyUSB0 115200 4 . west flash Screenshots or console output Environment ( please complete the following information ): - OS : Fedora28 - Toolchain : Zephyr SDK - Commit ID : e806bd977955	2	0
1 1 1.0 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.3793103448275863 116 1.0 1 5 8 39	[ Coverity CID : 190642]Error handling issues in /drivers/console/telnet_console . c . Static code scan issues seen in File : /drivers/console/telnet_console . c Category : Error handling issues Function : telnet_send Component : Drivers CID : 190642 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.0 1.0 1.2 1.0 1.2 1.0 0.6666666666666666 1.0 1.8 5 2.0 4 10 21 82	test : posix/pthread_rwlock . tests/posix/pthread_rwlock/portability . posix calls : pthread_attr_destroy () . on the uninitialized , stack allocated , : pthread_attr_t attr[N_THR ]; . leading to undefined behaviour : : starting test - test_rw_lock main acquire WR lock and 3 threads acquire RD lock = = 18028 = = Thread 5 : = = 18028 = = Conditional jump or move depends on uninitialised value(s ) = = 18028 = = at 0x80507F5 : zap_pthread_attr_destroy ( pthread . c : 533 ) = = 18028 = = by 0x8049D4E : test_rw_lock ( posix_rwlock . c : 83 ) = = 18028 = = by 0x80559FC : run_test_functions ( ztest . c : 56 ) = = 18028 = = by 0x8055BB7 : test_cb ( ztest . c : 196 ) = = 18028 = = Uninitialised value was created by a stack allocation = = 18028 = = at 0x804982F : test_rw_lock ( posix_rwlock . c : 55 ) .	1	0
2 2 1.4 1.0 1.2 1.0 1.2 1.0 1.6666666666666667 2.0 1.3575418994413408 179 1.0 41 54 74 180	[ Coverity CID : 190953]Error handling issues in /subsys/fs/shell . c . Static code scan issues seen in File : /subsys/fs/shell . c Category : Error handling issues Function : cmd_read Component : Other CID : 190953 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.4 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 1.1428571428571428 35 1.0 35 35 35 35	x86 : unify separate SysV and IAMCU code . Reported by Hirally Santiago : We have parallel implementations of some interrupt and swap code in arch/x86/core/i386_sysV_abi and iamcu_abi . The iamcu versions are written in C and are easier to understand/maintain . It would be nice if we can use the C version in both ABIs , and not have to maintain two different implementations ; once execution flow transitions from assembly to C domain they should be the same . However , at the end of the day what we would like to have is just one implementation ( either C or ASM ) that is #ifdefed instead of 2 completely parallel implementations . ( Imported from Jira ZEP-49 )	1	1
2 2 0.8 0.0 1.0 1.0 1.25 2.0 1.3333333333333333 2.0 1.013595166163142 662 1.0 5 9 20 76	Reduce Zephyr's Dependency on Host Tools . Reported by Mark Linkmeyer : Reduce the amount of host tools ( e.g. minGW , Python ) required to build Zephyr on Windows by : Creating a list of tools dependencies Reviewing config files to see what can be eliminated Modifying the Windows build to not use the tools which can be eliminated In other words , develop a full list of tools needed to build Zephyr on Windows , then minimize it where possible . Note : Per mtg with ISSM stakeholders on ww 45.3 , a meeting is to be set up early Dec to review the results of the analysis above . ( Imported from Jira ZEP-1177 )	2	1
2 2 1.6 2.0 1.8 2.0 1.45 2.0 2.0 2.0 1.0 11 1.0 4 8 30 107	MISRA C - Document Zephyr's code guideline based on MISRA C 2012 . We have to document our code guideline based on MISRA-C 2012 to help newcomer developers to contribute on Zephyr . Also this is important not only because of MISRA-C rules but because of patterns that we want to be followed across the project . This document must be clear enough to make people no introduce MISRA-C violations . part of #9552	1	1
1 1 1.4 1.0 1.5 1.5 1.4 1.0 1.3333333333333333 1.0 1.08 1600 1.0 2 7 12 103	CC3220 executable binary format support . Reported by Siwei Xu : I tryed to flash zephyr demo to CC3220SF/CC3220R device via serial port , but it's always failed . My operation steps : 1 . compile the hello_wrold/blinky demo ; 2 . use Uniflash/ImageCreator to create a SFLASH image , which use zephyr . bin as ' MCU image ' , and generate SFLASH image ; 3 . programming the generated image to CC3220SF/CC3220R device via serial port(using uniflash/ImageCreator ); 4 . reset SOP state and reset device ; after all of those steps done , and even the flash image successfully programmed to device , the zephyr demo always cannot running . Does anyone can help me ? Thanks ~ ( Imported from Jira ZEP-2581 )	1	0
1 1 1.0 1.0 1.0 1.0 1.1 1.0 1.0 1.0 1.3529411764705883 17 2.0 1 2 5 29	Enable -Wshadow by default . Warn whenever a local variable or type declaration shadows another variable , parameter , type , class member . [ ] bluetooth controller ( #5444 ) [ ] bluetooth host ( #5445 ) [ ] samples [ ] tests [ ] Networking [ ] ...  	0	1
0 0 0.6 1.0 0.8 1.0 0.75 1.0 0.6666666666666666 1.0 1.094147582697201 1179 1.0 7 11 14 119	LLDP : Implement local MIB support with advertisement of mandatory TLVs . Reported by Anselmo L . S . Melo : As an end user I need support to LLDP mandatory TLVs : Mandatory TLVs : * Chassis ID * Port ID * Time to Live * End of LLDPDU Implement advertisement of device information ( local MIB ) , it should be verifiable by capturing traffic from any network applications working over ethernet as long as CONFIG_LLDP_ENABLED is set . ( Imported from Jira ZEP-1951 )	2	1
2 2 1.4 2.0 1.3 1.5 1.35 1.5 1.6666666666666667 2.0 1.2105263157894737 38 1.0 2 17 22 90	newlib support in zephyr is untested and very broken . In the course of working on #6814 I discovered that our problems with this alternate C library run far deeper . If I modify qemu_x86_defconfig to set CONFIG_NEWLIB_LIBC = y , and then run sanitycheck for qemu_x86 , I get many failures : : total complete : 282/ 282 100% failed : 143 139 of 282 tests passed with 0 warnings in 308 seconds .	1	0
2 2 0.6 0.0 0.3 0.0 0.75 1.0 1.0 1.0 0.9794661190965093 487 1.0 2 5 64 96	Migrate ENC28J60 driver to YAIP IP stack . Reported by Juan Manuel Cruz Alcaraz : ENC28J60 ethernet device driver should be adjusted and tested to work with new IP stack . ( Imported from Jira ZEP-859 )	1	1
2 2 0.8 1.0 0.8 1.0 0.8 1.0 0.6666666666666666 0.0 1.0156599552572707 447 1.0 21 25 28 71	IPv6 Stateless Autoconfiguration ( SLAAC ) . Reported by Gajinder Vij : The Zephyr IP stack shall support IPv6 Stateless Autoconfiguration ( SLAAC ) as specified in RFC 4862 ( Imported from Jira ZEP-808 )  	0	1
1 1 1.6 2.0 1.6 2.0 1.55 2.0 1.3333333333333333 1.0 1.1333333333333333 15 1.0 3 9 16 52	drivers/flash : flash_get_page_info_by_off uses relative addresses . Describe the bug In general embedded flash driver uses addresses according to SoC memory map , so absolute address . This is true for read , write and erase calls but not for : flash_get_page_info_by_offs . call which uses offset in relation to the flash begin address . Origin of the bug : The flash shim API `struct flash_driver_api ' allows to get flash layout in shape of run-length encoded description . Because of its nature from such description can't tell what is the absolute offset of the sector . The flash shim API doesn't allow to transfer information about the flash begin offset . solution Introduce flash shim API for fetching flash base address and use it for fixing the call	2	0
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.0 10 1.0 5 11 13 25	Coverity issue seen with CID : 178246 . Static code scan issues seen in File : /subsys/net/lib/app/client . c Category : Error handling issues Function : _app_connected Component : Networking Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 1.6 2.0 1.7 2.0 1.5 2.0 1.3333333333333333 1.0 2.0 1 2.0 0 0 11 99	tests/subsys/cpp/cxx - doesn't compile on native_posix when CONFIG_EXCEPTIONS = y . Describe the bug When compiling c++ code for : native_posix . board with : CONFIG_EXCEPTIONS = y . , the following error is produced : : c++ : error : /crtbegin . o : No such file or directory c++ : error : /crtend . o : No such file or directory ninja : build stopped : subcommand failed . . The source of this problem is that no cmake file sets : LIBGCC_DIR . value To Reproduce Steps to reproduce the behavior : 1 . cd tests/subsys/cpp/cxx 2 . Add : CONFIG_EXCEPTIONS = y . , : CONFIG_LIB_CPLUSPLUS = y . 3 . west build -b native_posix 4 . See error Expected behavior Some cmake file before should set the : LIBGCC_DIR . value Environment ( please complete the following information ): - OS : Ubuntu 18.04	2	0
1 1 1.4 2.0 1.2 1.0 1.1 1.0 1.0 1.0 1.197674418604651 172 1.0 3 4 21 58	x86 doesn't quite handle aborts correctly for non-maskable interrupts . Some types of exceptions ignore interrupt locking : machine checks , non-maskable interrupts , double faults . These currently all go through the exception handling path on x86_64 . In these cases , if they happen at the wrong time , the check to determine whether we need to swapgs and/or update page tables may not be correct . This can happen in between when the CPU pushes the code segment onto the stack , and the swapgs operation is performed at interrupt/exception/syscall entry ( or the reverse on the way out ) . The right thing to do in this case is a more expensive operation to read the GS_BASE MSR and figure out if it's already set to the TSS for the current CPU . We'd need an alternate exception entry point for this as other exceptions don't have this problem .	2	1
2 2 1.2 1.0 1.0 1.0 0.8 1.0 1.3333333333333333 1.0 1.4285714285714286 14 1.5 14 14 14 14	LE L2CAP connection-oriented channels . Reported by Javier B Perez : Add support to LE Credit Based connections ( Imported from Jira ZEP-22 )	1	1
0 0 1.0 1.0 1.0 1.0 0.8 0.5 0.6666666666666666 0.0 0.9794238683127572 486 1.0 1 4 63 95	CoAP with DTLS sample . Reported by Anas Nashif : As a developer I need a sample that implements CoAP over DTLS in zephyr . ( Imported from Jira ZEP-854 )	1	1
0 0 0.8 0.0 0.8 1.0 1.0 1.0 0.6666666666666666 0.0 1.0661057692307692 832 1.0 3 4 31 141	Arduino_101 doesn't response ipv6 ping request affer enable echo_client ipv6 . Reported by jiequan wu : Configuration x86 Bug detailed description Arduino_101 doesn't response ipv6 ping request affer enable echo_client ipv6 Patch < URL > Steps to Reproduce Apply patch to zephyr cd samples/net/echo_client Enable ipv6 and disable ipv4 prj_arduino_101 . conf : CONFIG_NET_IPV4 = n CONFIG_NET_IPV6 = y make pristine && make BOARD = arduino_101 flash Connect Arduino to the LAN with ENC28J60 Set ipv6 address on Ubuntu $ sudo ifconfig eth1 inet6 add 2001:0 db8 :: 2/64 open serial port ping6 2001:0 db8 :: 1 Expected Result Arduino_101 can response ipv6 ping request affer enable echo_client ipv6 Actual Result = = = = = = = = = = Arduino_101 doesn't response ipv6 ping request affer enable echo_client ipv6 zephyr/samples/net/echo_client$ ping6 2001:0 db8 :: 1 PING 2001:0 db8 :: 1(2001 : db8 :: 1 ) 56 data bytes From 2001 : db8 :: 2 icmp_seq = 24 Destination unreachable : Address unreachable From 2001 : db8 :: 2 icmp_seq = 37 Destination unreachable : Address unreachable From 2001 : db8 :: 2 icmp_seq = 38 Destination unreachable : Address unreachable From 2001 : db8 :: 2 icmp_seq = 39 Destination unreachable : Address unreachable ( Imported from Jira ZEP-1422 )	1	0
1 1 1.0 1.0 1.0 1.0 1.25 1.0 1.0 1.0 1.0687285223367697 1455 1.0 1 4 9 74	[ test ] Create a stress test to test preemptive scheduling on zephyr . Reported by Youvedeep Singh : The aim of this test case is to stress test on Board to prove that preemptive based scheduling is happening as expected . ( Imported from Jira ZEP-2370 )	1	1
2 2 1.6 2.0 1.7 2.0 1.7 2.0 2.0 2.0 1.0 11 1.0 4 14 81 124	Devicetree : allow one binding to match multiple compatibles . Is your enhancement proposal related to a problem ? Please describe . I would like to be able to write a single devicetree bindings file that allows multiple compatibles to match it . This will allow me to write a single binding for a single compatible family of devices made by multiple vendors . My particular use case is WS2812 and SK6812 LED controllers , so I want to be able to write : : compatible : [' worldsemi , ws2812-spi ' , ' szledcolor , sk6812-spi ' ] . Describe the solution you'd like The above should match devicetree nodes with either of the compatibles in the list . Describe alternatives you've considered I could write multiple bindings files that each have their own compatible and include a common one . This feels inelegant and repetitive , however . Additional context N/A	2	1
0 0 0.8 1.0 1.1 1.0 1.45 2.0 0.3333333333333333 0.0 1.5 2 1.5 6 14 36 138	Kconfig : Add missing symbols NRFX_UARTE[2 , 3 ] and SPI_3_NRF_SPIS . drivers : spi : nrfx : Add support for SPIS3 This patch adds missing SPI_3_NRF_SPIS Kconfig option ( referenced by : ext/hal/nordic/nrfx_config_nrf9160 . h . , although not defined anywhere ) and adds support for SPIS3 instance in the nrfx_spis driver shim . Fixes #13750 . ext : nordic : Add NRF_SPIS[0-3 ] definitions to nrfx_config_nrf9160 . h These entries should have been added in the initial version of this file ( in commit 99bab3f ) but their absence was overlooked . ext : nordic : Add missing NRFX_UARTE[2 , 3 ] Kconfig options Definitions of these two options were missing , altought the symbols that would be created for them were already referenced from : ext/hal/nordic/nrfx_config_nrf9160 . h . . Fixes #13747 .	1	0
1 1 0.4 0.0 1.1 1.0 1.1 1.0 0.6666666666666666 1.0 1.0830972615675165 1059 1.0 5 21 34 113	No output with samples/sensor/max44009 on quark se sensor subsystem . Reported by Anas Nashif : Something is wrong with I2C on the subsystem . With the sample samples/sensor/max44009 , nothing comes out of the system , not even the first printk . It works when you disable I2C . ( Imported from Jira ZEP-1760 )  	0	0
1 1 1.2 1.0 1.1 1.0 1.25 1.0 1.3333333333333333 1.0 1.4583333333333333 48 1.0 3 9 18 55	tests/portability/cmsis_rtos_v1 failed on reel_board . . To Reproduce Steps to reproduce the behavior : 1 . west build -b reel_board -p auto tests/portability/cmsis_rtos_v1 2 . west flash 3 . see error Logs and console output Booting Zephyr OS build zephyr-v 2.3.0 -720-gab3e778f47d8 Running test suite test_cmsis_apis START - test_kernel_start PASS - test_kernel_start START - test_kernel_systick Assertion failed at WES T_T OPDIR/zephyr/tests/portability/cmsis_rtos_v1/src/kernel_apis . c : 68 : test_kernel_systick : ( diff <= max && diff > = min is false ) start 879 stop 33626 ( diff 999359 ) wait 1000000 FAIL - test_kernel_systick START - tes t_t hread_apis PASS - tes t_t hread_apis START - tes t_t hread_prio PASS - tes t_t hread_prio ... START - test_signal_events_no_wait PASS - test_signal_events_no_wait START - test_signal_events_timeout PASS - test_signal_events_timeout START - test_signal_events_signalled PASS - test_signal_events_signalled START - test_signal_events_isr PASS - test_signal_events_isr Test suite test_cmsis_apis failed . PROJECT EXECUTION FAILED Environment ( please complete the following information ): - OS : fedora28 - Toolchain : zephyr-sdk- 0.11.4 - Commit ID : ab3e778f4	1	0
1 1 1.2 1.0 1.1 1.0 1.35 1.0 1.0 1.0 1.2 10 1.0 4 10 52 159	 Update Zephyr security overview . < URL > would deserve an update . ' Current Security definition ' is out-of-date : - : Memory protection and thread separation was added in version 1.10.0 for X86 . ARM and ARC support is targeted for version 1.11.0 . . - : Memory protection and task separation techniques are in scope starting with version 1.10.0 . . - and so on ...	1	2
0 0 1.0 1.0 1.0 1.0 1.5 2.0 0.6666666666666666 0.0 1.0788476118271417 1319 1.0 0 1 14 70	Legal for 1.8 . Reported by Mark Linkmeyer : Legal epic for grouping together all legal tasks that must be completed for the release . [ x ] GH-3615 : Ensure the Licensing page is up-to-date for the release ( Imported from Jira ZEP-2175 )  	0	2
2 2 1.6 2.0 1.2 1.0 1.4 1.5 1.6666666666666667 2.0 1.5 6 1.5 1 2 16 92	Wrong assert condition @ @zephyr /kernel/sched . c : 345 . kernel . pipe . bench : assertion fails on qemu_x86 , due to wrong assert condition at zephyr/kernel/sched . c : 345 __ASSERT_NO_MSG(thread = = _current || _is_thread_dummy(thread )); Issue found using the PR #11650 Steps to reproduce the behavior : cd tests/kernel/pipe/pipe_api/ mkdir build cd build cmake -D BOARD = qemu_x86 -GNinja .. / ninja run Console log : starting test - test_bench ASSERTION FAIL [ thread = = _kernel . current || _is_thread_dummy(thread )] @zephyr /kernel/sched . c : 345 : Additional Information : Correct assert condition should be : __ASSERT_NO_MSG(thread ! = _current || ! _is_thread_dummy(thread ));  	0	0
1 1 0.8 1.0 1.1 1.0 1.35 1.5 1.0 1.0 0.9880239520958084 501 1.0 11 16 73 108	6LoWPAN - Multicast Address Mapping . Reported by Gajinder Vij : An IPv6 packet with a multicast destination address ( DST ) , consisting of sixteen octets DST[1 ] through DST[16 ] , is transmitted to the following 802.15.4 16-bit multicast address ( See RFC 4944 , Chapter 9 ) . ( Imported from Jira ZEP-880 )  	0	1
1 1 1.0 1.0 1.2 1.0 1.1 1.0 1.0 1.0 1.1666666666666667 30 1.0 0 2 12 110	Bluetooth Mesh branch incorrect return value . < URL > Should be continue for this , inst of return interger .	1	0
0 0 1.4 2.0 1.4 1.5 1.55 2.0 1.0 1.0 1.6666666666666667 6 2.0 10 10 18 78	Bluetooth : GATT Discovery : Descriptor Discovery by range Seg Fault . Describe the bug Descriptor discovery by range ends in seg fault . To Reproduce Steps to reproduce the behavior : 1 . Modify the discovery code in central_hr sample to : discover_params . uuid = NULL ; discover_params . func = discover_func ; discover_params . start_handle = 0x0001 ; discover_params . end_handle = 0xffff ; discover_params . type = BT_GATT_DISCOVER_DESCRIPTOR ; . Expected behavior Discovery should work . Impact Showstopper . Environment ( please complete the following information ): - OS : ( e.g. Linux , MacOS , Windows ): Kubuntu 18.04 - Toolchain : Zephyr SDK 0.10.0 - Commit SHA or Version used : 2692f2e616c7f0bfcd19fda8010ab0c124f38cf5	1	0
2 2 1.6 2.0 1.4 1.0 1.35 1.0 1.6666666666666667 2.0 1.5263157894736843 19 2.0 25 30 56 234	[ Coverity CID : 195838]Memory - illegal accesses in /samples/subsys/usb/hid-cdc/src/main . c . Static code scan issues seen in File : /samples/subsys/usb/hid-cdc/src/main . c Category : Memory - illegal accesses Function : cdc_mouse_int_handler Component : Samples CID : 195838 Please fix or provide comments to square it off in coverity in the link : < URL >	2	0
2 2 1.8 2.0 1.0 1.0 1.05 1.0 2.0 2.0 1.0088691796008868 451 1.0 25 29 32 75	The Trickle Algorithm . Reported by Gajinder Vij : The Zephyr IP stack shall support The Trickle Algorithm as specified in RFC 6206 ( Imported from Jira ZEP-811 )  	0	1
0 0 1.0 1.0 1.3 1.5 1.35 1.5 0.6666666666666666 0.0 1.0293724966622162 749 1.0 0 8 19 120	ARC : software crashed at k_mbox_get () with async sending a message . Reported by Sharron LIU : test_mbox_api ( < URL > under review ) still failed @ARC , which should be a different issue from GH-2776 . Software crash at k_mbox_get () : Running test suite test_mbox_api tc_start () - test_mbox_kinit = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_mbox_kinit . tc_start () - test_mbox_put_get_null = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_mbox_put_get_null . tc_start () - test_mbox_put_get_buffer = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PASS - test_mbox_put_get_buffer . tc_start () - test_mbox_async_put_get_buffer Exception vector : 0x00000003 , cause code : 0x00000004 , parameter 0x00000000 Address 0x40002788 Fatal fault in thread ! Aborting . . how-to-reproduce make -C tests/kernel/mbox/mbox_api BOARD = arduino_101_sss flash In my investigation , the crash happen when the mailbox APIs are called in below sequence : k_mbox_async_put k_mbox_get Yet , if the above two APIs are called in reverse order , the crash not happen . ( you may try this by adding ' k_sleep ()' right after k_thread_spawn in the test codes ) . And , I locate the code crashed at ' _abor t_t hread_timeout ' from ' kernel/unified/mailbox . c : k_mbox_get ()' . Suspected related to dlist operation in a dummy thread @ARC ( for async sending message ) . ( Imported from Jira ZEP-1312 )	1	0
1 1 1.4 1.0 1.6 2.0 1.6 2.0 1.3333333333333333 1.0 1.6 5 2.0 4 17 19 62	cmake does not show verbose output of build tools . In the old build system , if V= 1 was passed to Make , then this would implictly pass -- verbose flags to tools like gen_idt , gen_gdt , gen_kobject_list , etc ... This isn't happening any more , if I pass VERBOSE = 1 to the build I see no debug output from post build tools .	1	0
0 0 0.6 0.0 1.0 1.0 1.0 1.0 0.6666666666666666 0.0 1.2833333333333334 60 1.0 2 7 17 72	frdm_kw41z : Current master fails compilation in drivers/pwm/pwm_mcux_tpm . c . Build error messages : : 00:13:06 . 112 2883 | #define DT_FOREACH_OKAY_INST_nxp_kinetis_tpm(fn ) fn(0 ) fn(1 ) 00:13:06 . 112 | ^ ~ 00:13:06 . 112 /home/buildslave/workspace/zephyr-upstream/zephyr/include/sys/util_internal . h : 106:36 : note : in expansion of macro ' DT_FOREACH_OKAY_INST_nxp_kinetis_tpm ' 00:13:06 . 112 106 | #define UTIL_PRIMITIVE_CAT(a , ... ) a# #__VA_ARGS__ 00:13:06 . 112 | ^ 00:13:06 . 112 /home/buildslave/workspace/zephyr-upstream/zephyr/drivers/pwm/pwm_mcux_tpm . c : 203:1 : note : in expansion of macro ' DT_INST_FOREACH_STATUS_OKAY ' 00:13:06 . 112 203 | DT_INST_FOREACH_STATUS_OKAY(TPM_DEVICE ) 00:13:06 . 112 | ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~ 00:13:06 . 112 /home/buildslave/workspace/zephyr-upstream/zephyr/include/device . h : 186:2 : error : type defaults to ' int ' in declaration of ' DEVICE_DT_DEFINE ' [-Werror = implicit-int ] . Full log : < URL > Specific commit built : d5072d13786edc4bc34a169e743d5aeeee34a819  	0	0
1 1 1.2 1.0 1.2 1.0 1.15 1.0 1.6666666666666667 2.0 1.0232558139534884 129 1.0 6 8 23 216	tests : exclude sam0 boards from tests that will not build on them . the async uart and spi loopback tests will not build on SAM0 based boards as they require dma to be configured and none of the boards do that . So we exclude these boards from being built for these tests .  	0	0
0 0 1.0 1.0 1.4 1.5 1.3 1.0 1.0 1.0 1.0641646489104115 826 1.0 7 22 39 157	implement _tsc_read equivalent for all architectures . Reported by Anas Nashif : For the boo t_t ime measurement benchmark , we need this function to be implemented on all arches , right now it is implemented for x86 only ( Imported from Jira ZEP-1414 )	2	1
2 2 1.6 2.0 1.5 1.5 1.45 1.5 2.0 2.0 1.0835734870317002 1041 1.0 4 15 44 107	frdm_k64f : Ethernet networking starts to respond ~ 10s after boot . Reported by Paul Sokolovsky : As reported ' by the way ' in few other tickets , frdm_k64f Ethernet networking doesn't respond immediately after boot , it takes some time for it to start responding to pings , etc . I just timed it after one particular reboot to be ~ 10s . I don't remember such long delay before < URL > . ( But can't pledge there wasn't a shorter , 1-2s delay before it . ) ( Imported from Jira ZEP-1734 )	2	0
0 0 1.2 1.0 1.1 1.0 1.2 1.0 1.0 1.0 1.0526315789473684 19 1.0 1 4 7 75	logging : init strdup mem_slab with aligned buffer size . We are using a non-32-bit aligned value as the block size when initializing the strdup mem_slab for Logger . When the non-aligned pointer is being freed , it's converted to a u32_t and this generates the following : * USAGE FAULT *** Unaligned memory access Let's use the aligned buffer size as the block size instead . Signed-off-by : Michael Scott < URL >  	0	0
2 2 1.6 2.0 1.6 2.0 1.4 1.5 1.3333333333333333 1.0 1.5 2 1.5 1 5 13 131	CPU Lockups when using own Log Backend . Describe the bug [ Updated ] We have an application based on a nrf52840 . We see occational : CPU Lockups . . Environment : - OS : Ubuntu 20.04 , - Toolchain : zephyr-sdk- 0.12.2 - Zephyr Project ( Tag : 2.5.0 . )	2	0
0 0 1.0 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 1.3125 16 1.0 3 17 28 78	coverage : Bugfix : Missing coverage in nrf52_bsim . In #9717 , 777407b9ea30869008b3a04b695892755bd43355 coverage support was broken for all NATIVE_APPLICATION except native_posix This includes the nrf52_bsim board Fix it . Fixes : #13009 Signed-off-by : Alberto Escolar Piedras < URL >  	0	0
2 2 1.8 2.0 1.6 2.0 1.3 1.5 2.0 2.0 1.1022727272727273 88 1.0 2 3 8 37	Online documentation for kconfig repeats itself . Reported by Daniel Kalowsky : The generated online documentation for KConfig variables is currently huge . Part of the reason is that it repeats itself several times over for a lot of variables . For example , search for CONFIG_ROM_SIZE , and you'll find 7 entries for it . CONFIG_I2C_DW as well . ( Imported from Jira ZEP-148 )	2	2
0 0 0.8 1.0 0.9 1.0 1.1 1.0 0.6666666666666666 1.0 1.4333333333333333 150 1.0 33 41 53 108	[ Coverity CID : 203495]Control flow issues in /subsys/bluetooth/host/gatt . c . Static code scan issues seen in File : /subsys/bluetooth/host/gatt . c Category : Control flow issues Function : gatt_find_info_rsp Component : Bluetooth CID : 203495 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
1 1 0.8 1.0 1.0 1.0 1.25 1.0 0.6666666666666666 1.0 0.0 0 0.0 1 11 16 88	drivers : eth : gmac : Fix incorrect cache coherency handling code . 8282 added cache support for Atmel SAM GMAC Ethernet driver . Unfortunately the implemented cache coherency management method ensuring coherency of descriptor lists is incorrect . Atmel SAM Ethernet module is using a scatter-gather technique to exchange data with the Ethernet driver . To communicate the location of the data buffers the driver sets-up a so called descriptor list . This is effectively a place in RAM containing a sequence of 32-bit words representing buffer location and its status . If cache is enabled every time the device driver updates data in the descriptor list it should theoretically also call cache clean operation . This would ensure that the data is written to RAM where it can be read by the hardware module . Unfortunately , at the same time the device driver is modifying one location in the descriptor list the hardware module can be modifying one next to it . Since cache clean operation works on a full cache line - 32 bytes in case of Atmel device - it would overwrite any such modifications done by the hardware module . As such , ensuring cache coherency using standard techniques ( cache clean / cache invalidate ) is not possible here . In case of GMAC driver the cache coherency for the descriptor lists should be implemented using the so called non-cacheable RAM region . This is described in detail in ' Cache Coherence Management Limits ' chapter of < URL > Application Note .	1	0
0 0 0.6 0.0 0.7 1.0 1.0 1.0 0.6666666666666666 0.0 0.9594594594594594 296 1.0 0 6 9 47	Add Deep Sleep support in PMA . Reported by Ramesh Thomas : Sample PM application should successfully suspend and resume devices it uses and demonstrate entering and exiting Deep Sleep state . ( Imported from Jira ZEP-511 )  	0	1
2 2 1.6 2.0 1.2 1.0 1.25 1.0 1.6666666666666667 2.0 1.0048543689320388 412 1.0 2 5 8 62	Nano FIFO reserving first four bytes of user data isn't well-documented . Reported by Geoff Gustafson : In the API Documentation for [ Nanokernel FIFOs| < URL > the put functions like nano_fifo_put make no mention of the fact that the first 4 bytes of the data you supply will be used by the API itself , to store a linked list pointer . The get functions do mention this is in and off-handed way , and the [ Overview Documentation| < URL > does explain it reasonably well . But as I just highlighted in GH-2261 , people often don't even find that page . But it's the put functions where you really need to know this - because the data you're supplying is about to get trashed . :) I ran into this when I first tried to use them , and a coworker just had the same problem . ( Imported from Jira ZEP-747 )  	0	2
2 2 1.8 2.0 1.5 2.0 1.45 2.0 2.0 2.0 1.2524752475247525 202 1.0 2 5 17 129	PCIe : add API to get BAR region size . Is your enhancement proposal related to a problem ? Please describe . We have pcie_get_mbar () to get a BAR MMIO base address , but no API to also obtain the region size . This means that memory-mapping drivers needs to use hard-coded region sizes instead of just querying it . Describe the solution you'd like An API to obtain a BAR region size given a BDF and a BAR index . Describe alternatives you've considered Change pcie_get_mbar () to return both address and size instead of just address . Additional context This is more of an annoyance since driver code already ' knows ' the bounds since it's written against a datasheet and you can just #define it .	2	1
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.162828947368421 1824 1.0 66 72 77 168	[ Coverity CID : 210051 ] Dereference after null check in subsys/net/ip/tcp2 . c . Static code scan issues found in file : < URL > Category : Null pointer dereferences Function : : tcp_in . Component : Networking CID : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.4 1.0 1.3 1.0 1.1 1.0 1.3333333333333333 1.0 1.079646017699115 1130 1.0 5 12 27 136	samples/net : the coaps_server sample app runs failed on Arduino 101 . Reported by jiequan wu : In order to test coaps_server on arduino 101 , I created a prj_arduino_101 . conf file : { code } CONFIG_NETWORKING = y CONFIG_NET_IPV6 = y CONFIG_NET_IPV4 = y CONFIG_NET_UDP = y CONFIG_NE T_T CP = y CONFIG_TEST_RANDOM_GENERATOR = y CONFIG_NET_LOG = y CONFIG_NET_SLIP_TAP = y CONFIG_SYS_LOG_SHOW_COLOR = y CONFIG_INIT_STACKS = y CONFIG_PRINTK = y CONFIG_NET_STATISTICS = y CONFIG_NET_NBUF_RX_COUNT = 14 CONFIG_NET_NBUF_TX_COUNT = 14 CONFIG_NET_NBUF_DATA_COUNT = 30 CONFIG_NET_IF_UNICAST_IPV6_ADDR_COUNT =3 CONFIG_NET_IF_MCAST_IPV6_ADDR_COUNT = 2 CONFIG_NET_MAX_CONTEXTS = 10 CONFIG_ZOAP = y CONFIG_MBEDTLS = y CONFIG_MBEDTLS_BUILTIN = y CONFIG_MBEDTLS_CFG_FILE='config-coap . h ' CONFIG_NET_SAMPLES_IP_ADDRESSES = y CONFIG_NET_SAMPLES_MY_IPV6_ADDR='2001:db8::1 ' CONFIG_NET_SAMPLES_PEER_IPV6_ADDR='2001:db8::2 ' CONFIG_NET_SAMPLES_MY_IPV4_ADDR='192 . 0.2.1 ' CONFIG_NET_SAMPLES_PEER_IPV4_ADDR='192 . 0.2.2 ' ENC28J60 Ethernet Device CONFIG_ETH_ENC28J60 = y CONFIG_ETH_ENC28J6 0_0 = y CONFIG_ETH_ENC28J60_0_SPI_PORT_NAME='SPI_1 ' CONFIG_ETH_ENC28J6 0_0 _MAC3 = 0x2D CONFIG_ETH_ENC28J6 0_0 _MAC4 = 0x30 CONFIG_ETH_ENC28J6 0_0 _MAC5 = 0x36 Arduino 101 CONFIG_SPI = y { code } After flash to Arduino 101 , serial port output : { code } ?3?: : k33 : ?33 . : W?3 : : h33?. : j)33 : ?3 : : ?3 . : ?3?: : ?3?: ?3?. : S33 : S { code } ( Imported from Jira ZEP-1877 )	1	0
2 2 1.6 2.0 1.5 2.0 1.4 2.0 1.6666666666666667 2.0 1.2289156626506024 83 1.0 3 8 17 205	search for board specific shield overlays doesn't always work . If the shield name doesn't match the dir name we don't look in correct place . For example shield : x_nucleo_iks01a3_shub . .	2	0
0 0 1.2 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.0940099833610648 1202 1.0 1 3 10 88	Port Zephyr to Silabs EFM32WG-STK3800 . Reported by Christian Taedcke : Add a port for Silicon Labs EFM32 Wonder Gecko SoC and the starter kit EFM32WG-STK3800 This includes the following * gpio * uart Some initial work is done here : < URL > This is work in progress ( Imported from Jira ZEP-1991 )	2	1
1 1 1.4 1.0 1.7 2.0 1.7 2.0 1.3333333333333333 1.0 0.0 0 0.0 4 4 21 168	bt_init returning success when Bluetooth initialization does not get finalized . . Describe the bug : bt_enable . is returning success when not initialized . Caused by < URL > and < URL > if : CONFIG_BT_SETTINGS = y . is and : bt_dev . id_count . is 0 . To Reproduce Steps to reproduce the behavior : 1 . set : CONFIG_BT_SETTINGS = y . 2 . call : bt_enable . whoult calling : settings_load . Expected behavior Either returning a non-zero error code if this is an error condition , or finalizing the Bluetooth initializing if it is not . Impact It causes functions like : bt_le_ext_adv_start . to return : EAGAIN . because the : BT_DEV_READY . < URL > even though it seems that Bluetooth got enabled successfully . Environment ( please complete the following information ): - OS : Windows - Toolchain : NRF Sdk - v 1.5.0	2	0
2 2 1.6 2.0 1.5 2.0 1.35 1.5 1.6666666666666667 2.0 1.0182072829131652 714 1.0 7 22 47 114	mbox : ' kernel primer v2 ' misalign to latest kpool API defined in ' kernel . h ' . Reported by Sharron LIU : In mbox ' kernel primer v2 ' , usages demonstrate ' Sending Data Using a Message Block ' via kpool API . 1 . The sample codes given in document is not aligned with the latest kpool API defined in ' kernel . h ' . 2 . The sample code does not align with ' k_mem_block ' definition , either . Please review and align them . Thanks . ( screen snapshot attached ) < URL > kernel . h : extern int k_mem_pool_alloc(struct k_mem_pool * pool , struct k_mem_block * block , size_t size , int32_t timeout ); struct k_mem_block { struct k_mem_pool * pool_id ; void * addr_in_pool ; void * data ; size_t req_size ; }; . ( Imported from Jira ZEP-1262 )	2	2
1 1 1.2 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.0826833073322932 1282 1.0 6 11 20 72	BT controller occasionally generates imprecise data abort . Reported by Michael Scott : Using Nitrogen and BT gateway hardware running 4.11.0 kernel , I am running a BT 6lowpan Zephyr application which sends MQTT traffic every 5 seconds . Eventually see : * BUS FAULT *** Executing thread ID ( thread ): 0x2000eff8 Faulting instruction address : 0x147e0 Imprecise data bus error Fatal fault in ISR ! Spinning ... When I check addr2line I see that this is : zephyr/subsys/bluetooth/controller/util/memq . c : 30 ' * tail = link;' If I hack together MPU support for nRF52 with the attached patch , then I actually see an invalid memory read a bit earlier in ' memq_enqueue ' : * MPU FAULT *** Executing thread ID ( thread ): 0x2000f058 Faulting instruction address : 0x147da Data Access Violation Address : 0xe12fc55b Fatal fault in ISR ! Spinning ... Using addr2line shows : zephyr/subsys/bluetooth/controller/util/memq . c : 24 : ' (( void ) tail ) = link;' When I trace where memq_enqueue is being called from I show : zephyr/subsys/bluetooth/controller/ll_sw/ctrl . c : ' packet_rx_enqueue ' and the parameters being passed in 2 successive calls : packet_rx_enqueue : mem : 0x20003b30 , link : 0x23b19c83 , & link_rx_tail : 0x200036d8 , link_rx_tail : 0x20003b60 packet_rx_enqueue : mem : 0x20003920 , link : 0x20003b80 , & link_rx_tail : 0x200036d8 , link_rx_tail : 0x23b19c83 In the first call we have an invalid link address being added onto the link_rx_tail ( doesn't cause an abort ) . And then the next call we add a valid link address onto the end of the invalid link_rx_tail ( causes the abort ) . ( Imported from Jira ZEP-2122 )	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.2686567164179106 2144 1.0 12 12 21 222	[ Coverity CID : 220443 ] Out-of-bounds access in tests/subsys/modbus/src/test_modbus_raw . c . Static code scan issues found in file : < URL > Category : Memory - corruptions Function : : client_raw_cb . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
0 0 0.8 1.0 1.0 1.0 1.1 1.0 0.6666666666666666 1.0 1.0698365527488856 1346 1.0 2 4 27 84	Zoap message to use more than one fragment . Reported by Patrik Flykt : Zoap API function calls only use the first fragement of a net_pkt . If the network buffer contains data in subsequent fragments , these are not accessed either on read nor write . One possible solution is to create a function such as zoap_packet_append () that takes as argument an input buffer , and , as its name implies , appends the data into one or more net_buf fragments invisible to the user . On read , a function should be created that takes an net_pkt as input and reads the requested amount of data even if the data is split over multiple net_pkt fragments . ( Imported from Jira ZEP-2210 )	1	1
2 2 2.0 2.0 2.0 2.0 1.9 2.0 2.0 2.0 1.19375 1920 1.0 5 7 28 132	[ Coverity CID : 214281 ] Unchecked return value in subsys/mgmt/osdp/src/osdp . c . Static code scan issues found in file : < URL > Category : Error handling issues Function : : osdp_init . Component : Other CID : < URL > Details : : 188 uart_irq_rx_disable(p -> dev ); 189 uart_irq_tx_disable(p -> dev ); 190 uart_irq_callback_user_data_set(p -> dev , osdp_uart_isr , p ); 191 192 /* Drain UART fifo */ 193 while ( uart_irq_rx_ready(p -> dev )) { >>> CID 214281 : Error handling issues ( CHECKED_RETURN ) >>> Calling ' uart_fifo_read ' without checking return value ( as is done elsewhere 14 out of 17 times ) . 194 uart_fifo_read(p -> dev , & c , 1 ); 195 } 196 197 /* Both TX and RX are interrupt driven */ 198 uart_irq_rx_enable(p -> dev ); 199 . Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
2 2 1.2 1.0 1.4 1.0 1.55 2.0 1.3333333333333333 1.0 1.0765822784810126 1580 1.0 6 43 46 104	ESP32 : Some GPIO tests are getting failed ( tests/drivers/gpio/gpio_basic_api ) . Reported by Nishikant Nayak : Observed failure in some of the GPIO test cases , Like GPIO callback edge/level high , add/remove callback , enable/disable callback . How to reproduce : Added the corresponding macro and GPIOs for ESP32 in $ZEPHYRBASE/tests/drivers/gpio/gpio_basic_api/src/test_gpi o.h. { code : title = $ZEPHYRBASE/tests/drivers/gpio/gpio_basic_api/src/test_gpio . h|borderStyle = solid } elif defined(CONFIG_BOARD_ESP32 ) define DEV_NAME CONFIG_GPIO_ESP32_0_NAME define PIN_OUT 4 / DIO4 / define PIN_IN 2 / DIO2 / endif { code } Then cd $ZEPHYRBASE/tests/drivers/gpio/gpio_basic_api make pristine make BOARD = esp32 flash Need to connect one jumper between I/O 2 and I/O 4 Open COM terminal to check output . Expected result : All the GPIO Test cases should pass . ( Imported from Jira ZEP-2557 )	1	0
0 0 1.2 1.0 1.1 1.0 1.15 1.0 1.0 1.0 1.12 25 1.0 20 37 51 127	build breakage due to enabling USER_SPACE by default . The following change breaks building several configs : : . /scripts/sanitycheck -p minnowboard -s tests/benchmarks/footprint/benchmark . footprint . regular . efe0c4b : commit efe0c4b7647c5e5aa53af47679bb8625fb387b19 ( refs/bisect/bad ) Author : Andrew Boie < andrew.p.boie@intel.com > Date : Mon May 21 12:44:38 2018 -0700 tests : enable user mode by default .  	0	0
0 0 1.2 1.0 1.3 1.0 1.2 1.0 1.3333333333333333 2.0 0.0 0 0.0 3 6 37 237	mempool alignment might cause a memory block allocated twice . the alignment in mempool is #define _ALIGN4(n ) (((( n)+3)/4 ) 4 ) , it means the alignment might expand the size of the block . If max_sz is not the power of four such as 36 , the size of second level is (((( 36/4)+3)/4 ) 4 ) = 12 . Function block_break breaks the big block into 4 small blocks and append the last 3 blocks into the free_list . The last block might overflow the big block because function block_fits can not avoid this overflow . The last small block and the next big block would contain a same memory . max_sz = 36 , n_max = 3 alloc a small block ( size 12 ) alloc a big block ( size 36 ) alloc 3 small block(size 12 )	2	0
1 1 1.4 2.0 1.5 2.0 1.45 2.0 1.6666666666666667 2.0 1.0016181229773462 618 1.0 5 8 16 70	Commit e4b89571 broke sanity check . Reported by Genaro Saucedo Tejada : Before commit { code } e4b89571aac04cd2c3ec1619345d792ae260f233 { code } test { code } samples/power/power_hooks { code } Was properly building , after such commit the following error shows with the following error : { code } CC drivers/spi/spi_intel . o /home/gsaucedo/gi t-t est/LFzephyr/drivers/spi/spi_intel . c : In function ' spi_intel_resume_from_suspend ' : /home/gsaucedo/gi t-t est/LFzephyr/drivers/spi/spi_intel . c : 431:20 : error : ' spi ' undeclared ( first use in this function ) set_bit_sscr0_sse(spi -> regs ); ^ /home/gsaucedo/gi t-t est/LFzephyr/drivers/spi/spi_intel . c : 431:20 : note : each undeclared identifier is reported only once for each function it appears in /home/gsaucedo/gi t-t est/LFzephyr/scripts/Makefile . build : 182 : recipe for target ' drivers/spi/spi_intel . o ' failed make[4 ]: *** [ drivers/spi/spi_intel . o ] Error 1 { code } To reproduce run the following comand : { code } make BOARD = galileo -C samples/power/power_hooks { code } ( Imported from Jira ZEP-1095 )	1	0
0 0 0.6 1.0 1.2 1.0 1.25 1.0 0.6666666666666666 1.0 0.6923076923076923 13 0.0 20 29 47 283	Doc build does not include the zephyr modules Kconfig files . When building the doc , the : Kconfig . * . files in the modules ( : Kconfig . tinycbor . at this point ) are not being included due to the documentation build system currently creating an empty : Kconfig . modules . file : : file(TOUCH ${CMAKE_CURRENT_BINARY_DIR}/Kconfig . modules ) . So we need to actually process the modules to populate the : Kconfig . modules . file .  	0	0
2 2 1.2 1.0 1.0 1.0 0.95 1.0 1.3333333333333333 1.0 1.1612903225806452 31 1.0 31 31 31 31	Enable User/App context during pairing . Reported by Javier B Perez : Enable User/App context during pairing ( Imported from Jira ZEP-39 )	1	1
1 1 1.0 1.0 1.1 1.0 1.35 1.0 1.0 1.0 1.3270336894001644 2434 1.0 35 40 43 88	[ Coverity CID : 240659 ] Out-of-bounds read in /zephyr/include/generated/syscalls/kernel . h ( Generated Code ) . Static code scan issues found in file : < URL > Category : Memory - illegal accesses Function : : k_event_wait . Component : Kernel CID : < URL > Details : Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	1	0
0 0 1.0 1.0 1.2 1.0 0.85 1.0 0.6666666666666666 0.0 1.0846153846153845 1040 1.0 3 14 43 106	Work on ZEP-686 led to regressions in docs on integration with 3rd-party code . Reported by Paul Sokolovsky : < URL > removed very important section on how to integrate non-trivial 3rd-party project with their own complex build systems into Zephyr applications . This section can be see ( in 1.6 docs ) as < URL > . That is very important information for leveraging Zephyr for non-toy projects , and information described there already used by at least JerryScript and MicroPython ports to Zephyr . It would be very important to restore it and uphold it , to avoid all the hacky and painful ways this integration was achieved before the solution described in the docs came up . ( Imported from Jira ZEP-1733 )  	0	0
1 1 1.4 1.0 1.2 1.0 1.2 1.0 1.3333333333333333 1.0 1.3414634146341464 164 1.0 27 39 61 165	[ Coverity CID : 190972]Control flow issues in /subsys/power/power . c . Static code scan issues seen in File : /subsys/power/power . c Category : Control flow issues Function : sys_suspend Component : Other CID : 190972 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.4 1.0 1.5 1.5 1.0 1.0 1.3333333333333333 1.0 1.1388888888888888 36 1.0 36 36 36 36	create QEMU target which builds with IAMCU . Reported by Hirally Santiago : We could catch a lot of IAMCU calling convention issues if we had an emulated target that built with this compiler . Add a new board type qemu_x86_iamcu which identical to the standard x86 QEMU configuration , but builds with IAMCU abi . Add this to sanitycheck such that we run test cases on this target when ' sanitycheck -- all ' is invoked . ( Imported from Jira ZEP-50 )	1	1
1 1 1.2 1.0 1.3 1.0 1.45 2.0 1.3333333333333333 1.0 1.0157819225251077 697 1.0 6 20 43 99	Optimize interrupt return code on ARC . . Reported by Benjamin Walsh : There are too many pushes and pops on the stack when deciding which thread to run when exiting an interrupt . Also , see if _is_nex t_t hread_current and _get_next_ready_thread could not be folded together . Or maybe write _is_nex t_t hread_current in assembly . ( Imported from Jira ZEP-1230 )	2	1
2 2 1.6 2.0 1.4 2.0 1.55 2.0 2.0 2.0 1.0 2 1.0 4 6 17 81	Create socket options for certificates and ciphers . Create additional socket options so that the application can set CA certs , its own certs and ciphers . This gives the application better control on secure connectivity and makes it possible to configure identical devices after Zephyr OS installation .	1	1
1 1 1.2 1.0 1.5 1.5 1.5 1.5 1.0 1.0 1.1428571428571428 56 1.0 9 12 24 200	ARM Cortex-M : Z_ARCH_EXCEPT not working for Baseline SOCs . Describe the bug Z_ARCH_EXCEPT () is called , to signal errors directly from Software . In ARM Cortex-M , this is implemented with a synchronous SVC instruction , with code 2 . In Mainline SOCs this works well , because the kernel reserves the highest interrupt priority for the SVC Handler . In Baseline cores , however , we do not reserve an interrupt priority for the SVC . So if Z_ARCH_EXCEPT () is invoked from an interrupt with the highest priority , the SVC Call won't be able to execute and will trigger a synchronous ( Escalated ) hard fault . To Reproduce We have a bug report already for this : #18590 Impact We are not able to infer stack-fail checks in Baseline ARM CPUs with the STACK Sentinel feature . We do get a system exception , however , so the user is still getting some information that something went wrong .	2	1
2 2 0.8 1.0 1.1 1.0 1.2 1.0 1.3333333333333333 1.0 0.6666666666666666 3 0.0 4 17 28 87	Get configuration of a running kernel in console . In order to simplify debugging of certain cases it would be useful to be able to dump the configuration of a running Zephyr kernel from the console , just like /boot/config * in Linux It would help to create an identical environment to reproduce issues remotely from the machine where the image is built . Describe the solution you'd like A console command providing a list of config variables current kernel was built with	2	1
2 2 2.0 2.0 1.6 2.0 1.3 1.5 2.0 2.0 0.8461538461538461 13 1.0 3 10 20 77	sys_get_be64 () is missing from sys/byteorder . h . Describe the bug There exists : sys_get_le64 () . but nothing for big-endian version .	2	0
2 2 2.0 2.0 1.8 2.0 1.45 1.0 2.0 2.0 1.3909090909090909 110 1.0 2 9 20 78	[ Coverity CID : 189739]Parse warnings in /subsys/usb/class/netusb/function_eem . c . Static code scan issues seen in File : /subsys/usb/class/netusb/function_eem . c Category : Parse warnings Function : Component : Other CID : 189739 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.5 1.5 1.55 2.0 1.6666666666666667 2.0 0.0 0 0.0 5 18 30 104	NRF52 pca10040 boards open the ' Flash hardware support ' option , the BT Mesh example does not work properly . Describe the bug NRF52 pca10040 boards open the ' Flash hardware support ' option , the BT Mesh example does not work properly . The UART console does not see any output , return to normal after turning off this option and erase all flash .	2	0
2 2 1.2 2.0 0.9 0.5 0.6 0.0 0.6666666666666666 0.0 1.0894039735099337 906 1.0 1 13 26 68	HTTP Server sample with basic authentication . Reported by Anas Nashif : Provide a sample of an HTTP server that does basic authentication . ( Imported from Jira ZEP-1543 )	2	1
2 2 1.4 1.0 0.9 1.0 0.8 1.0 1.6666666666666667 2.0 1.1754385964912282 57 1.0 1 4 6 57	Add support for confirming incoming JustWorks pairing . Reported by Szymon Janc : provide API for confirming incoming pairing that would other result in JustWorks model ( Imported from Jira ZEP-80 )	1	1
1 1 0.8 1.0 1.2 1.0 1.1 1.0 0.6666666666666666 1.0 1.0290620871862615 757 1.0 5 11 24 128	Glossary of Terms needs updating . Reported by Allan Stephens : Should really have a single top-level Glossary of Terms document that users can easily locate and use . Move the ' Fundamental Terms and Concepts ' section of the Introducing Zephyr document to this glossary . Move the ' Glossary of Terms ' section of the Kernel Primer document to this glossary . Add in whatever significant terms are currently missing . ( Imported from Jira ZEP-1321 )	1	2
1 1 1.0 1.0 0.9 1.0 0.95 1.0 1.0 1.0 1.013953488372093 430 1.0 4 8 11 54	IPv4 . Reported by Gajinder Vij : The Zephyr IP stack shall support IPv4 as specified in RFC 791 ( Imported from Jira ZEP-789 )	2	1
1 1 1.6 2.0 1.6 2.0 1.45 2.0 1.6666666666666667 2.0 1.0940386230058774 1191 1.0 3 4 23 105	 make mrproper ' removes top-level dts/ dir , makes ARM builds fail afterwards . Reported by Paul Sokolovsky : Term shot : : $ make mrproper make[1 ]: Nothing to be done for `arch ' . make[1 ]: Nothing to be done for `boards ' . make[1 ]: Nothing to be done for `drivers ' . make[1 ]: Nothing to be done for `ext ' . make[1 ]: Nothing to be done for `kernel ' . make[1 ]: Nothing to be done for `lib ' . make[1 ]: Nothing to be done for `misc ' . make[1 ]: Nothing to be done for `subsys ' . make[1 ]: Nothing to be done for `tests ' . CLEAN dts/ $ git st HEAD detached at bdc3107d5 Changes not staged for commit : ( use ' git add/rm < file >...' to update what will be committed ) ( use ' git checkout -- < file >...' to discard changes in working directory ) deleted : dts/arm/Makefile deleted : dts/arm/armv6-m . dtsi deleted : dts/arm/armv7-m . dtsi [ ... ] $ cd samples/hello_world $ make BOARD = frdm_k64f [ ... ] /home/pfalcon/projects-3rdparty/Embedded/Zephyr/zephyr . js/deps/zephyr/scripts/Makefile . build : 46 : /mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr . js/deps/zephyr/dts/arm/Makefile : No such file or directory make[4 ]: *** No rule to make target `/mnt/hdd/projects-3rdparty/Embedded/Zephyr/zephyr . js/deps/zephyr/dts/arm/Makefile ' . Stop . . This issue affects both v 1.7 -branch and ( apparently ) master , please backport fix to v 1.7 -branch . ( Imported from Jira ZEP-1968 )  	0	0
0 0 0.6 1.0 0.8 1.0 0.75 1.0 0.6666666666666666 1.0 1.0681818181818181 836 1.0 1 7 18 128	NXP MCR20A Driver . Reported by Johann Fischer : Create a driver for NXP MCR20A 802.15.4 , 2.4 GHz transceiver . The same driver can also be used for the internal KW2xD transceiver ( e.g. MKW22D512 Kinetis Wireless Radio MCU ) . ( Imported from Jira ZEP-1429 )	2	1
1 1 0.8 1.0 0.9 1.0 1.0 1.0 1.0 1.0 1.5333333333333334 90 2.0 10 12 15 133	[ Coverity CID : 198006]Control flow issues in /subsys/bluetooth/host/settings . c . Static code scan issues seen in File : /subsys/bluetooth/host/settings . c Category : Control flow issues Function : set Component : Bluetooth CID : 198006 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.5 2.0 1.3 2.0 1.3333333333333333 2.0 1.078967350037965 1317 1.0 1 8 18 76	Move all board pinmux code from drivers/pinmux/stm32 to the corrosponding board/soc locations . Reported by Anas Nashif : Move all of those soc/board specific files to the corresponding board and SoC directories . : core : zephyr(master ): ls -1 drivers/pinmux/stm32/ pinmux_board_carbon . c pinmux_board_disco_l475_iot1 . c pinmux_board_nucleo_f103rb . c pinmux_board_nucleo_f334r8 . c pinmux_board_nucleo_f401re . c pinmux_board_nucleo_f411re . c pinmux_board_nucleo_f413zh . c pinmux_board_nucleo_l432kc . c pinmux_board_nucleo_l476rg . c pinmux_board_olimexino_stm32 . c pinmux_board_stm3210c_eval . c pinmux_board_stm32373c_eval . c pinmux_board_stm32f469i_disco . c pinmux_board_stm32f4_disco . c pinmux_board_stm32l496g_disco . c pinmux_board_stm32_mini_a15 . c pinmux_stm32 . c pinmux_stm32f1 . h pinmux_stm32f3 . h pinmux_stm32f4 . h pinmux_stm32 . h pinmux_stm32l 4x.h . ( Imported from Jira ZEP-2171 )	1	1
2 2 1.4 2.0 1.1 1.0 0.95 1.0 1.3333333333333333 2.0 0.984822934232715 593 1.0 1 7 15 168	pwm_dw driver does not compile . Reported by Marcus Shawcroft : pwm_dw driver uses the symbol PWM_DW_BASE_ADDR but there is no definition of that symbol in the zephyr source tree . ( Imported from Jira ZEP-1040 )	2	0
1 1 1.2 1.0 1.3 1.0 1.3 1.0 1.0 1.0 1.0789473684210527 76 1.0 1 3 6 29	CONFIG_PINMUX = y takes no effect in ' . config ' at every connected to host . Reported by changru fan : Configuration x86 arduino_101 micro Bug detailed description The uart1_txd(IO1)/uart1_rxd(IO0 ) is mapped by pinmux . If not set CONFIG_PINMUX = y , the uart1 is disabled . Steps to Reproduce Shutdown the arduino_101 board and pull out all USB port from host , then enable it again . setup zephyr environment $ cd zephyr $ source zephyr-env.sh compile and flash the test image $ cd samples/hello_world/microkernel $ make pristine ; make BOARD = arduino_101 flash 4 . Verify the UART output Expected result = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Hello World ! Actual result ( Nothing ) 5 . Verify CONFIG_PINMUX = y in config $ grep CONFIG_PINMUX = y outdir/ . config Expected result = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = CONFIG_PINMUX = y Actual result ( Nothing ) User Impact UART can't print anything . ( Imported from Jira ZEP-109 )	1	0
2 2 1.8 2.0 1.6 2.0 1.3 2.0 2.0 2.0 1.1153846153846154 52 1.0 9 15 26 98	Do we need to update fatfs . We seem to be using version 0.12 b , there is now version 0.13 c + patches at : < URL > Does this need to be updated for 1.14 / LTS release ?	2	1
1 1 0.8 1.0 1.2 1.0 1.05 1.0 0.6666666666666666 1.0 1.6666666666666667 3 2.0 1 6 12 86	tests/kernel/smp : Test fails , scheduler schedules the threads on only one core . The test at tests/kernel/smp is failed as it is scheduling the threads on only one core . Please refer the sample log : Board used : ESP32 build/zephyr/ . config : CONFIG_SMP = y CONFIG_MP_NUM_CPUS = 2 I just added few prints in the code , to recheck that , : @@ -21 , 11 +21 , 14 @@ K_THREAD_STACK_DEFINE(t2_stack , T2_STACK_SIZE ); struct k_thread t2 ; volatile int t2_count ; +int main_core , t2_core ; #define DELAY_US 50000 void t2_fn(void * a , void * b , void * c ) { + t2_core = _arch_curr_cpu () -> id ; + ARG_UNUSED(a ); ARG_UNUSED(b ); ARG_UNUSED(c ); @@ -46 , 7 +49 , 8 @@ void t2_fn(void * a , void * b , void * c ) void test_main(void ) { int i , ok = 1 ; + main_core = _arch_curr_cpu () -> id ; /* Sleep a bit to guarantee that both CPUs enter an idle * thread from which they can exit correctly to run the main * test . @@ -67 , 7 +71 , 7 @@ void test_main(void ) */ k_busy_wait(DELAY_US + ( DELAY_US / 8 )); - if ( t2_count <= i ) { + if ( t2_count <= i && main_core = = t2_core ) { ok = 0 ; break ; } @@ -76 , 6 +80 , 7 @@ void test_main(void ) if ( ok ) { TC_END_REPORT(TC_PASS ); } else { + printk('t2_core = %d , main_core = %d/n ' , t2_core , main_core ); TC_END_REPORT(TC_FAIL ); } } . Sample log : : ***** Booting Zephyr OS v 1.11.0 -613-g85e8eaa ***** t2_core = 0 , main_core = 0 = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = PROJECT EXECUTION FAILED .	1	0
1 1 1.0 1.0 1.0 1.0 1.45 1.0 1.0 1.0 1.7391304347826086 23 2.0 13 13 25 79	[ Coverity CID : 186842 ] Memory - illegal accesses in /drivers/interrupt_controller/plic . c . Static code scan issues seen in File : /drivers/interrupt_controller/plic . c Category : Memory - illegal accesses Function : plic_irq_handler Component : Drivers CID : 186842 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.2 1.0 1.4 1.5 1.5 2.0 1.6666666666666667 2.0 1.5 20 1.5 1 4 5 46	samples : audio : sof : compilation issue , include file not found . . Describe the bug While running automatic tests on STM32 test bench , samples/audio/sof build fails to build . This appends on all STM32 boards but could also be seen on NON STM32 ( frdm_k64f ) This is a new sample introduced by #30336 To Reproduce Steps to reproduce the behavior : 1 . scripts/twister -- ninja -- runtime-artifact-cleanup -b -p nucleo_f429zi -T samples/audio/sof/ -- outdir . /log_db_audio 2 . See error Expected behavior Build successful or sample not build for those boards Logs and console output : In file included from /home/osboxes/zephyr/zephyr_project/modules/audio/sof/zephyr/ .. /src/arch/xtensa/include/arch/drivers/timer . h : 13 , from /home/osboxes/zephyr/zephyr_project/modules/audio/sof/zephyr/ .. /src/include/sof/drivers/timer . h : 11 , from /home/osboxes/zephyr/zephyr_project/modules/audio/sof/src/lib/clk . c : 10 : /home/osboxes/zephyr/zephyr_project/modules/audio/sof/zephyr/ .. /src/include/sof/drivers/interrupt . h : 11:10 : fatal error : platform/drivers/interrupt . h : No such file or directory 11 | #include < platform/drivers/interrupt . h > . Environment ( please complete the following information ): - OS : Linux - Toolchain Zephyr SDK - Commit SHA : 536f0f5acbce4c974709d5c5ce224eaac6b08022 Additional context In : sample . yaml . there is : : integration_platforms : - intel_adsp_cavs15 . So is it normal that twister try to build for other platforms ? ( I don't catch exactly the difference between : integration_platforms . and : platform_allow . )  	0	0
1 1 1.6 2.0 1.7 2.0 1.6 2.0 1.6666666666666667 2.0 1.0 2 1.0 2 6 16 89	Bluetooth : GATT : fix registering services before stack is initialized . When registering and unregistering a BLE GATT service , a work item related to service changed indication is submitted to a potentially uninitialized work queue ( #9785 ) . This patch adds a check for stack initialization before attempting to submit any item to the work queue . @Vudentz could you please review my changes ? CC : @carlescufi @cvinayak	1	0
2 2 1.0 1.0 1.1 1.0 1.45 2.0 0.6666666666666666 0.0 1.0724421209858104 1339 1.0 14 20 26 88	BLE central error ' ATT Timeout ' when subscribing to NOTIFY attr . Reported by Neha Purushothaman : I am using BOARD quark_se_c1000_devboard with nrf51 Raytac module running hci_uart as controller . I have the sample projects : central_hr and peripheral_hr on 2 boards , without any modifications . I always get an error message : ' at t_t imeout : ATT Timeout ' after every 30th notify-data in the central serial-output . And then it unsubscribes . Please let me know if any additional information is required . ( Imported from Jira ZEP-2200 )  	0	0
2 2 1.8 2.0 1.4 2.0 1.45 2.0 2.0 2.0 1.3636363636363635 22 1.5 0 0 4 104	Improve build times with userspace . Enabling user mode causes the build to run significantly slower . With warm caches ninja increases it's build time from 1 to 6 seconds . The script with this performance bug is sebo @mach : ~ /zephyr/tests/shell/b$ time /usr/bin/python3 /home/sebo/zephyr/scripts/gen_priv_stacks . py -- kernel /home/sebo/zephyr/tests/shell/b/zephyr/priv_stacks_prebuilt . elf -- output priv_stacks_hash . gperf real 0m 2.493 s This should be optimized such that incremental builds , which are a part of a developers workflow and therefore user experience , is not harmed .	2	1
0 0 0.8 1.0 0.9 1.0 0.85 1.0 0.6666666666666666 1.0 0.9579439252336449 214 1.0 6 7 34 98	Offload LE SC ECC calculations to task . Reported by Szymon Janc : On microkernel we could offload ECC calculations to a task to not block rx fiber . ( Imported from Jira ZEP-371 )  	0	1
2 2 1.0 1.0 1.0 1.0 1.05 1.0 1.3333333333333333 1.0 0.9663551401869159 535 1.0 21 43 53 134	API changes to memory pools . Reported by Benjamin Walsh : A potpurri of memory pool-related enhancements : Allow users to specify alignment of memory pool blocks . ( Requires an extra argument during initialization . ) Alignment would apply to the minimum block size . All larger block sizes would automatically have this alignment . Probably need to insist that minimum block size be a multiple of specified alignment to eliminate the need for padding bytes . ( Imported from Jira ZEP-926 )  	0	1
2 2 1.6 2.0 1.8 2.0 1.55 2.0 1.3333333333333333 2.0 1.0736342042755345 842 1.0 4 4 13 116	AIO : AIO Comparator is not stable on D2000 and Arduino101 . Reported by Qiu Peiyang : AIO comparator is not stable on Quark D2000 CRB and Arduino_101 and sometimes cannot generate an interrupt when pin voltage changes . = = = = = = = = = = x86 ARC Quark D2000 CRB Arduino_101 Bug detailed description AIO comparator ISR fails to be invoked when the voltage changes on AIO pin . Test Steps : Apply < URL > Adapt aio_basic_api/src/main . c , delete the comments . Connect PIN_OUT and PIN_IN following aio_basic_api/src/test_callback . c Flash the app to target board . You can see the console output from uart console . Expected Result : Callback should be trigger when polarity is RISE or FALL . Actual Result : Mostly , callback won't be invoked . ( Imported from Jira ZEP-1438 )	1	0
2 2 1.8 2.0 1.4 2.0 1.5 2.0 2.0 2.0 1.3076923076923077 13 1.0 1 1 5 115	gen_app_partitions scans object files unrelated to current image . Describe the bug The : gen_app_partitions . py . does a directory walk here : < URL > This is wrong for two reasons : - It will include left-over objects that is no longer part of the build , if sample has been reconfigured ( incremental builds will not clean up ) - When external project is used , and the binary dir of that project is a sub-folder of the current sample , then the object files of the external image will also be processed , although they are completely unrelated to current image build . To Reproduce tricky , needs special skills . Ask @tejlmand . Expected behavior Only object files for current image should be considered . Impact What impact does this issue have on your progress ( e.g. , annoyance , showstopper ) Logs and console output If applicable , add console logs or other types of debug information e . g Wireshark capture or Logic analyzer capture ( upload in zip archive ) . copy-and-paste text and put a code fence (```) before and after , to help explain the issue . ( if unable to obtain text log , add a screenshot ) Environment ( please complete the following information ): - OS : Linux , but same is expected on other OS'es - Toolchain Zephyr SDK - f2d2a48b96172c768ec81ed1f1962ece6eef6b87 Additional context N/A	1	0
0 0 0.8 1.0 0.7 1.0 1.3 1.0 0.6666666666666666 1.0 1.0698812019566737 1431 1.0 11 14 18 84	Create Release Notes for 1.9 . Reported by Mark Linkmeyer : Create the release notes in time for the release . - Have the initial draft of the release notes ready for review by M4 - Have the final release notes ready by M5 ( Imported from Jira ZEP-2339 )  	0	1
0 0 1.2 1.0 1.0 1.0 0.95 1.0 1.0 1.0 1.0787037037037037 864 1.0 4 8 25 118	BLE Connection Parameter Request/Response Processing . Reported by Gajinder Vij : As a Zephyr developer , I would like a way for my application to determine whether an incoming connection parameter update request gets accepted or rejected , and if it gets accepted , to provide a way to specify which parameters it gets accepted with . ( Imported from Jira ZEP-1474 )  	0	1
2 2 2.0 2.0 1.7 2.0 1.55 2.0 2.0 2.0 1.303030303030303 99 1.0 2 6 8 55	nordic : west flash no longer supports changing `CONFIG_GPIO_PINRESET` when flashing . 6628a16e4d7aa46e57fd2cc8796592983bcc6516 changed the behavior of west flash , which formerly used : -- eraseall . which clears both flash and UICR . : CONFIG_GPIO_PINRESET = n . is intended to support not programming : NRF_UICR -> PSELRESET . to c o-o pt the reset pin for the reset function , instead leaving it available for the application to use as a button . It appears that the west change prevents these registers in UICR from being cleared , so that flashing a new image that changes the intended PSELRESET value has no effect . The workaround is bypass west and use : nrfjprog -- eraseall . , but there probably should be some way to do it in west .	2	0
2 2 1.0 1.0 0.9 1.0 0.9 1.0 1.0 1.0 1.084729981378026 1074 1.0 13 14 37 109	sending LE COC data from RX thread can lead to deadlock . Reported by Szymon Janc : Sending L2CAP data from RX thread can lead to a deadlock if no credits are available . Deadlock occurs due to RX thread waiting on credits semaphore is not able to process incoming credits that would unblock this semaphore . As discussed offline , correct solution for that would be to use TX thread ( or dedicated thread ) for sending data while l2cap send would only queue data . ( Imported from Jira ZEP-1776 )	1	0
0 0 1.2 1.0 1.3 1.5 1.2 1.0 1.3333333333333333 2.0 1.2444444444444445 45 1.0 1 58 73 111	undefined reference when enabling CONFIG_STACK_CANARIES . Add : : CONFIG_STACK_CANARIES = y . to your choice of application ( e.g. : hello_world . ) and platform ( e.g. : nrf52840_pca10056 . , : mimxrt1060_evk . , : hifive1_revb . ) and builds will fail : : Memory region Used Size Region Size %age Used FLASH : 14736 B 1 MB 1.41% SRAM : 3956 B 256 KB 1.51% IDT_LIST : 56 B 2 KB 2.73 /usr/local/zephyr-sdk- 0.10.3 /arm-zephyr-eabi/bin/ .. /lib/gcc/arm-zephyr-eabi/ 8.3.0 / .. / .. / .. / .. /arm-zephyr-eabi/bin/ld : zephyr/kernel/libkernel . a(init . c . obj ): in function `z_early_boot_rand_get ' : /mnt/nordic/zp/zephyr/kernel/init . c : 469 : undefined reference to `sys_rand32_get ' collect2 : error : ld returned 1 exit status .	1	0
2 2 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 1.3048885077186965 2332 1.0 31 34 40 92	[ Coverity CID : 238355 ] Logically dead code in tests/bluetooth/tester/src/mesh . c . Static code scan issues found in file : < URL > Category : Control flow issues Function : : config_mod_pub_set . Component : Tests CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > For more information about the violation , check the < URL > . ( < URL > ) Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.6 2.0 1.4 1.5 1.3 1.0 1.6666666666666667 2.0 1.1904761904761905 21 1.0 13 35 44 155	tests/kernel/xip crasshes on minnowboard . Toolchain : ZEPHYR_GCC_VARIANT = zephyr Commit ec7d483b5bedc833b6401d9bed31dfd291ae0b64 Which most likely is because minnowboard boots off a bootloader and this testcase should just be excluded . Anyhow , this is what happens ( line numbers added to comment later ) : 1 >>>> SecStartup 2 >>>> MemoryInit Done 3 >>>> BdsEntry 4 [= 3h [ = 3h [ = 3h [ = 3h [ = 3h [ = 3h 5 >>>> Start boot option , Press < F2 > or < DEL > to enter setup page(5 Sec ) ..... 6 UEFI Interactive Shell v 2.2 7 EDK II 8 UEFI v 2.60 ( EDK II , 0x00010000 ) 9 Mapping table 10 FS0 : Alias(s ): HD0b0b :; BLK1 : 11 PciRoot(0x0)/Pci(0x14 , 0x0)/USB(0x1 , 0x0)/HD(1 , GPT , 19BF1E70-3CB6-4304-9893-EEF1E04456AC , 0x800 , 0x2CCCB ) 12 BLK0 : Alias(s ): 13 PciRoot(0x0)/Pci(0x14 , 0x0)/USB(0x1 , 0x0 ) 14 Press ESC in 5 seconds to skip startup . nsh or any other key to continue . Press ESC in 4 seconds to skip startup . nsh or any other key to continue . Press ESC in 3 seconds to skip startup . nsh or any other key to continue . Press ESC in 2 seconds to skip startup . nsh or any other key to continue . Press ESC in 1 seconds to skip startup . nsh or any other key to continue . 15 Shell > fs0 : /EFI/BOOT/bootx64 16 TCF Booting kernel-623acb9223 . elf from root device hd0 , gpt1 17 WARNING : no console will be available to OS 18 error : no suitable video mode found . 19 >>>> SecStartup 20 >>>> MemoryInit Done . 1 boot sequence starts from BIOS , goes to EFI ( 6 ) , grub2 ( 15 ) . On 18 , control is transferred to Zephyr . Nothing happens and the system resets ( 19 ) and BIOS starts again .	2	0
0 0 1.0 1.0 1.4 2.0 1.25 1.0 1.0 1.0 1.0224215246636772 669 1.0 6 14 18 78	thread options : ' kernel . h ' and ' Kernel Primer v2 ' inconsistent . Reported by Sharron LIU : ' kernel . h ' mentioned in the doxygen comments of k_thread_spawn () that parameter ' options ' is not used . While the ' Kernel Primer V2 ' mentioned three options can be passed . the header file : : * @param options Not used currently . * @param delay Duration of execution delay in milliseconds * * @return Kernel thread identifier */ extern k_tid_t k_thread_spawn(char * stack , unsigned stack_size , . the document : < URL > ( Imported from Jira ZEP-1193 )	2	2
1 1 1.2 1.0 1.3 1.0 1.2 1.0 1.0 1.0 1.4791666666666667 48 2.0 19 25 48 277	[ Coverity CID : 197458]Insecure data handling in /subsys/usb/usb_device . c . Static code scan issues seen in File : /subsys/usb/usb_device . c Category : Insecure data handling Function : usb_set_interface Component : Other CID : 197458 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.4 1.0 1.5 1.5 1.3333333333333333 1.0 0.6666666666666666 12 0.5 0 4 16 53	tests/kernel/mem_protect/stackprot hangs without any console output on nrf51/52 . The test tests/kernel/mem_protect/stackprot and tests/kernel/mem_protect/stack_random hangs without any console log or error message . Arch : arm Board : nrf51/52 - nrf51_pca10028 : arm , nrf52_pca10040 : arm , nrf52840_pca10056 : arm Zephyr commit : f3bc967e499b6dd252c7b407c7019460a66a1174 Toolchain : ZEPHYR_TOOLCHAIN_VARIANT = zephyr Error : No console log available at all . Steps to reproduce : : cd zephyr/tests/kernel/mem_protect/stackprot rm -rf build && mkdir build && cd build cmake -D BOARD = nrf52_pca10040 .. / make BOARD = nrf52_pca10040 flash Check the console log . . Sample Expected output : : ***** delaying boot 1000ms ( per build configuration ) ***** ***** Booting Zephyr OS v 1.12.0 -1543-gf3bc967 ( delayed boot 1000ms ) ***** Starts alternate_thread alternate_thread : Input string is too long and stack overflowed ! ***** Stack Check Fail ! ***** Current thread ID = 0x20000030 Faulting instruction address = 0x78ec Fatal fault in thread 0x20000030 ! Aborting . Running test suite stackprot = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = starting test - test_stackprot test_stackprot : Stack ok test_stackprot : Stack ok test_stackprot : Stack ok test_stackprot : Stack ok test_stackprot : Stack ok test_stackprot : Stack ok PASS - test_stackprot = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = RunID : : pa7o PROJECT EXECUTION SUCCESSFUL .  	0	0
2 2 1.6 2.0 1.3 1.5 1.45 2.0 2.0 2.0 1.290909090909091 55 1.0 2 4 17 111	Move tests/subsys/fs/multi-fs/src/test_fs_shell to new shell . tests/subsys/fs/multi-fs/src/test_fs_shell still using old shell .	2	1
1 1 0.8 1.0 0.9 1.0 1.05 1.0 1.0 1.0 1.4421768707482994 147 1.0 30 38 50 105	[ Coverity CID : 203393]Control flow issues in /subsys/bluetooth/controller/ll_sw/ull_conn . c . Static code scan issues seen in File : /subsys/bluetooth/controller/ll_sw/ull_conn . c Category : Control flow issues Function : length_req_rsp_recv Component : Bluetooth CID : 203393 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.5 2.0 1.05 1.0 1.3333333333333333 2.0 1.5714285714285714 7 2.0 1 9 22 67	sanitycheck : replace cmake -H ' not meant for public use ' with -S . < URL > Signed-off-by : Marc Herbert < URL >	2	1
1 1 1.4 2.0 1.3 1.5 1.3 1.5 1.0 1.0 0.0 0 0.0 4 12 23 141	FCB support for non-0xFF flash erase values . Is your enhancement proposal related to a problem ? Please describe . Currently FCB is able to work with flash devices that erase to 0xFF values . Since it's implementation new devices have appeared that use non-0xFF erase values ( 0x00 ) , which is not supported by the FCB as it relies on 0xFF as an erased/empty value in some cases . Describe the solution you'd like Make FCB flash erase value independent . Describe alternatives you've considered There is none as long as FCB is to be used . Additional context The flash API now supports : flash_get_parameters . that returns : flash_parameters . structure that has : erase_value . member , which is initialized by driver with the erase value .	2	1
1 1 1.6 2.0 1.5 2.0 1.35 1.5 1.6666666666666667 2.0 1.0 3 1.0 3 3 12 64	SimpleLink WiFi host driver should revert back to using static memory model . Describe the bug During the upgrade to TI SDK 2.40 , the SimpleLink WiFi host driver code has moved to using the dynamic memory model . This only works well if malloc () is thread-safe , but the implementation in newlib does not appear to be . So it is best to revert back to using static memory allocation in the driver , the way it used to be before the upgrade . Impact Memory corruption issues might occur if SimpleLink host driver is used concurrently with other threads calling malloc () . Environment ( please complete the following information ): - OS : Linux - Zephyr SDK 0.10.1 - Commit SHA : 92ddf63cb80141bc6a032f2c96801556b2f755bd	1	0
1 1 1.2 1.0 1.2 1.0 1.35 1.0 1.0 1.0 1.5757575757575757 33 2.0 12 15 30 75	[ Coverity CID : 187070 ] Control flow issues in /drivers/bluetooth/hci/spi . c . Static code scan issues seen in File : /drivers/bluetooth/hci/spi . c Category : Control flow issues Function : bt_spi_rx_thread Component : Bluetooth CID : 187070 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
2 2 1.6 2.0 1.6 2.0 1.35 1.5 1.3333333333333333 2.0 0.0 0 0.0 2 2 13 56	samples/drivers/spi_fujitsu_fram crashs due to uninitialized variables . Describe the bug A clear and concise description of what the bug is . In < URL > the spi_cfg struct has not been properly initialized , and has whatever was on the stack for the struct . particularly this means taht the . cs property may contain garbage . The following code in the driver gets triggered : : data -> ctx . config = config ; 8005a90 : 9b0a ldr r3 , [ sp , #40 ] ; 0x28 8005a92 : 601f str r7 , [ r3 , #0 ] if ( ctx -> config -> cs && ctx -> config -> cs -> gpio_dev ) { 8005a94 : 2900 cmp r1 , #0 8005a96 : f000 8162 beq . w 8005d5e < spi_stm32_transceive+0x49a > . I get a bus fault on the attempt to deref ctx -> config -> cs -> gpio_dev , as cs is garbage . either explicitly setting . cs = 0 , or intializing the struct with = { 0 } works to avoid the bus fault . Expected behavior working code on all platforms with spi . Presumably will work on platforms or not , depending on how cs is being handled out of the box for each board . Impact What impact does this issue have on your progress ( e.g. , annoyance , showstopper ) tedious inability to get viable spi demostrations , so ... shrugs big for me . Screenshots or console output If applicable , add a screenshot ( drag-and-drop an image ) , or console logs ( cut-and-paste text and put a code fence (```) before and after , to help explain the issue . Environment ( please complete the following information ): - OS : linux - Toolchain gcc-arm-embedded - Commit SHA 178f16f9e9 ( 2.0 master )	2	0
2 2 1.8 2.0 1.5 1.5 1.7 2.0 1.6666666666666667 2.0 0.0 0 0.0 0 4 23 198	native_posix doesn't call main function that's defined in C++ . native_posix uses < URL > : #define main (...) zephyr_app_main(__VA_ARGS__) . to rename the app's main to something else ( which is presumably linked with a n o-o p weak symbol that gets overridden by the app's main if it exists ) . This works fine in C , but if you define your main function in a C++ file , because the function name isn't the magically special-cased ' main ' anymore , the function name gets mangled into something along the lines of : _Z15zephyr_app_mainv . ( for : void main(void ) . ) , which results in the main function getting silently ignored . I'm not sure there's actually any way to make the macro work : you can't use : asm . to specify the name of the symbol in the definition of a function , only the declaration . If it's possible to require main to be : void(void ) . , ~ the macro could be replaced by a forward declaration of : void main(void ) asm('zephyr_app_main ' ) . ~ an : extern ' C ' . forward declaration of zephyr_app_main could be added : #if defined(__cplusplus ) . , but this might break existing code . Grepping around , it looks like there's one sample that might be broken by this : < URL >	2	0
0 0 0.0 0.0 0.0 0.0 0.35 0.0 0.0 0.0 1.0145985401459854 685 1.0 13 24 32 91	Create test for stack kernel object using native unified kernel API . Reported by Anas Nashif : Verify stack object , its APIs and features as documented in the kernel primer and he API documentation . Please refer to the existing tests for the nano/micro kernels . The new test should utilise the ztest framework . ( Imported from Jira ZEP-1213 )  	0	1
2 2 1.4 2.0 1.3 1.5 1.35 1.5 1.3333333333333333 2.0 1.0 9 1.0 10 36 55 270	 flash_map and flash_area . Doc of flash_map and flash_area are missing Provide a documentation .	2	2
2 2 1.4 2.0 1.2 1.0 1.3 1.0 1.6666666666666667 2.0 1.1515151515151516 33 1.0 9 9 21 86	gpio_mcux driver needs to validate pin parameters . In gpio_mcux driver the GPIO pin number is not checked for valid range and used as an index into the GPIO PCR register array , this can be accessed out of bounds by sending high pin numbers . Pin input is 32-bit value and access_op is also an input controllable by a user thread . Value written is the pin mask operation and not user input , priority is lower because of this .	2	0
0 0 0.6 1.0 1.3 1.5 1.3 1.5 0.3333333333333333 0.0 0.9894736842105263 475 1.0 49 53 56 99	Thread requirements in RFC4291 . Reported by Gajinder Vij : The Thread Protocol imposes the following requirements on RFC4291 : RFC 4291.2 : IPv6 Addressing RFC 4291.2.1 : Addressing Model RFC 4291.2.2 : Text Representation of Addresses RFC 4291.2.3 : Text Representation of Address Prefixes RFC 4291.2.4 : Address Type Identification RFC 4291.2.5 : Unicast Addresses RFC 4291.2.5.1 : Interface Identifiers RFC 4291.2.5.2 : The Unspecified Address RFC 4291.2.5.3 : The Loopback Address RFC 4291.2.5.4 : Global Unicast Addresses RFC 4291.2.5.6 : Link-Local IPv6 Unicast Addresses RFC 4291.2.6 : Anycast Addresses RFC 4291.2.8 : A Node Required Addresses ?Note : A Node MAY recognize the loopback address RFC 4291.2.6.1 : Required Anycast Address RFC 4291.2.7 : Multicast Addresses RFC 4291.2.7.1 : Pre-Defined Multicast Addresses ( Imported from Jira ZEP-836 )  	0	1
1 1 0.8 1.0 1.1 1.0 1.25 1.0 0.6666666666666666 1.0 2.0 1 2.0 11 40 55 269	sanitycheck : document that -- save-tests appends to existing file . Fix -- help message . Also rename run_report () to save_tests () as it's used only once by -- save-tests and nowhere else . Maybe the code was shared with some -- other-report feature in the past but not any more . Signed-off-by : Marc Herbert < URL >	2	2
2 2 2.0 2.0 1.7 2.0 1.85 2.0 2.0 2.0 1.2566539923954372 2104 1.0 53 119 127 191	[ Coverity CID : 219591 ] Untrusted divisor in drivers/sensor/bme680/bme680 . c . Static code scan issues found in file : < URL > Category : Insecure data handling Function : : bme680_sample_fetch . Component : Drivers CID : < URL > Details : < URL > Please fix or provide comments in coverity using the link : < URL > Note : This issue was created automatically . Priority was set based on classification of the file affected and the impact field in coverity . Assignees were set using the CODEOWNERS file .	2	0
1 1 1.0 1.0 1.3 1.5 1.1 1.0 1.3333333333333333 1.0 1.1102941176470589 136 1.0 11 14 14 34	Define I2S driver APIs . Reported by Kuo-Lang Tseng : Define I2S API to allow implementation of drivers supporting the I2S protocol . ( Imported from Jira ZEP-230 )	1	1
1 1 1.2 1.0 1.4 1.0 1.7 2.0 1.0 1.0 1.0 1 1.0 1 1 5 81	Bluetooth : settings : No space to store CCC config after successful pairing . When subsequent peer connects , enabling CCC fails even though pairing was successful . Steps to reproduce : - clear flash memory - pair BLE host A -> it connects , pairing successful , after reading GATT services host writes CCC and it is possible to send notifications . Disconnect host A . - pair BLE host B -> it connects , pairing successful , after reading GATT services there is warning : : [ bt ] [ WRN ] bt_gatt_attr_write_ccc : No space to store CCC cfg . CCC is not enabled and it is not possible to send notifications . Reproduced on BLE peripheral , nRF52840 , BT_MAX_PAIRED = 2 . @Vudentz please let me know if you need additional information .	1	0
1 1 1.0 1.0 1.2 1.0 1.25 1.0 1.0 1.0 1.457142857142857 70 1.0 3 3 13 67	[ Coverity CID : 188757]Memory - illegal accesses in /subsys/bluetooth/shell/bt . c . Static code scan issues seen in File : /subsys/bluetooth/shell/bt . c Category : Memory - illegal accesses Function : cmd_directed_adv Component : Bluetooth CID : 188757 Please fix or provide comments to square it off in coverity in the link : < URL >	1	0
0 0 0.6 1.0 0.8 1.0 0.85 1.0 0.3333333333333333 0.0 1.0783078307830782 1111 1.0 8 20 24 128	Implement missing functionality for handling of IPv6 next header ( HBH hop-by-hop-option ) which holds RPL related information . . Reported by Ravi kumar Veeramally : RPL related information is kept in IPv6 next header ( HBH hop-by-bop ) and not handled properly . ( Imported from Jira ZEP-1841 )	1	1
0 0 0.8 1.0 0.7 1.0 0.85 1.0 0.3333333333333333 0.0 1.0016207455429498 617 1.0 4 7 15 69	Consider subdividing applications into different categories . Reported by Carles Cufi : As a Zephyr user I would like to be able to determine which applications are meant for consumption as-is and which others are starting points for me to add the code required to implement a product . Currently all applications are under samples/ . The issue is that a new type of application , the ' firmware ' or ' build ' application has appeared with the introduction of samples/bluetooth/hci-uart . This application actually transforms Zephyr into the firmware build of a Bluetooth Low Energy controller , which will probably undergo qualification at some point . As such , it is not directly intended as a starting point , but rather as a ' product ' in itself . A solution to this confusing state of affairs could be to further subdivide the applications into multiple categories , one per folder : apps products/firmware/builds samples ** refdesigns ( Imported from Jira ZEP-1092 )	1	1
1 1 0.6 0.0 0.7 1.0 0.8 1.0 0.3333333333333333 0.0 1.0777262180974478 862 1.0 2 9 23 116	Support for the KW22D512 Kinetis MCU based USB Dongle . Reported by Johann Fischer : Add support for the KW22D512 Kinetis MCU based USB Dongle for 802.15.4 USB-KW24D512 , ( manufacturer NXP , former Freescale ) phySTICK-KW2x , ( manufacturer Phytec ) ( Imported from Jira ZEP-1472 )	1	1
1 1 0.8 1.0 0.9 1.0 1.2 1.0 0.6666666666666666 1.0 1.0 2 1.0 1 3 18 109	net : arp : Zephyr replies to multicast address cause of malfored ARP request . Zephyr replies to IPv4 packets from multicast address after reception of ARP Request with Hardware and Protocol Sender Address set to multicast . This ARP Request should be dropped instead and translation table should not be updated . Note : Zephyr sets source IP address to 0.0.0.0 in all of the responses ( TCP , UDP , ICMP ) . < URL > < URL > < URL >	1	0
0 0 0.4 0.0 0.4 0.0 0.6 0.0 0.0 0.0 1.076625386996904 1292 1.0 7 9 18 71	Static code scan ( coverity ) issues seen . Reported by Shilpashree L C : As per the Coverity last analyses on April 18 , 2017 , there were potential defects that were found in /samples/drivers/ file has mentioned below . Please fix or provide comments to square it off in coverity : < URL > ||CID|| ||Type|| ||Category|| ||File|| ||Function || |151980| |Dereference after null check| |Null pointer dereferences| |/samples/drivers/lcd_hd44780/src/main . c| |main| |169301| |Dereference before null check| |Null pointer dereferences| |/samples/net/echo_client/src/echo-client . c| |compare_udp_data| ( Imported from Jira ZEP-2137 )  	0	0
1 1 1.2 1.0 1.3 1.0 1.45 2.0 1.0 1.0 1.1428571428571428 7 1.0 9 24 41 83	tests/drivers/gpio/gpio_basic_api : test_gpio_deprecated step fails on STM32 boards . Describe the bug While running tests/drivers/gpio/gpio_basic_api on STM32 boards ( nucleo_f746zg , nucleo_f207zg ... ) , the step ' falling edge ' of test_gpio_deprecated step fails . To Reproduce Steps to reproduce the behavior : 1 . west -v build -p auto -b nucleo_f746zg tests/drivers/gpio/gpio_basic_api/ 2 . See error Expected behavior Test Passed Screenshots or console output starting test - test_gpio_deprecated callback triggered : 1 INT cfg 50000 , cnt 1 FAIL - test_callback @86 . config PIN_IN fail : -16 : Assertion failed at WES T_T OPDIR/zephyr/tests/drivers/gpio/gpio_basic_api/src/test_deprecated . c : 159 : test_gpio_deprecated : ( test_callback(GPIO_INT_EDGE | GPIO_INT_ACTIVE_LOW ) not equal to TC_PASS ) . falling edge failed FAIL - test_gpio_deprecated	2	0
0 0 1.0 1.0 1.1 1.0 1.3 1.0 0.6666666666666666 0.0 1.2533333333333334 75 1.0 6 19 31 73	drivers/spi : stm32 : Fix use of single dma channel . Current dma struture code didn't allowed only rx channel removal , disabling tx channel ( in spi client node ) was leading compilation issue . Fix this by moving conditional code inside SPI_DMA_CHANNEL macro and get the part of code which is present or removed ( SPI_DMA_CHANNEL_INIT ) outside of {} . Fixes #25284 Signed-off-by : Erwan Gouriou < URL >	1	0
2 2 1.4 1.0 1.5 1.5 1.65 2.0 1.3333333333333333 1.0 1.6666666666666667 12 2.0 1 2 24 101	QEMU special key handling is broken on qemu_cortex_a53 . Describe the bug QEMU special key handling ( : CTRL+A , ... . ) is broken on : qemu_cortex_a53 . . For example , when you press the : CTRL+a , a . key sequence , QEMU should exit , but that doesn't work ; same goes for : CTRL+a , c . that is supposed to bring up console . It is necessary to : kill -9 . the QEMU pid in order to exit QEMU . To Reproduce Run any test/sample on : qemu_cortex_a53 . . Expected behavior : CTRL+a , ... . key sequences work . Impact The usability of : qemu_cortex_a53 . , the only emulated AArch64 platform , is limited . Environment ( please complete the following information ): - OS : Ubuntu 18.04 - Toolchain : Zephyr SDK - Commit SHA : 4e4139cf9e2a586ce6b3d5ab6e6b41d59df17b21 Additional context The offending commit is f156057b20e5da97bf7108b9e092e6f943e017f1 ( < URL > Note that the tests and samples are still functional . While it is possible that this is a QEMU bug , it is more likely that we have an incorrect DTS configuration for one of the interrupts ( e.g. specifying edge-triggered interrupts as level-triggered ) .	1	0
0 0 0.0 0.0 0.0 0.0 0.4 0.0 0.0 0.0 1.0106221547799696 659 1.0 3 6 21 73	Event group kernel APIs . Reported by Sakari Poussa : Add new kernel API for event groups . Similar to Windows WaitForMultipleObjects () or Posix Condition variables pthread_cond_timedwait () . Having such API would make it easier to port applications to Zephyr . ( Imported from Jira ZEP-1171 )	1	1
1 1 1.2 1.0 1.3 1.0 1.15 1.0 1.0 1.0 0.0 0 0.0 4 16 24 93	Bluetooth mesh message context API needs to expose DST address of RX messages . bt_mesh_msg_ctx contains a field , addr which is the remote address of the sending device i.e. the SRC field . It does not currently include the destination address ( DST ) set by the sender . The mesh models spec describes various rules for handling identical transactions . For example in 3.3.2.2.2 it says ' ... it shall set the Generic Level state to the Level field of the message , unless the message has the same values for the SRC , DST , and TID fields as the previous message received within the last 6 seconds ' . Note that the condition includes matching on the DST value . It's possible for a device to change the DST address it is using . For example , you can imagine a rotary wall dimmer with a ' zone ' selector . The selector may have two positions : 1 - group A and 2 - group B . The selector affects what DST the dimmer uses when sending Delta Set messages . Summary : please make the DST field from RX messages available in the API , presumably by adding it to bt_mesh_msg_ctx . Thanks	1	1
0 0 0.0 0.0 0.1 0.0 0.2 0.0 0.0 0.0 0.9705882352941176 136 1.0 5 6 22 135	Convert ubsys/ipc/rpmsg_service/rpmsg_backend . c to new kwork API . Convert subsys/ipc/rpmsg_service/rpmsg_backend . c to use new kwork API . See the following issue for details : 33104  	0	0
